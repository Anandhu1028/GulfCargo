{
    "sourceFile": "resources/views/branches/shipments/edit.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 19,
            "patches": [
                {
                    "date": 1733309624070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1733309654849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,8 @@\n                                                     <select name=\"sender_id\" id=\"sender_id\" class=\"form-control select2\" required>\n                                                         <option value='' selected=\"selected\">Select</option>\n                                                         @foreach (get_customers('sender')->where('branch_id', branch()->id) as $sender)\n                                                         <option value=\"{{ $sender->id }}\"\n-                                                        {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }}\n                                                         data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n                                                         data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n                                                         data-name=\"{{$sender->name ?? ''}}\"\n                                                         data-email=\"{{$sender->email ?? ''}}\"\n@@ -208,9 +207,8 @@\n                                                     <select name=\"receiver_id\" id=\"receiver_id\" class=\"form-control select2\" required>\n                                                     <option value='' selected=\"selected\">Select</option>\n                                                     @foreach (get_customers('receiver')->where('branch_id', branch()->id) as $receiver)\n                                                     <option value=\"{{ $receiver->id }}\"\n-                                                    {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n                                                         data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n                                                         data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n                                                         data-name=\"{{$receiver->name ?? ''}}\"\n                                                         data-email=\"{{$receiver->email ?? ''}}\"\n@@ -515,100 +513,159 @@\n                                                         <button type=\"button\" id=\"removeBox{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-danger removeBox\">Delete Box</button>\n \n                                                         </div>\n                                                     </div>\n-                                                    <div class=\"col-md-2\">\n+                                                    <div class=\"row \">\n+                                                        <p style=\"font-size: 12px;margin: unset; margin-left: 9px; color:red;\" id=\"noBoxFound{{$i+1}}\"></p>\n+                                                        <div class=\"col-12 d-flex\">\n+                                                            <input type=\"text\" class=\"form-control col-3 oldBoxNo{{$i+1}}\" placeholder=\"Box number\">\n+                                                            <button type=\"button\"  class=\"btn btn-primary col-1 ml-2 oldBoxFill{{$i+1}} fillAdress\" data-boxId={{$i+1}} >Fill</button>\n+                                                        </div>\n+                                                        <div class=\"col-5 box_details\">\n+                                                            <div class=\"form-group \">\n+                                                                <label>Sender/Customer</label>\n+                                                                {{-- <select name=\"box_sender_id{{$i+1}}\" id=\"sender_id\" class=\"form-control select2\">\n+                                                                    <option value=\"\">Select</option>\n+                                                                    @foreach (get_customers('sender') as $sender)\n+                                                                        <option value=\"{{ $sender->id }}\"\n+                                                                            {{ ($box->sender_id == $sender->id) ? 'selected' : \"\" }}\n+                                                                            >{{ $sender->name }}</option>\n+                                                                    @endforeach\n+                                                                </select>\n+                                                                @error('sender_id')\n+                                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                                @enderror --}}\n+                                                            </div>\n+\n                                                             <div class=\"form-group\">\n+                                                                <label>Name</label>\n+                                                                <input type=\"text\" name=\"sender_name{{$i+1}}\" value=\"{{ $box->sender_name }}\" class=\"form-control sender_name\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Address</label>\n+                                                                <textarea name=\"sender_address{{$i+1}}\"  cols=\"10\" rows=\"10\" class=\"form-control sender_address\" style=\"height: 45px;\">{{ $box->sender_address }}</textarea>\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Pin</label>\n+                                                                <input type=\"text\" name=\"sender_pin{{$i+1}}\" value=\"{{ $box->sender_pin }}\" class=\"form-control sender_pin\" >\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Mobile</label>\n+                                                                <input type=\"text\" name=\"sender_mob{{$i+1}}\" value=\"{{ $box->sender_mob }}\" class=\"form-control sender_mob\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID Type</label>\n+                                                                <select name=\"sender_id_type{{$i+1}}\" id=\"\" class=\"form-control sender_id_type\">\n+                                                                    @if ($box->sender_id_type == 'Aadhar' || $box->sender_id_type == 'Aadhaar Number')\n+                                                                        <option value=\"Aadhaar Number\" selected>Aadhaar Number</option>\n+                                                                        <option value=\"Passport Number\">Passport Number</option>\n+                                                                    @else\n+                                                                        <option value=\"Aadhaar Number\">Aadhaar Number</option>\n+                                                                        <option value=\"Passport Number\" selected>Passport Number</option>\n+                                                                    @endif\n+\n+                                                                </select>\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID</label>\n+                                                                <input type=\"text\" name=\"sender_id_no{{$i+1}}\" value=\"{{ $box->sender_id_no }}\" class=\"form-control sender_id_no\" data-index=\"{{$i+1}}\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID Image</label>\n+                                                                <input type=\"hidden\" name=\"sender_id_image_value{{$i+1}}\" value=\"{{$box->sender_id_image}}\" class=\"sender_id_image_value\">\n+                                                                <input type=\"file\" name=\"sender_id_image{{$i+1}}[]\" value=\"{{ $box->sender_id_image }}\" class=\"form-control sender_id_image\" multiple>\n+                                                                @if ($box->sender_id_image)\n+                                                                    @foreach (json_decode($box->sender_id_image, true) as  $image)\n+                                                                    <a href=\"{{asset($image)}}\" class=\"pt-4 pb-2 pl-3\" download><img data-src=\"{{asset($image)}} \" class=\"id_img\" alt=\"img\" width=\"100\" height=\"50\" class=\"pt-2\" style=\"border: solid 1px; margin-top: 5px;\"> </a>\n+                                                                    @endforeach\n+                                                                @else\n+                                                                    <h6 class=\"pt-2\">No file is uploaded</h6>\n+                                                                @endif\n+                                                            </div>\n+\n+                                                        </div>\n+                                                        <div class=\"col-5 box_details\">\n+                                                            <div class=\"form-group \">\n+                                                                <label>Receiver/Customer</label>\n+                                                                {{-- <select name=\"box_receiver_id{{$i+1}}\" id=\"receiver_id\"\n+                                                                        class=\"form-control select2\">\n+                                                                        <option value=\"\">Select</option>\n+                                                                    @foreach (get_customers('receiver') as $receiver)\n+                                                                        <option value=\"{{ $receiver->id }}\"\n+                                                                        {{ ($box->receiver_id == $receiver->id) ? 'selected' : \"\" }}\n+                                                                        >{{ $receiver->name }}</option>\n+                                                                    @endforeach\n+                                                                </select>\n+                                                                @error('receiver_id')\n+                                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                                @enderror --}}\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Name</label>\n+                                                                <input type=\"text\" name=\"receiver_name{{$i+1}}\" value=\"{{ $box->receiver_name }}\" class=\"form-control receiver_name\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Address</label>\n+                                                                <textarea name=\"receiver_address{{$i+1}}\"  cols=\"10\" rows=\"10\" class=\"form-control receiver_address\" style=\"height: 45px;\">{{ $box->receiver_address }}</textarea>\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Pin</label>\n+                                                                <input type=\"text\" name=\"receiver_pin{{$i+1}}\" value=\"{{ $box->receiver_pin }}\" class=\"form-control receiver_pin\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Mobile</label>\n+                                                                <input type=\"text\" name=\"receiver_mob{{$i+1}}\" value=\"{{ $box->receiver_mob }}\" class=\"form-control receiver_mob\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID Type</label>\n+                                                                <select name=\"receiver_id_type{{$i+1}}\" id=\"\" class=\"form-control receiver_id_type\">\n+                                                                    @if ($box->receiver_id_type == 'Aadhar' || $box->receiver_id_type == 'Aadhaar Number' )\n+                                                                        <option value=\"Aadhaar Number\" selected>Aadhaar Number</option>\n+                                                                        <option value=\"Passport Number\">Passport Number</option>\n+                                                                    @else\n+                                                                        <option value=\"Aadhar\">Aadhar</option>\n+                                                                        <option value=\"Passport Number\" selected>Passport Number</option>\n+                                                                    @endif\n+                                                                </select>\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID</label>\n+                                                                <input type=\"text\" name=\"receiver_id_no{{$i+1}}\" value=\"{{ $box->receiver_id_no }}\" class=\"form-control receiver_id_no\" data-index=\"{{$i+1}}\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID Image</label>\n+                                                                <input type=\"hidden\" name=\"receiver_id_image_value{{$i+1}}\" value=\"{{$box->receiver_id_image}}\" class=\"receiver_id_image_value\">\n+                                                                <input type=\"file\" name=\"receiver_id_image{{$i+1}}[]\" value=\"{{$box->receiver_id_image}}\" class=\"form-control receiver_id_image\" multiple>\n+                                                                @if ($box->receiver_id_image)\n+                                                                    @foreach (json_decode($box->receiver_id_image, true) as  $image)\n+                                                                    <a href=\"{{asset($image)}}\" class=\"pt-4 pb-2 pl-3\" download><img data-src=\"{{asset($image)}} \" class=\"id_img\" alt=\"img\" width=\"100\" height=\"50\" class=\"pt-2\" style=\"border: solid 1px; margin-top: 5px;\"> </a>\n+                                                                    @endforeach\n+                                                                @else\n+                                                                    <h6 class=\"pt-2\">No file is uploaded</h6>\n+                                                                @endif\n+                                                            </div>\n+                                                        </div>\n+                                                        <div class=\"col-md-2\">\n+                                                            <div class=\"form-group\">\n                                                                 <label>Weight</label>\n                                                                 <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{ $box->weight }}\" class=\"form-control weight\">\n                                                                 {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                             </div>\n                                                         </div>\n-                                                        <div class=\"row\">\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                         \n-                                            <div class=\"row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Sender/Customer</label>\n-                                                    <select name=\"box_sender_id{{$i+1}}\" id=\"box_sender_id{{$i+1}}\" class=\"form-control select2\">\n-                                                        @foreach (get_customers('sender') as $sender)\n-                                                            <option value=\"{{ $sender->id }}\"\n-                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n-                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$sender->name ?? ''}}\"\n-                                                        data-email=\"{{$sender->email ?? ''}}\"\n-                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n-                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n-                                                        </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('sender_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-\n-                                            </div>\n-                 \n-                                        </div>\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                            \n-                                            <div class=\" row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Receiver/Customer</label>\n-                                                    <select name=\"box_receiver_id{{$i+1}}\" id=\"box_receiver_id{{$i+1}}\"\n-                                                            class=\"form-control select2\">\n-                                                        @foreach (get_customers('receiver') as $receiver)\n-                                                            <option value=\"{{ $receiver->id }}\"\n-                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n-                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$receiver->name ?? ''}}\"\n-                                                        data-email=\"{{$receiver->email ?? ''}}\"\n-                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n-                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n-                                                            </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('receiver_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-                                            </div>\n-                                            \n-                                        </div>\n-                                    </div> \n+                                                    </div>\n                                                     <div class=\"body box_und_calc\" id=\"packageinfo{{$i+1}}\" >\n                                                         <table class=\"table table-bordered packageinfo{{$i+1}}\">\n                                                             @foreach($box->packages as $j => $package)\n \n@@ -725,10 +782,13 @@\n                                                             <div class=\"col-md-2 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }} \" id=\"packing{{$i+1}}\">\n                                                                 <div class=\"form-group\">\n                                                                     <label>Packing</label>\n                                                                     <select name='packing{{$i+1}}' data-no='{{$i+1}}' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n-                                                                      \n+                                                                        {{-- <option value=''>Select</option> --}}\n                                                                         <option value='2' selected >Cargo Packing</option>\n+                                                                        {{-- <option {{ ($box->packing== 1) ? 'selected' : \"\" }} value='1'>Customer Packing</option>\n+                                                                        <option {{ ($box->packing== 2) ? 'selected' : \"\" }} value='2'>Cargo Packing</option> --}}\n+\n                                                                     </select>\n                                                                 </div>\n \n                                                             </div>\n@@ -744,16 +804,27 @@\n                                                                         </select>\n                                                                 </div>\n                                                             </div>\n \n+\n+\n+\n+\n+\n                                                         <div class=\"col-md-1\">\n                                                             <div class=\"form-group\">\n-                                                                <label>Volume</label>                                                              \n+                                                                <label>Volume</label>\n+                                                                {{-- <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"{{$box->unit_value}}\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\"> --}}\n                                                                 <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"15.19\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\">\n \n                                                             </div>\n                                                         </div>\n-                                                      \n+                                                        {{-- <div class=\"col-md-1\">\n+                                                            <div class=\"form-group\">\n+                                                                <label>Weight</label>\n+                                                                <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{$box->weight}}\" class=\"form-control box-weight\" data-weight=\"{{$i+1}}\">\n+                                                            </div>\n+                                                        </div> --}}\n                                                         <div class=\"col-md-1\">\n                                                             <div class=\"form-group\">\n                                                                 <label>Rate</label>\n                                                                 {{-- <input type=\"text\" name=\"rate{{$i+1}}\" value=\"{{$box->rate}}\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\"> --}}\n@@ -768,8 +839,9 @@\n                                                                 <!-- <input type=\"hidden\" name=\"box_name{{$i+1}}\" value=\"{{$box->box_name}}\" class=\"form-control box_name\"> -->\n                                                             </div>\n                                                         </div>\n \n+\n                                                         <div class=\"col-md-2\" id=\"box_packing_charge{{$i+1}}\">\n                                                         <div class=\"form-group\">\n                                                             <label>Packing charge</label>\n                                                             {{-- <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"{{$box->box_packing_charge}}\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/> --}}\n@@ -777,8 +849,11 @@\n \n                                                         </div>\n                                                         </div>\n \n+\n+\n+\n                                                     </div>\n                                                 </div>\n \n \n@@ -787,8 +862,33 @@\n                                                 <?php $ik = $ik -1; ?>\n                                                 @endforeach\n \n                                                 <div id=\"Container\"> </div>\n+\n+\n+\n+                                            <!-- <div class=\"row\" id=\"total-package\" style=\"display:none;\">\n+                                                <table class=\"table table-bordered\">\n+                                                    <tbody>\n+                                                        <tr>\n+                                                            <td width=\"25%\"><h4>Total Amount : </h4></td>\n+                                                            <td width=\"25%\"><h4>\n+                                                                <span id=\"totalPackageAmt\" class=\"package-total-amount\">{{ $grand_total_amount }}</span>\n+                                                            </h4>\n+                                                            <input type=\"hidden\" name=\"package_total_amount\" value=\"{{ $grand_total_amount }}\" >\n+\n+\n+                                                            </td>\n+                                                            <td width=\"25%\"><h4>Total Quantity: </h4></td>\n+                                                            <td width=\"25%\">\n+                                                                <h4><span id=\"totalPackageqty\">{{$grand_total_qty }}</span></h4>\n+                                                                <input type=\"hidden\" name=\"package_total_quantity\" value=\"{{$grand_total_qty }}\" >\n+                                                            </td>\n+                                                        </tr>\n+                                                    </tbody>\n+                                                </table>\n+                                            <div> -->\n+\n                                             <hr>\n                                             <div class=\"col-md-8\"  id=\"TotalDiv\" style=\"display:none;\">\n                                                 <div class=\"body\">\n                                                     <table class=\"table \" >\n@@ -908,13 +1008,17 @@\n                                                                 </div>\n \n                                                             </div>\n \n+\n+\n+\n+\n                                                                 <div class=\"row  pt-2\">\n                                                                     <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                         <label>Insurance </label>\n                                                                     </div>\n-                                                                    <div class=\"col-md-2\">\n+                                                                    <div class=\"col-md-2\"\">\n                                                                         <div class=\"\">\n                                                                             <input type=\"text\" name=\"insurance\"\n                                                                             value=\"{{$shipment->insurance}}\" class=\"form-control insurance_weight tot_wgt\">\n                                                                         </div>\n@@ -1028,17 +1132,55 @@\n                                                                         </div>\n                                                                     </div>\n \n                                                                 </div>\n-                                                            \n \n+\n+\n+\n+\n+\n+\n+\n+\n+                                                                {{-- <div class=\"row pt-2\">\n+                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                            <label>Other weight</label>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\" >\n+                                                                            <div class=\"\">\n+                                                                                <input type=\"text\" name=\"other_weight\"\n+                                                                                value=\"{{$shipment->other_weight}}\" class=\"form-control other_weight tot_wgt\">\n+                                                                            </div>\n+                                                                        </div>\n+\n+                                                                        <div class=\"col-md-2\">\n+                                                                            <div class=\"\">\n+                                                                                <input type=\"text\" name=\"rate_other_weight\" value=\"{{$shipment->rate_other_weight}}\" class=\"form-control rate_other_weight tot_rate\">\n+                                                                            </div>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_other_weight\" value=\"{{ $shipment->amount_other_weight }}\" class=\"form-control tot_amt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div> --}}\n+\n                                                                 <div class=\"row\">\n \n+\n                                                                         <div class=\"col-md-6 pt-2\"  style=\"text-align:right;font-size:18px;font-weight:bold;\">\n \n                                                                         </div>\n                                                                         <div class=\"col-md-2 pt-2\" style=\"border-top:1px solid;\">\n-                                                                            <div class=\"\">  <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n+                                                                            <div class=\"\">\n+                                                                            {{-- <input type=\"text\" name=\"normal_weight\" value=\"{{$shipment->normal_weight}}\" class=\"form-control tot_wgt1\"> --}}\n+\n+                                                                            <!-- THIS VALUE IS USED FOR CALCULATION  normal_weight_temp-->\n+                                                                            {{-- <input type=\"hidden\" name=\"normal_weight_temp\" value=\"{{$shipment->normal_weight}}\" class=\"form-control tot_wgt1\" readonly> --}}\n+\n+                                                                                <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n                                                                             </div>\n                                                                         </div>\n \n                                                                         <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n@@ -1072,10 +1214,70 @@\n                                                                         </div>\n                                                                 </div>\n \n                                                             </td>\n-                                                         \n+                                                            {{-- <td width=\"40%\">\n+                                                                <div class=\"row\">\n \n+\n+                                                                    <div class=\"col-md-6 \"  style=\"text-align:right;\">\n+                                                                        <label>Total Freight</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6 \">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"total_freight\"\n+                                                                            value=\"{{$shipment->total_freight}}\" class=\"form-control gtotal\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Box Packing Charge</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"packing_charge\" value=\"{{ $shipment->packing_charge}}\"  id=\"packing_charge\" class=\"form-control gtotal\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Other Packing Charge</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6 \">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"other_charges\" value=\"{{ $discount->other_packing_charge? $discount->other_packing_charge:0}}\" class=\"form-control gtotal\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Document Charge</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"document_charge\" value=\"{{ $discount->document_charge? $discount->document_charge:0}}\" class=\"form-control  gtotal\" step=\"any\">\n+\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Discount</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\">\n+                                                                        <div class=\"\">\n+                                                                        <input type=\"text\" value=\"{{ $discount->discount? $discount->discount:0}}\"\n+                                                                        id=\"discount\" name=\"discount\" class=\"form-control discount\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Grand Total  {{ $shipment->grand_total}} </label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"grand_total\" value=\"{{ $shipment->grand_total}}\" class=\"form-control\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                </div>\n+                                                            </td> --}}\n+\n                                                         </tr>\n                                                     </table>\n                                                 </div>\n                                             </div>\n@@ -1123,101 +1325,132 @@\n                                                         <button type=\"button\" id=\"addpackage\" class=\"btn btn-success addpackage\">Add Items</button>\n                                                         <button type=\"button\" id=\"removeBox\" class=\"btn btn-danger removeBox\">Delete Box</button>\n                                                     </div>\n                                                 </div>\n-                                                <div class=\"col-md-2\">\n+                                                <div class=\"row \">\n+                                                    <p style=\"font-size: 12px;margin: unset; margin-left: 9px; color:red;\" id=\"noBoxFound\"></p>\n+                                                    <div class=\"col-12 d-flex\">\n+                                                        <input type=\"text\" class=\"form-control col-3 oldBoxNo\" placeholder=\"Box number\">\n+                                                        <button type=\"button\"  class=\"btn btn-primary col-1 ml-2 oldBoxFill fillAdress\" >Fill</button>\n+                                                    </div>\n+                                                    <div class=\"col-5\">\n+                                                        <div class=\"form-group \">\n+                                                            <label>Sender/Customer</label>\n+                                                            {{-- <select name=\"box_sender_id\" id=\"box_sender_id\" class=\"form-control select2\">\n+                                                                <option value=\"\">Select</option>\n+                                                                @foreach (get_customers('sender') as $sender)\n+                                                                    <option value=\"{{ $sender->id }}\"\n+                                                                        >{{ $sender->name }} </option>\n+                                                                @endforeach\n+                                                            </select>\n+                                                            @error('sender_id')\n+                                                                <span class=\"text-danger\">{{ $message }}</span>\n+                                                            @enderror --}}\n+                                                        </div>\n+\n                                                         <div class=\"form-group\">\n+                                                            <label>Name</label>\n+                                                            <input type=\"text\" name=\"sender_name[]\"  class=\"form-control sender_name_1 sender_name\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Address</label>\n+                                                            <textarea name=\"sender_address[]\"  cols=\"10\" rows=\"10\" class=\"form-control sender_address_1 sender_address\" style=\"height: 45px;\"></textarea>\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Pin</label>\n+                                                            <input type=\"text\" name=\"sender_pin[]\" value=\"\" class=\"form-control sender_pin_1 sender_pin\" >\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Mobile</label>\n+                                                            <input type=\"text\" name=\"sender_mob[]\"  class=\"form-control sender_mob_1 sender_mob\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID Type</label>\n+                                                            <select name=\"sender_id_type[]\" id=\"\" class=\"form-control sender_id_type\">\n+                                                                <option value=\"Aadhaar Number\">Aadhaar Number</option>\\\n+                                                                <option value=\"Passport Number\">Passport Number</option>\n+                                                            </select>\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID</label>\n+                                                            <input type=\"text\" name=\"sender_id_no[]\"  class=\"form-control sender_id_no_1 sender_id_no\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID Image</label>\n+                                                            <input type=\"file\" name=\"sender_id_image[]\"  class=\"form-control sender_id_img_1 sender_id_img\" multiple>\n+                                                        </div>\n+\n+                                                    </div>\n+                                                    <div class=\"col-5\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Receiver/Customer</label>\n+                                                            {{-- <select name=\"box_receiver_id\" id=\"box_receiver_id\"\n+                                                                    class=\"form-control select2\">\n+                                                                    <option value=\"\">Select</option>\n+                                                                @foreach (get_customers('receiver') as $receiver)\n+                                                                    <option value=\"{{ $receiver->id }}\"\n+                                                                    >{{ $receiver->name }}</option>\n+                                                                @endforeach\n+                                                            </select>\n+                                                            @error('receiver_id')\n+                                                                <span class=\"text-danger\">{{ $message }}</span>\n+                                                            @enderror --}}\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Name</label>\n+                                                            <input type=\"text\" name=\"receiver_name[]\"  class=\"form-control receiver_name_1 receiver_name\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Address</label>\n+                                                            <textarea name=\"receiver_address[]\"  cols=\"10\" rows=\"10\" class=\"form-control receiver_address_1 receiver_address\" style=\"height: 45px;\"></textarea>\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Pin</label>\n+                                                            <input type=\"text\" name=\"receiver_pin[]\" value=\"\" class=\"form-control receiver_pin_1 receiver_pin\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Mobile</label>\n+                                                            <input type=\"text\" name=\"receiver_mob[]\"  class=\"form-control receiver_mob_1 receiver_mob\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID Type</label>\n+                                                            <select name=\"receiver_id_type[]\" id=\"\" class=\"form-control receiver_id_type\">\n+                                                                <option value=\"Aadhaar Number\">Aadhaar Number</option>\\\n+                                                                <option value=\"Passport Number\">Passport Number</option>\n+                                                            </select>\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID</label>\n+                                                            <input type=\"text\" name=\"receiver_id_no[]\"  class=\"form-control receiver_id_no_1 receiver_id_no\">\n+                                                        </div>\n+\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID Image</label>\n+                                                            <input type=\"file\" name=\"receiver_id_image[]\"  class=\"form-control receiver_id_img_1 receiver_id_img\" multiple>\n+                                                        </div>\n+\n+                                                    </div>\n+                                                    <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n                                                             <label>Weight</label>\n                                                             <input type=\"text\" name=\"weight[]\" value=\"\" class=\"form-control box-weight1 weight\">\n                                                             {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                         </div>\n                                                     </div>\n-                                                <div class=\"row\">\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                         \n-                                            <div class=\"row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Sender/Customer</label>\n-                                                    <select name=\"sender_id[]\" id=\"sender_id[]\" class=\"form-control select2\">\n-                                                        @foreach (get_customers('sender') as $sender)\n-                                                            <option value=\"{{ $sender->id }}\"\n-                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n-                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$sender->name ?? ''}}\"\n-                                                        data-email=\"{{$sender->email ?? ''}}\"\n-                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n-                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n-                                                        </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('sender_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-\n                                                 </div>\n-                                                <div class=\"col-md-2\">\n-                                                <button type=\"button\" id=\"AddSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-\n-                                            </div>\n-                 \n-                                        </div>\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                            \n-                                            <div class=\" row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Receiver/Customer</label>\n-                                                    <select name=\"receiver_id[]\" id=\"receiver_id[]\"\n-                                                            class=\"form-control select2\">\n-                                                        @foreach (get_customers('receiver') as $receiver)\n-                                                            <option value=\"{{ $receiver->id }}\"\n-                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n-                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$receiver->name ?? ''}}\"\n-                                                        data-email=\"{{$receiver->email ?? ''}}\"\n-                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n-                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n-                                                            </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('receiver_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddReceiver[]\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditReceiver[]\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-                                            </div>\n-                                            \n-                                        </div>\n-                                    </div> \n-                                              \n                                                 <div class=\"body box_und_calc\" id=\"packageinfo\">\n \n                                                     <table class=\"table table-bordered packageinfo\">\n                                                         <tr>\n"
                },
                {
                    "date": 1733309660638,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,8 +152,9 @@\n                                                     <select name=\"sender_id\" id=\"sender_id\" class=\"form-control select2\" required>\n                                                         <option value='' selected=\"selected\">Select</option>\n                                                         @foreach (get_customers('sender')->where('branch_id', branch()->id) as $sender)\n                                                         <option value=\"{{ $sender->id }}\"\n+                                                        {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }}\n                                                         data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n                                                         data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n                                                         data-name=\"{{$sender->name ?? ''}}\"\n                                                         data-email=\"{{$sender->email ?? ''}}\"\n@@ -207,8 +208,9 @@\n                                                     <select name=\"receiver_id\" id=\"receiver_id\" class=\"form-control select2\" required>\n                                                     <option value='' selected=\"selected\">Select</option>\n                                                     @foreach (get_customers('receiver')->where('branch_id', branch()->id) as $receiver)\n                                                     <option value=\"{{ $receiver->id }}\"\n+                                                    {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n                                                         data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n                                                         data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n                                                         data-name=\"{{$receiver->name ?? ''}}\"\n                                                         data-email=\"{{$receiver->email ?? ''}}\"\n@@ -513,159 +515,100 @@\n                                                         <button type=\"button\" id=\"removeBox{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-danger removeBox\">Delete Box</button>\n \n                                                         </div>\n                                                     </div>\n-                                                    <div class=\"row \">\n-                                                        <p style=\"font-size: 12px;margin: unset; margin-left: 9px; color:red;\" id=\"noBoxFound{{$i+1}}\"></p>\n-                                                        <div class=\"col-12 d-flex\">\n-                                                            <input type=\"text\" class=\"form-control col-3 oldBoxNo{{$i+1}}\" placeholder=\"Box number\">\n-                                                            <button type=\"button\"  class=\"btn btn-primary col-1 ml-2 oldBoxFill{{$i+1}} fillAdress\" data-boxId={{$i+1}} >Fill</button>\n-                                                        </div>\n-                                                        <div class=\"col-5 box_details\">\n-                                                            <div class=\"form-group \">\n-                                                                <label>Sender/Customer</label>\n-                                                                {{-- <select name=\"box_sender_id{{$i+1}}\" id=\"sender_id\" class=\"form-control select2\">\n-                                                                    <option value=\"\">Select</option>\n-                                                                    @foreach (get_customers('sender') as $sender)\n-                                                                        <option value=\"{{ $sender->id }}\"\n-                                                                            {{ ($box->sender_id == $sender->id) ? 'selected' : \"\" }}\n-                                                                            >{{ $sender->name }}</option>\n-                                                                    @endforeach\n-                                                                </select>\n-                                                                @error('sender_id')\n-                                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                                @enderror --}}\n-                                                            </div>\n-\n+                                                    <div class=\"col-md-2\">\n                                                             <div class=\"form-group\">\n-                                                                <label>Name</label>\n-                                                                <input type=\"text\" name=\"sender_name{{$i+1}}\" value=\"{{ $box->sender_name }}\" class=\"form-control sender_name\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Address</label>\n-                                                                <textarea name=\"sender_address{{$i+1}}\"  cols=\"10\" rows=\"10\" class=\"form-control sender_address\" style=\"height: 45px;\">{{ $box->sender_address }}</textarea>\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Pin</label>\n-                                                                <input type=\"text\" name=\"sender_pin{{$i+1}}\" value=\"{{ $box->sender_pin }}\" class=\"form-control sender_pin\" >\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Mobile</label>\n-                                                                <input type=\"text\" name=\"sender_mob{{$i+1}}\" value=\"{{ $box->sender_mob }}\" class=\"form-control sender_mob\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID Type</label>\n-                                                                <select name=\"sender_id_type{{$i+1}}\" id=\"\" class=\"form-control sender_id_type\">\n-                                                                    @if ($box->sender_id_type == 'Aadhar' || $box->sender_id_type == 'Aadhaar Number')\n-                                                                        <option value=\"Aadhaar Number\" selected>Aadhaar Number</option>\n-                                                                        <option value=\"Passport Number\">Passport Number</option>\n-                                                                    @else\n-                                                                        <option value=\"Aadhaar Number\">Aadhaar Number</option>\n-                                                                        <option value=\"Passport Number\" selected>Passport Number</option>\n-                                                                    @endif\n-\n-                                                                </select>\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID</label>\n-                                                                <input type=\"text\" name=\"sender_id_no{{$i+1}}\" value=\"{{ $box->sender_id_no }}\" class=\"form-control sender_id_no\" data-index=\"{{$i+1}}\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID Image</label>\n-                                                                <input type=\"hidden\" name=\"sender_id_image_value{{$i+1}}\" value=\"{{$box->sender_id_image}}\" class=\"sender_id_image_value\">\n-                                                                <input type=\"file\" name=\"sender_id_image{{$i+1}}[]\" value=\"{{ $box->sender_id_image }}\" class=\"form-control sender_id_image\" multiple>\n-                                                                @if ($box->sender_id_image)\n-                                                                    @foreach (json_decode($box->sender_id_image, true) as  $image)\n-                                                                    <a href=\"{{asset($image)}}\" class=\"pt-4 pb-2 pl-3\" download><img data-src=\"{{asset($image)}} \" class=\"id_img\" alt=\"img\" width=\"100\" height=\"50\" class=\"pt-2\" style=\"border: solid 1px; margin-top: 5px;\"> </a>\n-                                                                    @endforeach\n-                                                                @else\n-                                                                    <h6 class=\"pt-2\">No file is uploaded</h6>\n-                                                                @endif\n-                                                            </div>\n-\n-                                                        </div>\n-                                                        <div class=\"col-5 box_details\">\n-                                                            <div class=\"form-group \">\n-                                                                <label>Receiver/Customer</label>\n-                                                                {{-- <select name=\"box_receiver_id{{$i+1}}\" id=\"receiver_id\"\n-                                                                        class=\"form-control select2\">\n-                                                                        <option value=\"\">Select</option>\n-                                                                    @foreach (get_customers('receiver') as $receiver)\n-                                                                        <option value=\"{{ $receiver->id }}\"\n-                                                                        {{ ($box->receiver_id == $receiver->id) ? 'selected' : \"\" }}\n-                                                                        >{{ $receiver->name }}</option>\n-                                                                    @endforeach\n-                                                                </select>\n-                                                                @error('receiver_id')\n-                                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                                @enderror --}}\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Name</label>\n-                                                                <input type=\"text\" name=\"receiver_name{{$i+1}}\" value=\"{{ $box->receiver_name }}\" class=\"form-control receiver_name\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Address</label>\n-                                                                <textarea name=\"receiver_address{{$i+1}}\"  cols=\"10\" rows=\"10\" class=\"form-control receiver_address\" style=\"height: 45px;\">{{ $box->receiver_address }}</textarea>\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Pin</label>\n-                                                                <input type=\"text\" name=\"receiver_pin{{$i+1}}\" value=\"{{ $box->receiver_pin }}\" class=\"form-control receiver_pin\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Mobile</label>\n-                                                                <input type=\"text\" name=\"receiver_mob{{$i+1}}\" value=\"{{ $box->receiver_mob }}\" class=\"form-control receiver_mob\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID Type</label>\n-                                                                <select name=\"receiver_id_type{{$i+1}}\" id=\"\" class=\"form-control receiver_id_type\">\n-                                                                    @if ($box->receiver_id_type == 'Aadhar' || $box->receiver_id_type == 'Aadhaar Number' )\n-                                                                        <option value=\"Aadhaar Number\" selected>Aadhaar Number</option>\n-                                                                        <option value=\"Passport Number\">Passport Number</option>\n-                                                                    @else\n-                                                                        <option value=\"Aadhar\">Aadhar</option>\n-                                                                        <option value=\"Passport Number\" selected>Passport Number</option>\n-                                                                    @endif\n-                                                                </select>\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID</label>\n-                                                                <input type=\"text\" name=\"receiver_id_no{{$i+1}}\" value=\"{{ $box->receiver_id_no }}\" class=\"form-control receiver_id_no\" data-index=\"{{$i+1}}\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID Image</label>\n-                                                                <input type=\"hidden\" name=\"receiver_id_image_value{{$i+1}}\" value=\"{{$box->receiver_id_image}}\" class=\"receiver_id_image_value\">\n-                                                                <input type=\"file\" name=\"receiver_id_image{{$i+1}}[]\" value=\"{{$box->receiver_id_image}}\" class=\"form-control receiver_id_image\" multiple>\n-                                                                @if ($box->receiver_id_image)\n-                                                                    @foreach (json_decode($box->receiver_id_image, true) as  $image)\n-                                                                    <a href=\"{{asset($image)}}\" class=\"pt-4 pb-2 pl-3\" download><img data-src=\"{{asset($image)}} \" class=\"id_img\" alt=\"img\" width=\"100\" height=\"50\" class=\"pt-2\" style=\"border: solid 1px; margin-top: 5px;\"> </a>\n-                                                                    @endforeach\n-                                                                @else\n-                                                                    <h6 class=\"pt-2\">No file is uploaded</h6>\n-                                                                @endif\n-                                                            </div>\n-                                                        </div>\n-                                                        <div class=\"col-md-2\">\n-                                                            <div class=\"form-group\">\n                                                                 <label>Weight</label>\n                                                                 <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{ $box->weight }}\" class=\"form-control weight\">\n                                                                 {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                             </div>\n                                                         </div>\n-                                                    </div>\n+                                                        <div class=\"row\">\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                         \n+                                            <div class=\"row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Sender/Customer</label>\n+                                                    <select name=\"box_sender_id{{$i+1}}\" id=\"box_sender_id{{$i+1}}\" class=\"form-control select2\">\n+                                                        @foreach (get_customers('sender') as $sender)\n+                                                            <option value=\"{{ $sender->id }}\"\n+                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n+                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$sender->name ?? ''}}\"\n+                                                        data-email=\"{{$sender->email ?? ''}}\"\n+                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n+                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n+                                                        </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('sender_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+\n+                                            </div>\n+                 \n+                                        </div>\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                            \n+                                            <div class=\" row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Receiver/Customer</label>\n+                                                    <select name=\"box_receiver_id{{$i+1}}\" id=\"box_receiver_id{{$i+1}}\"\n+                                                            class=\"form-control select2\">\n+                                                        @foreach (get_customers('receiver') as $receiver)\n+                                                            <option value=\"{{ $receiver->id }}\"\n+                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n+                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$receiver->name ?? ''}}\"\n+                                                        data-email=\"{{$receiver->email ?? ''}}\"\n+                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n+                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n+                                                            </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('receiver_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+                                            </div>\n+                                            \n+                                        </div>\n+                                    </div> \n                                                     <div class=\"body box_und_calc\" id=\"packageinfo{{$i+1}}\" >\n                                                         <table class=\"table table-bordered packageinfo{{$i+1}}\">\n                                                             @foreach($box->packages as $j => $package)\n \n@@ -782,13 +725,10 @@\n                                                             <div class=\"col-md-2 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }} \" id=\"packing{{$i+1}}\">\n                                                                 <div class=\"form-group\">\n                                                                     <label>Packing</label>\n                                                                     <select name='packing{{$i+1}}' data-no='{{$i+1}}' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n-                                                                        {{-- <option value=''>Select</option> --}}\n+                                                                      \n                                                                         <option value='2' selected >Cargo Packing</option>\n-                                                                        {{-- <option {{ ($box->packing== 1) ? 'selected' : \"\" }} value='1'>Customer Packing</option>\n-                                                                        <option {{ ($box->packing== 2) ? 'selected' : \"\" }} value='2'>Cargo Packing</option> --}}\n-\n                                                                     </select>\n                                                                 </div>\n \n                                                             </div>\n@@ -804,27 +744,16 @@\n                                                                         </select>\n                                                                 </div>\n                                                             </div>\n \n-\n-\n-\n-\n-\n                                                         <div class=\"col-md-1\">\n                                                             <div class=\"form-group\">\n-                                                                <label>Volume</label>\n-                                                                {{-- <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"{{$box->unit_value}}\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\"> --}}\n+                                                                <label>Volume</label>                                                              \n                                                                 <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"15.19\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\">\n \n                                                             </div>\n                                                         </div>\n-                                                        {{-- <div class=\"col-md-1\">\n-                                                            <div class=\"form-group\">\n-                                                                <label>Weight</label>\n-                                                                <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{$box->weight}}\" class=\"form-control box-weight\" data-weight=\"{{$i+1}}\">\n-                                                            </div>\n-                                                        </div> --}}\n+                                                      \n                                                         <div class=\"col-md-1\">\n                                                             <div class=\"form-group\">\n                                                                 <label>Rate</label>\n                                                                 {{-- <input type=\"text\" name=\"rate{{$i+1}}\" value=\"{{$box->rate}}\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\"> --}}\n@@ -839,9 +768,8 @@\n                                                                 <!-- <input type=\"hidden\" name=\"box_name{{$i+1}}\" value=\"{{$box->box_name}}\" class=\"form-control box_name\"> -->\n                                                             </div>\n                                                         </div>\n \n-\n                                                         <div class=\"col-md-2\" id=\"box_packing_charge{{$i+1}}\">\n                                                         <div class=\"form-group\">\n                                                             <label>Packing charge</label>\n                                                             {{-- <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"{{$box->box_packing_charge}}\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/> --}}\n@@ -849,11 +777,8 @@\n \n                                                         </div>\n                                                         </div>\n \n-\n-\n-\n                                                     </div>\n                                                 </div>\n \n \n@@ -862,33 +787,8 @@\n                                                 <?php $ik = $ik -1; ?>\n                                                 @endforeach\n \n                                                 <div id=\"Container\"> </div>\n-\n-\n-\n-                                            <!-- <div class=\"row\" id=\"total-package\" style=\"display:none;\">\n-                                                <table class=\"table table-bordered\">\n-                                                    <tbody>\n-                                                        <tr>\n-                                                            <td width=\"25%\"><h4>Total Amount : </h4></td>\n-                                                            <td width=\"25%\"><h4>\n-                                                                <span id=\"totalPackageAmt\" class=\"package-total-amount\">{{ $grand_total_amount }}</span>\n-                                                            </h4>\n-                                                            <input type=\"hidden\" name=\"package_total_amount\" value=\"{{ $grand_total_amount }}\" >\n-\n-\n-                                                            </td>\n-                                                            <td width=\"25%\"><h4>Total Quantity: </h4></td>\n-                                                            <td width=\"25%\">\n-                                                                <h4><span id=\"totalPackageqty\">{{$grand_total_qty }}</span></h4>\n-                                                                <input type=\"hidden\" name=\"package_total_quantity\" value=\"{{$grand_total_qty }}\" >\n-                                                            </td>\n-                                                        </tr>\n-                                                    </tbody>\n-                                                </table>\n-                                            <div> -->\n-\n                                             <hr>\n                                             <div class=\"col-md-8\"  id=\"TotalDiv\" style=\"display:none;\">\n                                                 <div class=\"body\">\n                                                     <table class=\"table \" >\n@@ -1008,17 +908,13 @@\n                                                                 </div>\n \n                                                             </div>\n \n-\n-\n-\n-\n                                                                 <div class=\"row  pt-2\">\n                                                                     <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                         <label>Insurance </label>\n                                                                     </div>\n-                                                                    <div class=\"col-md-2\"\">\n+                                                                    <div class=\"col-md-2\">\n                                                                         <div class=\"\">\n                                                                             <input type=\"text\" name=\"insurance\"\n                                                                             value=\"{{$shipment->insurance}}\" class=\"form-control insurance_weight tot_wgt\">\n                                                                         </div>\n@@ -1132,55 +1028,17 @@\n                                                                         </div>\n                                                                     </div>\n \n                                                                 </div>\n+                                                            \n \n-\n-\n-\n-\n-\n-\n-\n-\n-                                                                {{-- <div class=\"row pt-2\">\n-                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                            <label>Other weight</label>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\" >\n-                                                                            <div class=\"\">\n-                                                                                <input type=\"text\" name=\"other_weight\"\n-                                                                                value=\"{{$shipment->other_weight}}\" class=\"form-control other_weight tot_wgt\">\n-                                                                            </div>\n-                                                                        </div>\n-\n-                                                                        <div class=\"col-md-2\">\n-                                                                            <div class=\"\">\n-                                                                                <input type=\"text\" name=\"rate_other_weight\" value=\"{{$shipment->rate_other_weight}}\" class=\"form-control rate_other_weight tot_rate\">\n-                                                                            </div>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_other_weight\" value=\"{{ $shipment->amount_other_weight }}\" class=\"form-control tot_amt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div> --}}\n-\n                                                                 <div class=\"row\">\n \n-\n                                                                         <div class=\"col-md-6 pt-2\"  style=\"text-align:right;font-size:18px;font-weight:bold;\">\n \n                                                                         </div>\n                                                                         <div class=\"col-md-2 pt-2\" style=\"border-top:1px solid;\">\n-                                                                            <div class=\"\">\n-                                                                            {{-- <input type=\"text\" name=\"normal_weight\" value=\"{{$shipment->normal_weight}}\" class=\"form-control tot_wgt1\"> --}}\n-\n-                                                                            <!-- THIS VALUE IS USED FOR CALCULATION  normal_weight_temp-->\n-                                                                            {{-- <input type=\"hidden\" name=\"normal_weight_temp\" value=\"{{$shipment->normal_weight}}\" class=\"form-control tot_wgt1\" readonly> --}}\n-\n-                                                                                <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n+                                                                            <div class=\"\">  <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n                                                                             </div>\n                                                                         </div>\n \n                                                                         <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n@@ -1214,70 +1072,10 @@\n                                                                         </div>\n                                                                 </div>\n \n                                                             </td>\n-                                                            {{-- <td width=\"40%\">\n-                                                                <div class=\"row\">\n+                                                         \n \n-\n-                                                                    <div class=\"col-md-6 \"  style=\"text-align:right;\">\n-                                                                        <label>Total Freight</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6 \">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"total_freight\"\n-                                                                            value=\"{{$shipment->total_freight}}\" class=\"form-control gtotal\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Box Packing Charge</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"packing_charge\" value=\"{{ $shipment->packing_charge}}\"  id=\"packing_charge\" class=\"form-control gtotal\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Other Packing Charge</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6 \">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"other_charges\" value=\"{{ $discount->other_packing_charge? $discount->other_packing_charge:0}}\" class=\"form-control gtotal\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Document Charge</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"document_charge\" value=\"{{ $discount->document_charge? $discount->document_charge:0}}\" class=\"form-control  gtotal\" step=\"any\">\n-\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Discount</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\">\n-                                                                        <div class=\"\">\n-                                                                        <input type=\"text\" value=\"{{ $discount->discount? $discount->discount:0}}\"\n-                                                                        id=\"discount\" name=\"discount\" class=\"form-control discount\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Grand Total  {{ $shipment->grand_total}} </label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"grand_total\" value=\"{{ $shipment->grand_total}}\" class=\"form-control\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                </div>\n-                                                            </td> --}}\n-\n                                                         </tr>\n                                                     </table>\n                                                 </div>\n                                             </div>\n@@ -1325,132 +1123,101 @@\n                                                         <button type=\"button\" id=\"addpackage\" class=\"btn btn-success addpackage\">Add Items</button>\n                                                         <button type=\"button\" id=\"removeBox\" class=\"btn btn-danger removeBox\">Delete Box</button>\n                                                     </div>\n                                                 </div>\n-                                                <div class=\"row \">\n-                                                    <p style=\"font-size: 12px;margin: unset; margin-left: 9px; color:red;\" id=\"noBoxFound\"></p>\n-                                                    <div class=\"col-12 d-flex\">\n-                                                        <input type=\"text\" class=\"form-control col-3 oldBoxNo\" placeholder=\"Box number\">\n-                                                        <button type=\"button\"  class=\"btn btn-primary col-1 ml-2 oldBoxFill fillAdress\" >Fill</button>\n-                                                    </div>\n-                                                    <div class=\"col-5\">\n-                                                        <div class=\"form-group \">\n-                                                            <label>Sender/Customer</label>\n-                                                            {{-- <select name=\"box_sender_id\" id=\"box_sender_id\" class=\"form-control select2\">\n-                                                                <option value=\"\">Select</option>\n-                                                                @foreach (get_customers('sender') as $sender)\n-                                                                    <option value=\"{{ $sender->id }}\"\n-                                                                        >{{ $sender->name }} </option>\n-                                                                @endforeach\n-                                                            </select>\n-                                                            @error('sender_id')\n-                                                                <span class=\"text-danger\">{{ $message }}</span>\n-                                                            @enderror --}}\n-                                                        </div>\n-\n+                                                <div class=\"col-md-2\">\n                                                         <div class=\"form-group\">\n-                                                            <label>Name</label>\n-                                                            <input type=\"text\" name=\"sender_name[]\"  class=\"form-control sender_name_1 sender_name\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Address</label>\n-                                                            <textarea name=\"sender_address[]\"  cols=\"10\" rows=\"10\" class=\"form-control sender_address_1 sender_address\" style=\"height: 45px;\"></textarea>\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Pin</label>\n-                                                            <input type=\"text\" name=\"sender_pin[]\" value=\"\" class=\"form-control sender_pin_1 sender_pin\" >\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Mobile</label>\n-                                                            <input type=\"text\" name=\"sender_mob[]\"  class=\"form-control sender_mob_1 sender_mob\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID Type</label>\n-                                                            <select name=\"sender_id_type[]\" id=\"\" class=\"form-control sender_id_type\">\n-                                                                <option value=\"Aadhaar Number\">Aadhaar Number</option>\\\n-                                                                <option value=\"Passport Number\">Passport Number</option>\n-                                                            </select>\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID</label>\n-                                                            <input type=\"text\" name=\"sender_id_no[]\"  class=\"form-control sender_id_no_1 sender_id_no\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID Image</label>\n-                                                            <input type=\"file\" name=\"sender_id_image[]\"  class=\"form-control sender_id_img_1 sender_id_img\" multiple>\n-                                                        </div>\n-\n-                                                    </div>\n-                                                    <div class=\"col-5\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Receiver/Customer</label>\n-                                                            {{-- <select name=\"box_receiver_id\" id=\"box_receiver_id\"\n-                                                                    class=\"form-control select2\">\n-                                                                    <option value=\"\">Select</option>\n-                                                                @foreach (get_customers('receiver') as $receiver)\n-                                                                    <option value=\"{{ $receiver->id }}\"\n-                                                                    >{{ $receiver->name }}</option>\n-                                                                @endforeach\n-                                                            </select>\n-                                                            @error('receiver_id')\n-                                                                <span class=\"text-danger\">{{ $message }}</span>\n-                                                            @enderror --}}\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Name</label>\n-                                                            <input type=\"text\" name=\"receiver_name[]\"  class=\"form-control receiver_name_1 receiver_name\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Address</label>\n-                                                            <textarea name=\"receiver_address[]\"  cols=\"10\" rows=\"10\" class=\"form-control receiver_address_1 receiver_address\" style=\"height: 45px;\"></textarea>\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Pin</label>\n-                                                            <input type=\"text\" name=\"receiver_pin[]\" value=\"\" class=\"form-control receiver_pin_1 receiver_pin\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Mobile</label>\n-                                                            <input type=\"text\" name=\"receiver_mob[]\"  class=\"form-control receiver_mob_1 receiver_mob\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID Type</label>\n-                                                            <select name=\"receiver_id_type[]\" id=\"\" class=\"form-control receiver_id_type\">\n-                                                                <option value=\"Aadhaar Number\">Aadhaar Number</option>\\\n-                                                                <option value=\"Passport Number\">Passport Number</option>\n-                                                            </select>\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID</label>\n-                                                            <input type=\"text\" name=\"receiver_id_no[]\"  class=\"form-control receiver_id_no_1 receiver_id_no\">\n-                                                        </div>\n-\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID Image</label>\n-                                                            <input type=\"file\" name=\"receiver_id_image[]\"  class=\"form-control receiver_id_img_1 receiver_id_img\" multiple>\n-                                                        </div>\n-\n-                                                    </div>\n-                                                    <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n                                                             <label>Weight</label>\n                                                             <input type=\"text\" name=\"weight[]\" value=\"\" class=\"form-control box-weight1 weight\">\n                                                             {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                         </div>\n                                                     </div>\n+                                                <div class=\"row\">\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                         \n+                                            <div class=\"row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Sender/Customer</label>\n+                                                    <select name=\"sender_id[]\" id=\"sender_id[]\" class=\"form-control select2\">\n+                                                        @foreach (get_customers('sender') as $sender)\n+                                                            <option value=\"{{ $sender->id }}\"\n+                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n+                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$sender->name ?? ''}}\"\n+                                                        data-email=\"{{$sender->email ?? ''}}\"\n+                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n+                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n+                                                        </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('sender_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+\n                                                 </div>\n+                                                <div class=\"col-md-2\">\n+                                                <button type=\"button\" id=\"AddSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+\n+                                            </div>\n+                 \n+                                        </div>\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                            \n+                                            <div class=\" row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Receiver/Customer</label>\n+                                                    <select name=\"receiver_id[]\" id=\"receiver_id[]\"\n+                                                            class=\"form-control select2\">\n+                                                        @foreach (get_customers('receiver') as $receiver)\n+                                                            <option value=\"{{ $receiver->id }}\"\n+                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n+                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$receiver->name ?? ''}}\"\n+                                                        data-email=\"{{$receiver->email ?? ''}}\"\n+                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n+                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n+                                                            </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('receiver_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddReceiver[]\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditReceiver[]\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+                                            </div>\n+                                            \n+                                        </div>\n+                                    </div> \n+                                              \n                                                 <div class=\"body box_und_calc\" id=\"packageinfo\">\n \n                                                     <table class=\"table table-bordered packageinfo\">\n                                                         <tr>\n"
                },
                {
                    "date": 1733309681101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,9 +189,9 @@\n \n                                             </div>\n                                             <div class=\"row form-group col-md-12\">\n                                                 <label>Sender Address</label>\n-                                                <input readonly type=\"text\" id=\"sender_address\" value=\"{{$shipment->sender->address->address??\"\"}}\" class=\"form-control\">\n+                                                <input  type=\"text\" id=\"sender_address\" value=\"{{$shipment->sender->address->address??\"\"}}\" class=\"form-control\">\n                                             </div>\n \n                                             <div class=\"row form-group col-md-12\">\n                                                 <label>Sender Phone</label>\n"
                },
                {
                    "date": 1733309827471,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -189,9 +189,9 @@\n \n                                             </div>\n                                             <div class=\"row form-group col-md-12\">\n                                                 <label>Sender Address</label>\n-                                                <input  type=\"text\" id=\"sender_address\" value=\"{{$shipment->sender->address->address??\"\"}}\" class=\"form-control\">\n+                                                <input readonly type=\"text\" id=\"sender_address\" value=\"{{$shipment->sender->address->address??\"\"}}\" class=\"form-control\">\n                                             </div>\n \n                                             <div class=\"row form-group col-md-12\">\n                                                 <label>Sender Phone</label>\n"
                },
                {
                    "date": 1733311203003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -556,12 +556,17 @@\n                                                     @enderror\n \n                                                 </div>\n                                                 <div class=\"col-md-2\">\n-                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n+                                                </div><div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n                                                 </div>\n \n                                             </div>\n                  \n"
                },
                {
                    "date": 1733311226166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -560,13 +560,8 @@\n                                                     <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-plus\"></i></button>\n                                                             <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n-                                                </div><div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n                                                 </div>\n \n                                             </div>\n                  \n"
                },
                {
                    "date": 1733311245608,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -556,8 +556,14 @@\n                                                     @enderror\n \n                                                 </div>\n                                                 <div class=\"col-md-2\">\n+                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n                                                     <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-plus\"></i></button>\n                                                             <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n"
                },
                {
                    "date": 1733311258450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -562,9 +562,9 @@\n                                                             <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n                                                 </div>\n                                                 <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                    <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-plus\"></i></button>\n                                                             <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n                                                 </div>\n"
                },
                {
                    "date": 1733311264311,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -564,9 +564,9 @@\n                                                 </div>\n                                                 <div class=\"col-md-2\">\n                                                     <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n                                                 </div>\n \n                                             </div>\n"
                },
                {
                    "date": 1733311270223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -555,15 +555,10 @@\n                                                     <span class=\"text-danger\">{{ $message }}</span>\n                                                     @enderror\n \n                                                 </div>\n+                                                \n                                                 <div class=\"col-md-2\">\n-                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n                                                     <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-plus\"></i></button>\n                                                             <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n"
                },
                {
                    "date": 1733311299816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -557,9 +557,9 @@\n \n                                                 </div>\n                                                 \n                                                 <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-plus\"></i></button>\n                                                             <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n                                                 </div>\n"
                },
                {
                    "date": 1733311319078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,9 +152,8 @@\n                                                     <select name=\"sender_id\" id=\"sender_id\" class=\"form-control select2\" required>\n                                                         <option value='' selected=\"selected\">Select</option>\n                                                         @foreach (get_customers('sender')->where('branch_id', branch()->id) as $sender)\n                                                         <option value=\"{{ $sender->id }}\"\n-                                                        {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }}\n                                                         data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n                                                         data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n                                                         data-name=\"{{$sender->name ?? ''}}\"\n                                                         data-email=\"{{$sender->email ?? ''}}\"\n@@ -208,9 +207,8 @@\n                                                     <select name=\"receiver_id\" id=\"receiver_id\" class=\"form-control select2\" required>\n                                                     <option value='' selected=\"selected\">Select</option>\n                                                     @foreach (get_customers('receiver')->where('branch_id', branch()->id) as $receiver)\n                                                     <option value=\"{{ $receiver->id }}\"\n-                                                    {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n                                                         data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n                                                         data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n                                                         data-name=\"{{$receiver->name ?? ''}}\"\n                                                         data-email=\"{{$receiver->email ?? ''}}\"\n@@ -515,101 +513,159 @@\n                                                         <button type=\"button\" id=\"removeBox{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-danger removeBox\">Delete Box</button>\n \n                                                         </div>\n                                                     </div>\n-                                                    <div class=\"col-md-2\">\n+                                                    <div class=\"row \">\n+                                                        <p style=\"font-size: 12px;margin: unset; margin-left: 9px; color:red;\" id=\"noBoxFound{{$i+1}}\"></p>\n+                                                        <div class=\"col-12 d-flex\">\n+                                                            <input type=\"text\" class=\"form-control col-3 oldBoxNo{{$i+1}}\" placeholder=\"Box number\">\n+                                                            <button type=\"button\"  class=\"btn btn-primary col-1 ml-2 oldBoxFill{{$i+1}} fillAdress\" data-boxId={{$i+1}} >Fill</button>\n+                                                        </div>\n+                                                        <div class=\"col-5 box_details\">\n+                                                            <div class=\"form-group \">\n+                                                                <label>Sender/Customer</label>\n+                                                                {{-- <select name=\"box_sender_id{{$i+1}}\" id=\"sender_id\" class=\"form-control select2\">\n+                                                                    <option value=\"\">Select</option>\n+                                                                    @foreach (get_customers('sender') as $sender)\n+                                                                        <option value=\"{{ $sender->id }}\"\n+                                                                            {{ ($box->sender_id == $sender->id) ? 'selected' : \"\" }}\n+                                                                            >{{ $sender->name }}</option>\n+                                                                    @endforeach\n+                                                                </select>\n+                                                                @error('sender_id')\n+                                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                                @enderror --}}\n+                                                            </div>\n+\n                                                             <div class=\"form-group\">\n+                                                                <label>Name</label>\n+                                                                <input type=\"text\" name=\"sender_name{{$i+1}}\" value=\"{{ $box->sender_name }}\" class=\"form-control sender_name\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Address</label>\n+                                                                <textarea name=\"sender_address{{$i+1}}\"  cols=\"10\" rows=\"10\" class=\"form-control sender_address\" style=\"height: 45px;\">{{ $box->sender_address }}</textarea>\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Pin</label>\n+                                                                <input type=\"text\" name=\"sender_pin{{$i+1}}\" value=\"{{ $box->sender_pin }}\" class=\"form-control sender_pin\" >\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Mobile</label>\n+                                                                <input type=\"text\" name=\"sender_mob{{$i+1}}\" value=\"{{ $box->sender_mob }}\" class=\"form-control sender_mob\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID Type</label>\n+                                                                <select name=\"sender_id_type{{$i+1}}\" id=\"\" class=\"form-control sender_id_type\">\n+                                                                    @if ($box->sender_id_type == 'Aadhar' || $box->sender_id_type == 'Aadhaar Number')\n+                                                                        <option value=\"Aadhaar Number\" selected>Aadhaar Number</option>\n+                                                                        <option value=\"Passport Number\">Passport Number</option>\n+                                                                    @else\n+                                                                        <option value=\"Aadhaar Number\">Aadhaar Number</option>\n+                                                                        <option value=\"Passport Number\" selected>Passport Number</option>\n+                                                                    @endif\n+\n+                                                                </select>\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID</label>\n+                                                                <input type=\"text\" name=\"sender_id_no{{$i+1}}\" value=\"{{ $box->sender_id_no }}\" class=\"form-control sender_id_no\" data-index=\"{{$i+1}}\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID Image</label>\n+                                                                <input type=\"hidden\" name=\"sender_id_image_value{{$i+1}}\" value=\"{{$box->sender_id_image}}\" class=\"sender_id_image_value\">\n+                                                                <input type=\"file\" name=\"sender_id_image{{$i+1}}[]\" value=\"{{ $box->sender_id_image }}\" class=\"form-control sender_id_image\" multiple>\n+                                                                @if ($box->sender_id_image)\n+                                                                    @foreach (json_decode($box->sender_id_image, true) as  $image)\n+                                                                    <a href=\"{{asset($image)}}\" class=\"pt-4 pb-2 pl-3\" download><img data-src=\"{{asset($image)}} \" class=\"id_img\" alt=\"img\" width=\"100\" height=\"50\" class=\"pt-2\" style=\"border: solid 1px; margin-top: 5px;\"> </a>\n+                                                                    @endforeach\n+                                                                @else\n+                                                                    <h6 class=\"pt-2\">No file is uploaded</h6>\n+                                                                @endif\n+                                                            </div>\n+\n+                                                        </div>\n+                                                        <div class=\"col-5 box_details\">\n+                                                            <div class=\"form-group \">\n+                                                                <label>Receiver/Customer</label>\n+                                                                {{-- <select name=\"box_receiver_id{{$i+1}}\" id=\"receiver_id\"\n+                                                                        class=\"form-control select2\">\n+                                                                        <option value=\"\">Select</option>\n+                                                                    @foreach (get_customers('receiver') as $receiver)\n+                                                                        <option value=\"{{ $receiver->id }}\"\n+                                                                        {{ ($box->receiver_id == $receiver->id) ? 'selected' : \"\" }}\n+                                                                        >{{ $receiver->name }}</option>\n+                                                                    @endforeach\n+                                                                </select>\n+                                                                @error('receiver_id')\n+                                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                                @enderror --}}\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Name</label>\n+                                                                <input type=\"text\" name=\"receiver_name{{$i+1}}\" value=\"{{ $box->receiver_name }}\" class=\"form-control receiver_name\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Address</label>\n+                                                                <textarea name=\"receiver_address{{$i+1}}\"  cols=\"10\" rows=\"10\" class=\"form-control receiver_address\" style=\"height: 45px;\">{{ $box->receiver_address }}</textarea>\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Pin</label>\n+                                                                <input type=\"text\" name=\"receiver_pin{{$i+1}}\" value=\"{{ $box->receiver_pin }}\" class=\"form-control receiver_pin\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group\">\n+                                                                <label>Mobile</label>\n+                                                                <input type=\"text\" name=\"receiver_mob{{$i+1}}\" value=\"{{ $box->receiver_mob }}\" class=\"form-control receiver_mob\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID Type</label>\n+                                                                <select name=\"receiver_id_type{{$i+1}}\" id=\"\" class=\"form-control receiver_id_type\">\n+                                                                    @if ($box->receiver_id_type == 'Aadhar' || $box->receiver_id_type == 'Aadhaar Number' )\n+                                                                        <option value=\"Aadhaar Number\" selected>Aadhaar Number</option>\n+                                                                        <option value=\"Passport Number\">Passport Number</option>\n+                                                                    @else\n+                                                                        <option value=\"Aadhar\">Aadhar</option>\n+                                                                        <option value=\"Passport Number\" selected>Passport Number</option>\n+                                                                    @endif\n+                                                                </select>\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID</label>\n+                                                                <input type=\"text\" name=\"receiver_id_no{{$i+1}}\" value=\"{{ $box->receiver_id_no }}\" class=\"form-control receiver_id_no\" data-index=\"{{$i+1}}\">\n+                                                            </div>\n+\n+                                                            <div class=\"form-group mb-2\">\n+                                                                <label>ID Image</label>\n+                                                                <input type=\"hidden\" name=\"receiver_id_image_value{{$i+1}}\" value=\"{{$box->receiver_id_image}}\" class=\"receiver_id_image_value\">\n+                                                                <input type=\"file\" name=\"receiver_id_image{{$i+1}}[]\" value=\"{{$box->receiver_id_image}}\" class=\"form-control receiver_id_image\" multiple>\n+                                                                @if ($box->receiver_id_image)\n+                                                                    @foreach (json_decode($box->receiver_id_image, true) as  $image)\n+                                                                    <a href=\"{{asset($image)}}\" class=\"pt-4 pb-2 pl-3\" download><img data-src=\"{{asset($image)}} \" class=\"id_img\" alt=\"img\" width=\"100\" height=\"50\" class=\"pt-2\" style=\"border: solid 1px; margin-top: 5px;\"> </a>\n+                                                                    @endforeach\n+                                                                @else\n+                                                                    <h6 class=\"pt-2\">No file is uploaded</h6>\n+                                                                @endif\n+                                                            </div>\n+                                                        </div>\n+                                                        <div class=\"col-md-2\">\n+                                                            <div class=\"form-group\">\n                                                                 <label>Weight</label>\n                                                                 <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{ $box->weight }}\" class=\"form-control weight\">\n                                                                 {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                             </div>\n                                                         </div>\n-                                                        <div class=\"row\">\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                         \n-                                            <div class=\"row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Sender/Customer</label>\n-                                                    <select name=\"box_sender_id{{$i+1}}\" id=\"box_sender_id{{$i+1}}\" class=\"form-control select2\">\n-                                                        @foreach (get_customers('sender') as $sender)\n-                                                            <option value=\"{{ $sender->id }}\"\n-                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n-                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$sender->name ?? ''}}\"\n-                                                        data-email=\"{{$sender->email ?? ''}}\"\n-                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n-                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n-                                                        </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('sender_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-\n-                                                </div>\n-                                                \n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-\n-                                            </div>\n-                 \n-                                        </div>\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                            \n-                                            <div class=\" row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Receiver/Customer</label>\n-                                                    <select name=\"box_receiver_id{{$i+1}}\" id=\"box_receiver_id{{$i+1}}\"\n-                                                            class=\"form-control select2\">\n-                                                        @foreach (get_customers('receiver') as $receiver)\n-                                                            <option value=\"{{ $receiver->id }}\"\n-                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n-                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$receiver->name ?? ''}}\"\n-                                                        data-email=\"{{$receiver->email ?? ''}}\"\n-                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n-                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n-                                                            </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('receiver_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-                                            </div>\n-                                            \n-                                        </div>\n-                                    </div> \n+                                                    </div>\n                                                     <div class=\"body box_und_calc\" id=\"packageinfo{{$i+1}}\" >\n                                                         <table class=\"table table-bordered packageinfo{{$i+1}}\">\n                                                             @foreach($box->packages as $j => $package)\n \n@@ -726,10 +782,13 @@\n                                                             <div class=\"col-md-2 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }} \" id=\"packing{{$i+1}}\">\n                                                                 <div class=\"form-group\">\n                                                                     <label>Packing</label>\n                                                                     <select name='packing{{$i+1}}' data-no='{{$i+1}}' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n-                                                                      \n+                                                                        {{-- <option value=''>Select</option> --}}\n                                                                         <option value='2' selected >Cargo Packing</option>\n+                                                                        {{-- <option {{ ($box->packing== 1) ? 'selected' : \"\" }} value='1'>Customer Packing</option>\n+                                                                        <option {{ ($box->packing== 2) ? 'selected' : \"\" }} value='2'>Cargo Packing</option> --}}\n+\n                                                                     </select>\n                                                                 </div>\n \n                                                             </div>\n@@ -745,16 +804,27 @@\n                                                                         </select>\n                                                                 </div>\n                                                             </div>\n \n+\n+\n+\n+\n+\n                                                         <div class=\"col-md-1\">\n                                                             <div class=\"form-group\">\n-                                                                <label>Volume</label>                                                              \n+                                                                <label>Volume</label>\n+                                                                {{-- <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"{{$box->unit_value}}\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\"> --}}\n                                                                 <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"15.19\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\">\n \n                                                             </div>\n                                                         </div>\n-                                                      \n+                                                        {{-- <div class=\"col-md-1\">\n+                                                            <div class=\"form-group\">\n+                                                                <label>Weight</label>\n+                                                                <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{$box->weight}}\" class=\"form-control box-weight\" data-weight=\"{{$i+1}}\">\n+                                                            </div>\n+                                                        </div> --}}\n                                                         <div class=\"col-md-1\">\n                                                             <div class=\"form-group\">\n                                                                 <label>Rate</label>\n                                                                 {{-- <input type=\"text\" name=\"rate{{$i+1}}\" value=\"{{$box->rate}}\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\"> --}}\n@@ -769,8 +839,9 @@\n                                                                 <!-- <input type=\"hidden\" name=\"box_name{{$i+1}}\" value=\"{{$box->box_name}}\" class=\"form-control box_name\"> -->\n                                                             </div>\n                                                         </div>\n \n+\n                                                         <div class=\"col-md-2\" id=\"box_packing_charge{{$i+1}}\">\n                                                         <div class=\"form-group\">\n                                                             <label>Packing charge</label>\n                                                             {{-- <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"{{$box->box_packing_charge}}\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/> --}}\n@@ -778,8 +849,11 @@\n \n                                                         </div>\n                                                         </div>\n \n+\n+\n+\n                                                     </div>\n                                                 </div>\n \n \n@@ -788,8 +862,33 @@\n                                                 <?php $ik = $ik -1; ?>\n                                                 @endforeach\n \n                                                 <div id=\"Container\"> </div>\n+\n+\n+\n+                                            <!-- <div class=\"row\" id=\"total-package\" style=\"display:none;\">\n+                                                <table class=\"table table-bordered\">\n+                                                    <tbody>\n+                                                        <tr>\n+                                                            <td width=\"25%\"><h4>Total Amount : </h4></td>\n+                                                            <td width=\"25%\"><h4>\n+                                                                <span id=\"totalPackageAmt\" class=\"package-total-amount\">{{ $grand_total_amount }}</span>\n+                                                            </h4>\n+                                                            <input type=\"hidden\" name=\"package_total_amount\" value=\"{{ $grand_total_amount }}\" >\n+\n+\n+                                                            </td>\n+                                                            <td width=\"25%\"><h4>Total Quantity: </h4></td>\n+                                                            <td width=\"25%\">\n+                                                                <h4><span id=\"totalPackageqty\">{{$grand_total_qty }}</span></h4>\n+                                                                <input type=\"hidden\" name=\"package_total_quantity\" value=\"{{$grand_total_qty }}\" >\n+                                                            </td>\n+                                                        </tr>\n+                                                    </tbody>\n+                                                </table>\n+                                            <div> -->\n+\n                                             <hr>\n                                             <div class=\"col-md-8\"  id=\"TotalDiv\" style=\"display:none;\">\n                                                 <div class=\"body\">\n                                                     <table class=\"table \" >\n@@ -909,13 +1008,17 @@\n                                                                 </div>\n \n                                                             </div>\n \n+\n+\n+\n+\n                                                                 <div class=\"row  pt-2\">\n                                                                     <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                         <label>Insurance </label>\n                                                                     </div>\n-                                                                    <div class=\"col-md-2\">\n+                                                                    <div class=\"col-md-2\"\">\n                                                                         <div class=\"\">\n                                                                             <input type=\"text\" name=\"insurance\"\n                                                                             value=\"{{$shipment->insurance}}\" class=\"form-control insurance_weight tot_wgt\">\n                                                                         </div>\n@@ -1029,17 +1132,55 @@\n                                                                         </div>\n                                                                     </div>\n \n                                                                 </div>\n-                                                            \n \n+\n+\n+\n+\n+\n+\n+\n+\n+                                                                {{-- <div class=\"row pt-2\">\n+                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                            <label>Other weight</label>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\" >\n+                                                                            <div class=\"\">\n+                                                                                <input type=\"text\" name=\"other_weight\"\n+                                                                                value=\"{{$shipment->other_weight}}\" class=\"form-control other_weight tot_wgt\">\n+                                                                            </div>\n+                                                                        </div>\n+\n+                                                                        <div class=\"col-md-2\">\n+                                                                            <div class=\"\">\n+                                                                                <input type=\"text\" name=\"rate_other_weight\" value=\"{{$shipment->rate_other_weight}}\" class=\"form-control rate_other_weight tot_rate\">\n+                                                                            </div>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_other_weight\" value=\"{{ $shipment->amount_other_weight }}\" class=\"form-control tot_amt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div> --}}\n+\n                                                                 <div class=\"row\">\n \n+\n                                                                         <div class=\"col-md-6 pt-2\"  style=\"text-align:right;font-size:18px;font-weight:bold;\">\n \n                                                                         </div>\n                                                                         <div class=\"col-md-2 pt-2\" style=\"border-top:1px solid;\">\n-                                                                            <div class=\"\">  <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n+                                                                            <div class=\"\">\n+                                                                            {{-- <input type=\"text\" name=\"normal_weight\" value=\"{{$shipment->normal_weight}}\" class=\"form-control tot_wgt1\"> --}}\n+\n+                                                                            <!-- THIS VALUE IS USED FOR CALCULATION  normal_weight_temp-->\n+                                                                            {{-- <input type=\"hidden\" name=\"normal_weight_temp\" value=\"{{$shipment->normal_weight}}\" class=\"form-control tot_wgt1\" readonly> --}}\n+\n+                                                                                <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n                                                                             </div>\n                                                                         </div>\n \n                                                                         <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n@@ -1073,10 +1214,70 @@\n                                                                         </div>\n                                                                 </div>\n \n                                                             </td>\n-                                                         \n+                                                            {{-- <td width=\"40%\">\n+                                                                <div class=\"row\">\n \n+\n+                                                                    <div class=\"col-md-6 \"  style=\"text-align:right;\">\n+                                                                        <label>Total Freight</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6 \">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"total_freight\"\n+                                                                            value=\"{{$shipment->total_freight}}\" class=\"form-control gtotal\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Box Packing Charge</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"packing_charge\" value=\"{{ $shipment->packing_charge}}\"  id=\"packing_charge\" class=\"form-control gtotal\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Other Packing Charge</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6 \">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"other_charges\" value=\"{{ $discount->other_packing_charge? $discount->other_packing_charge:0}}\" class=\"form-control gtotal\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Document Charge</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"document_charge\" value=\"{{ $discount->document_charge? $discount->document_charge:0}}\" class=\"form-control  gtotal\" step=\"any\">\n+\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Discount</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\">\n+                                                                        <div class=\"\">\n+                                                                        <input type=\"text\" value=\"{{ $discount->discount? $discount->discount:0}}\"\n+                                                                        id=\"discount\" name=\"discount\" class=\"form-control discount\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Grand Total  {{ $shipment->grand_total}} </label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-6\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"grand_total\" value=\"{{ $shipment->grand_total}}\" class=\"form-control\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                </div>\n+                                                            </td> --}}\n+\n                                                         </tr>\n                                                     </table>\n                                                 </div>\n                                             </div>\n@@ -1124,101 +1325,132 @@\n                                                         <button type=\"button\" id=\"addpackage\" class=\"btn btn-success addpackage\">Add Items</button>\n                                                         <button type=\"button\" id=\"removeBox\" class=\"btn btn-danger removeBox\">Delete Box</button>\n                                                     </div>\n                                                 </div>\n-                                                <div class=\"col-md-2\">\n+                                                <div class=\"row \">\n+                                                    <p style=\"font-size: 12px;margin: unset; margin-left: 9px; color:red;\" id=\"noBoxFound\"></p>\n+                                                    <div class=\"col-12 d-flex\">\n+                                                        <input type=\"text\" class=\"form-control col-3 oldBoxNo\" placeholder=\"Box number\">\n+                                                        <button type=\"button\"  class=\"btn btn-primary col-1 ml-2 oldBoxFill fillAdress\" >Fill</button>\n+                                                    </div>\n+                                                    <div class=\"col-5\">\n+                                                        <div class=\"form-group \">\n+                                                            <label>Sender/Customer</label>\n+                                                            {{-- <select name=\"box_sender_id\" id=\"box_sender_id\" class=\"form-control select2\">\n+                                                                <option value=\"\">Select</option>\n+                                                                @foreach (get_customers('sender') as $sender)\n+                                                                    <option value=\"{{ $sender->id }}\"\n+                                                                        >{{ $sender->name }} </option>\n+                                                                @endforeach\n+                                                            </select>\n+                                                            @error('sender_id')\n+                                                                <span class=\"text-danger\">{{ $message }}</span>\n+                                                            @enderror --}}\n+                                                        </div>\n+\n                                                         <div class=\"form-group\">\n+                                                            <label>Name</label>\n+                                                            <input type=\"text\" name=\"sender_name[]\"  class=\"form-control sender_name_1 sender_name\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Address</label>\n+                                                            <textarea name=\"sender_address[]\"  cols=\"10\" rows=\"10\" class=\"form-control sender_address_1 sender_address\" style=\"height: 45px;\"></textarea>\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Pin</label>\n+                                                            <input type=\"text\" name=\"sender_pin[]\" value=\"\" class=\"form-control sender_pin_1 sender_pin\" >\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Mobile</label>\n+                                                            <input type=\"text\" name=\"sender_mob[]\"  class=\"form-control sender_mob_1 sender_mob\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID Type</label>\n+                                                            <select name=\"sender_id_type[]\" id=\"\" class=\"form-control sender_id_type\">\n+                                                                <option value=\"Aadhaar Number\">Aadhaar Number</option>\\\n+                                                                <option value=\"Passport Number\">Passport Number</option>\n+                                                            </select>\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID</label>\n+                                                            <input type=\"text\" name=\"sender_id_no[]\"  class=\"form-control sender_id_no_1 sender_id_no\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID Image</label>\n+                                                            <input type=\"file\" name=\"sender_id_image[]\"  class=\"form-control sender_id_img_1 sender_id_img\" multiple>\n+                                                        </div>\n+\n+                                                    </div>\n+                                                    <div class=\"col-5\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Receiver/Customer</label>\n+                                                            {{-- <select name=\"box_receiver_id\" id=\"box_receiver_id\"\n+                                                                    class=\"form-control select2\">\n+                                                                    <option value=\"\">Select</option>\n+                                                                @foreach (get_customers('receiver') as $receiver)\n+                                                                    <option value=\"{{ $receiver->id }}\"\n+                                                                    >{{ $receiver->name }}</option>\n+                                                                @endforeach\n+                                                            </select>\n+                                                            @error('receiver_id')\n+                                                                <span class=\"text-danger\">{{ $message }}</span>\n+                                                            @enderror --}}\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Name</label>\n+                                                            <input type=\"text\" name=\"receiver_name[]\"  class=\"form-control receiver_name_1 receiver_name\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Address</label>\n+                                                            <textarea name=\"receiver_address[]\"  cols=\"10\" rows=\"10\" class=\"form-control receiver_address_1 receiver_address\" style=\"height: 45px;\"></textarea>\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Pin</label>\n+                                                            <input type=\"text\" name=\"receiver_pin[]\" value=\"\" class=\"form-control receiver_pin_1 receiver_pin\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group\">\n+                                                            <label>Mobile</label>\n+                                                            <input type=\"text\" name=\"receiver_mob[]\"  class=\"form-control receiver_mob_1 receiver_mob\">\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID Type</label>\n+                                                            <select name=\"receiver_id_type[]\" id=\"\" class=\"form-control receiver_id_type\">\n+                                                                <option value=\"Aadhaar Number\">Aadhaar Number</option>\\\n+                                                                <option value=\"Passport Number\">Passport Number</option>\n+                                                            </select>\n+                                                        </div>\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID</label>\n+                                                            <input type=\"text\" name=\"receiver_id_no[]\"  class=\"form-control receiver_id_no_1 receiver_id_no\">\n+                                                        </div>\n+\n+\n+                                                        <div class=\"form-group mb-2\">\n+                                                            <label>ID Image</label>\n+                                                            <input type=\"file\" name=\"receiver_id_image[]\"  class=\"form-control receiver_id_img_1 receiver_id_img\" multiple>\n+                                                        </div>\n+\n+                                                    </div>\n+                                                    <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n                                                             <label>Weight</label>\n                                                             <input type=\"text\" name=\"weight[]\" value=\"\" class=\"form-control box-weight1 weight\">\n                                                             {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                         </div>\n                                                     </div>\n-                                                <div class=\"row\">\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                         \n-                                            <div class=\"row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Sender/Customer</label>\n-                                                    <select name=\"sender_id[]\" id=\"sender_id[]\" class=\"form-control select2\">\n-                                                        @foreach (get_customers('sender') as $sender)\n-                                                            <option value=\"{{ $sender->id }}\"\n-                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n-                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$sender->name ?? ''}}\"\n-                                                        data-email=\"{{$sender->email ?? ''}}\"\n-                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n-                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n-                                                        </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('sender_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-\n                                                 </div>\n-                                                <div class=\"col-md-2\">\n-                                                <button type=\"button\" id=\"AddSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-\n-                                            </div>\n-                 \n-                                        </div>\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                            \n-                                            <div class=\" row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Receiver/Customer</label>\n-                                                    <select name=\"receiver_id[]\" id=\"receiver_id[]\"\n-                                                            class=\"form-control select2\">\n-                                                        @foreach (get_customers('receiver') as $receiver)\n-                                                            <option value=\"{{ $receiver->id }}\"\n-                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n-                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$receiver->name ?? ''}}\"\n-                                                        data-email=\"{{$receiver->email ?? ''}}\"\n-                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n-                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n-                                                            </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('receiver_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddReceiver[]\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditReceiver[]\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-                                            </div>\n-                                            \n-                                        </div>\n-                                    </div> \n-                                              \n                                                 <div class=\"body box_und_calc\" id=\"packageinfo\">\n \n                                                     <table class=\"table table-bordered packageinfo\">\n                                                         <tr>\n"
                },
                {
                    "date": 1733311403116,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,8 +152,9 @@\n                                                     <select name=\"sender_id\" id=\"sender_id\" class=\"form-control select2\" required>\n                                                         <option value='' selected=\"selected\">Select</option>\n                                                         @foreach (get_customers('sender')->where('branch_id', branch()->id) as $sender)\n                                                         <option value=\"{{ $sender->id }}\"\n+                                                        {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }}\n                                                         data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n                                                         data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n                                                         data-name=\"{{$sender->name ?? ''}}\"\n                                                         data-email=\"{{$sender->email ?? ''}}\"\n@@ -207,8 +208,9 @@\n                                                     <select name=\"receiver_id\" id=\"receiver_id\" class=\"form-control select2\" required>\n                                                     <option value='' selected=\"selected\">Select</option>\n                                                     @foreach (get_customers('receiver')->where('branch_id', branch()->id) as $receiver)\n                                                     <option value=\"{{ $receiver->id }}\"\n+                                                    {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n                                                         data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n                                                         data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n                                                         data-name=\"{{$receiver->name ?? ''}}\"\n                                                         data-email=\"{{$receiver->email ?? ''}}\"\n@@ -513,159 +515,100 @@\n                                                         <button type=\"button\" id=\"removeBox{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-danger removeBox\">Delete Box</button>\n \n                                                         </div>\n                                                     </div>\n-                                                    <div class=\"row \">\n-                                                        <p style=\"font-size: 12px;margin: unset; margin-left: 9px; color:red;\" id=\"noBoxFound{{$i+1}}\"></p>\n-                                                        <div class=\"col-12 d-flex\">\n-                                                            <input type=\"text\" class=\"form-control col-3 oldBoxNo{{$i+1}}\" placeholder=\"Box number\">\n-                                                            <button type=\"button\"  class=\"btn btn-primary col-1 ml-2 oldBoxFill{{$i+1}} fillAdress\" data-boxId={{$i+1}} >Fill</button>\n-                                                        </div>\n-                                                        <div class=\"col-5 box_details\">\n-                                                            <div class=\"form-group \">\n-                                                                <label>Sender/Customer</label>\n-                                                                {{-- <select name=\"box_sender_id{{$i+1}}\" id=\"sender_id\" class=\"form-control select2\">\n-                                                                    <option value=\"\">Select</option>\n-                                                                    @foreach (get_customers('sender') as $sender)\n-                                                                        <option value=\"{{ $sender->id }}\"\n-                                                                            {{ ($box->sender_id == $sender->id) ? 'selected' : \"\" }}\n-                                                                            >{{ $sender->name }}</option>\n-                                                                    @endforeach\n-                                                                </select>\n-                                                                @error('sender_id')\n-                                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                                @enderror --}}\n-                                                            </div>\n-\n+                                                    <div class=\"col-md-2\">\n                                                             <div class=\"form-group\">\n-                                                                <label>Name</label>\n-                                                                <input type=\"text\" name=\"sender_name{{$i+1}}\" value=\"{{ $box->sender_name }}\" class=\"form-control sender_name\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Address</label>\n-                                                                <textarea name=\"sender_address{{$i+1}}\"  cols=\"10\" rows=\"10\" class=\"form-control sender_address\" style=\"height: 45px;\">{{ $box->sender_address }}</textarea>\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Pin</label>\n-                                                                <input type=\"text\" name=\"sender_pin{{$i+1}}\" value=\"{{ $box->sender_pin }}\" class=\"form-control sender_pin\" >\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Mobile</label>\n-                                                                <input type=\"text\" name=\"sender_mob{{$i+1}}\" value=\"{{ $box->sender_mob }}\" class=\"form-control sender_mob\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID Type</label>\n-                                                                <select name=\"sender_id_type{{$i+1}}\" id=\"\" class=\"form-control sender_id_type\">\n-                                                                    @if ($box->sender_id_type == 'Aadhar' || $box->sender_id_type == 'Aadhaar Number')\n-                                                                        <option value=\"Aadhaar Number\" selected>Aadhaar Number</option>\n-                                                                        <option value=\"Passport Number\">Passport Number</option>\n-                                                                    @else\n-                                                                        <option value=\"Aadhaar Number\">Aadhaar Number</option>\n-                                                                        <option value=\"Passport Number\" selected>Passport Number</option>\n-                                                                    @endif\n-\n-                                                                </select>\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID</label>\n-                                                                <input type=\"text\" name=\"sender_id_no{{$i+1}}\" value=\"{{ $box->sender_id_no }}\" class=\"form-control sender_id_no\" data-index=\"{{$i+1}}\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID Image</label>\n-                                                                <input type=\"hidden\" name=\"sender_id_image_value{{$i+1}}\" value=\"{{$box->sender_id_image}}\" class=\"sender_id_image_value\">\n-                                                                <input type=\"file\" name=\"sender_id_image{{$i+1}}[]\" value=\"{{ $box->sender_id_image }}\" class=\"form-control sender_id_image\" multiple>\n-                                                                @if ($box->sender_id_image)\n-                                                                    @foreach (json_decode($box->sender_id_image, true) as  $image)\n-                                                                    <a href=\"{{asset($image)}}\" class=\"pt-4 pb-2 pl-3\" download><img data-src=\"{{asset($image)}} \" class=\"id_img\" alt=\"img\" width=\"100\" height=\"50\" class=\"pt-2\" style=\"border: solid 1px; margin-top: 5px;\"> </a>\n-                                                                    @endforeach\n-                                                                @else\n-                                                                    <h6 class=\"pt-2\">No file is uploaded</h6>\n-                                                                @endif\n-                                                            </div>\n-\n-                                                        </div>\n-                                                        <div class=\"col-5 box_details\">\n-                                                            <div class=\"form-group \">\n-                                                                <label>Receiver/Customer</label>\n-                                                                {{-- <select name=\"box_receiver_id{{$i+1}}\" id=\"receiver_id\"\n-                                                                        class=\"form-control select2\">\n-                                                                        <option value=\"\">Select</option>\n-                                                                    @foreach (get_customers('receiver') as $receiver)\n-                                                                        <option value=\"{{ $receiver->id }}\"\n-                                                                        {{ ($box->receiver_id == $receiver->id) ? 'selected' : \"\" }}\n-                                                                        >{{ $receiver->name }}</option>\n-                                                                    @endforeach\n-                                                                </select>\n-                                                                @error('receiver_id')\n-                                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                                @enderror --}}\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Name</label>\n-                                                                <input type=\"text\" name=\"receiver_name{{$i+1}}\" value=\"{{ $box->receiver_name }}\" class=\"form-control receiver_name\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Address</label>\n-                                                                <textarea name=\"receiver_address{{$i+1}}\"  cols=\"10\" rows=\"10\" class=\"form-control receiver_address\" style=\"height: 45px;\">{{ $box->receiver_address }}</textarea>\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Pin</label>\n-                                                                <input type=\"text\" name=\"receiver_pin{{$i+1}}\" value=\"{{ $box->receiver_pin }}\" class=\"form-control receiver_pin\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group\">\n-                                                                <label>Mobile</label>\n-                                                                <input type=\"text\" name=\"receiver_mob{{$i+1}}\" value=\"{{ $box->receiver_mob }}\" class=\"form-control receiver_mob\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID Type</label>\n-                                                                <select name=\"receiver_id_type{{$i+1}}\" id=\"\" class=\"form-control receiver_id_type\">\n-                                                                    @if ($box->receiver_id_type == 'Aadhar' || $box->receiver_id_type == 'Aadhaar Number' )\n-                                                                        <option value=\"Aadhaar Number\" selected>Aadhaar Number</option>\n-                                                                        <option value=\"Passport Number\">Passport Number</option>\n-                                                                    @else\n-                                                                        <option value=\"Aadhar\">Aadhar</option>\n-                                                                        <option value=\"Passport Number\" selected>Passport Number</option>\n-                                                                    @endif\n-                                                                </select>\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID</label>\n-                                                                <input type=\"text\" name=\"receiver_id_no{{$i+1}}\" value=\"{{ $box->receiver_id_no }}\" class=\"form-control receiver_id_no\" data-index=\"{{$i+1}}\">\n-                                                            </div>\n-\n-                                                            <div class=\"form-group mb-2\">\n-                                                                <label>ID Image</label>\n-                                                                <input type=\"hidden\" name=\"receiver_id_image_value{{$i+1}}\" value=\"{{$box->receiver_id_image}}\" class=\"receiver_id_image_value\">\n-                                                                <input type=\"file\" name=\"receiver_id_image{{$i+1}}[]\" value=\"{{$box->receiver_id_image}}\" class=\"form-control receiver_id_image\" multiple>\n-                                                                @if ($box->receiver_id_image)\n-                                                                    @foreach (json_decode($box->receiver_id_image, true) as  $image)\n-                                                                    <a href=\"{{asset($image)}}\" class=\"pt-4 pb-2 pl-3\" download><img data-src=\"{{asset($image)}} \" class=\"id_img\" alt=\"img\" width=\"100\" height=\"50\" class=\"pt-2\" style=\"border: solid 1px; margin-top: 5px;\"> </a>\n-                                                                    @endforeach\n-                                                                @else\n-                                                                    <h6 class=\"pt-2\">No file is uploaded</h6>\n-                                                                @endif\n-                                                            </div>\n-                                                        </div>\n-                                                        <div class=\"col-md-2\">\n-                                                            <div class=\"form-group\">\n                                                                 <label>Weight</label>\n                                                                 <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{ $box->weight }}\" class=\"form-control weight\">\n                                                                 {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                             </div>\n                                                         </div>\n-                                                    </div>\n+                                                        <div class=\"row\">\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                         \n+                                            <div class=\"row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Sender/Customer</label>\n+                                                    <select name=\"box_sender_id{{$i+1}}\" id=\"box_sender_id{{$i+1}}\" class=\"form-control select2\">\n+                                                        @foreach (get_customers('sender') as $sender)\n+                                                            <option value=\"{{ $sender->id }}\"\n+                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n+                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$sender->name ?? ''}}\"\n+                                                        data-email=\"{{$sender->email ?? ''}}\"\n+                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n+                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n+                                                        </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('sender_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+\n+                                            </div>\n+                 \n+                                        </div>\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                            \n+                                            <div class=\" row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Receiver/Customer</label>\n+                                                    <select name=\"box_receiver_id{{$i+1}}\" id=\"box_receiver_id{{$i+1}}\"\n+                                                            class=\"form-control select2\">\n+                                                        @foreach (get_customers('receiver') as $receiver)\n+                                                            <option value=\"{{ $receiver->id }}\"\n+                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n+                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$receiver->name ?? ''}}\"\n+                                                        data-email=\"{{$receiver->email ?? ''}}\"\n+                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n+                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n+                                                            </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('receiver_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+                                            </div>\n+                                            \n+                                        </div>\n+                                    </div> \n                                                     <div class=\"body box_und_calc\" id=\"packageinfo{{$i+1}}\" >\n                                                         <table class=\"table table-bordered packageinfo{{$i+1}}\">\n                                                             @foreach($box->packages as $j => $package)\n \n@@ -782,13 +725,10 @@\n                                                             <div class=\"col-md-2 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }} \" id=\"packing{{$i+1}}\">\n                                                                 <div class=\"form-group\">\n                                                                     <label>Packing</label>\n                                                                     <select name='packing{{$i+1}}' data-no='{{$i+1}}' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n-                                                                        {{-- <option value=''>Select</option> --}}\n+                                                                      \n                                                                         <option value='2' selected >Cargo Packing</option>\n-                                                                        {{-- <option {{ ($box->packing== 1) ? 'selected' : \"\" }} value='1'>Customer Packing</option>\n-                                                                        <option {{ ($box->packing== 2) ? 'selected' : \"\" }} value='2'>Cargo Packing</option> --}}\n-\n                                                                     </select>\n                                                                 </div>\n \n                                                             </div>\n@@ -804,27 +744,16 @@\n                                                                         </select>\n                                                                 </div>\n                                                             </div>\n \n-\n-\n-\n-\n-\n                                                         <div class=\"col-md-1\">\n                                                             <div class=\"form-group\">\n-                                                                <label>Volume</label>\n-                                                                {{-- <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"{{$box->unit_value}}\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\"> --}}\n+                                                                <label>Volume</label>                                                              \n                                                                 <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"15.19\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\">\n \n                                                             </div>\n                                                         </div>\n-                                                        {{-- <div class=\"col-md-1\">\n-                                                            <div class=\"form-group\">\n-                                                                <label>Weight</label>\n-                                                                <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{$box->weight}}\" class=\"form-control box-weight\" data-weight=\"{{$i+1}}\">\n-                                                            </div>\n-                                                        </div> --}}\n+                                                      \n                                                         <div class=\"col-md-1\">\n                                                             <div class=\"form-group\">\n                                                                 <label>Rate</label>\n                                                                 {{-- <input type=\"text\" name=\"rate{{$i+1}}\" value=\"{{$box->rate}}\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\"> --}}\n@@ -839,9 +768,8 @@\n                                                                 <!-- <input type=\"hidden\" name=\"box_name{{$i+1}}\" value=\"{{$box->box_name}}\" class=\"form-control box_name\"> -->\n                                                             </div>\n                                                         </div>\n \n-\n                                                         <div class=\"col-md-2\" id=\"box_packing_charge{{$i+1}}\">\n                                                         <div class=\"form-group\">\n                                                             <label>Packing charge</label>\n                                                             {{-- <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"{{$box->box_packing_charge}}\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/> --}}\n@@ -849,11 +777,8 @@\n \n                                                         </div>\n                                                         </div>\n \n-\n-\n-\n                                                     </div>\n                                                 </div>\n \n \n@@ -862,33 +787,8 @@\n                                                 <?php $ik = $ik -1; ?>\n                                                 @endforeach\n \n                                                 <div id=\"Container\"> </div>\n-\n-\n-\n-                                            <!-- <div class=\"row\" id=\"total-package\" style=\"display:none;\">\n-                                                <table class=\"table table-bordered\">\n-                                                    <tbody>\n-                                                        <tr>\n-                                                            <td width=\"25%\"><h4>Total Amount : </h4></td>\n-                                                            <td width=\"25%\"><h4>\n-                                                                <span id=\"totalPackageAmt\" class=\"package-total-amount\">{{ $grand_total_amount }}</span>\n-                                                            </h4>\n-                                                            <input type=\"hidden\" name=\"package_total_amount\" value=\"{{ $grand_total_amount }}\" >\n-\n-\n-                                                            </td>\n-                                                            <td width=\"25%\"><h4>Total Quantity: </h4></td>\n-                                                            <td width=\"25%\">\n-                                                                <h4><span id=\"totalPackageqty\">{{$grand_total_qty }}</span></h4>\n-                                                                <input type=\"hidden\" name=\"package_total_quantity\" value=\"{{$grand_total_qty }}\" >\n-                                                            </td>\n-                                                        </tr>\n-                                                    </tbody>\n-                                                </table>\n-                                            <div> -->\n-\n                                             <hr>\n                                             <div class=\"col-md-8\"  id=\"TotalDiv\" style=\"display:none;\">\n                                                 <div class=\"body\">\n                                                     <table class=\"table \" >\n@@ -1008,17 +908,13 @@\n                                                                 </div>\n \n                                                             </div>\n \n-\n-\n-\n-\n                                                                 <div class=\"row  pt-2\">\n                                                                     <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                         <label>Insurance </label>\n                                                                     </div>\n-                                                                    <div class=\"col-md-2\"\">\n+                                                                    <div class=\"col-md-2\">\n                                                                         <div class=\"\">\n                                                                             <input type=\"text\" name=\"insurance\"\n                                                                             value=\"{{$shipment->insurance}}\" class=\"form-control insurance_weight tot_wgt\">\n                                                                         </div>\n@@ -1132,55 +1028,17 @@\n                                                                         </div>\n                                                                     </div>\n \n                                                                 </div>\n+                                                            \n \n-\n-\n-\n-\n-\n-\n-\n-\n-                                                                {{-- <div class=\"row pt-2\">\n-                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                            <label>Other weight</label>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\" >\n-                                                                            <div class=\"\">\n-                                                                                <input type=\"text\" name=\"other_weight\"\n-                                                                                value=\"{{$shipment->other_weight}}\" class=\"form-control other_weight tot_wgt\">\n-                                                                            </div>\n-                                                                        </div>\n-\n-                                                                        <div class=\"col-md-2\">\n-                                                                            <div class=\"\">\n-                                                                                <input type=\"text\" name=\"rate_other_weight\" value=\"{{$shipment->rate_other_weight}}\" class=\"form-control rate_other_weight tot_rate\">\n-                                                                            </div>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_other_weight\" value=\"{{ $shipment->amount_other_weight }}\" class=\"form-control tot_amt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div> --}}\n-\n                                                                 <div class=\"row\">\n \n-\n                                                                         <div class=\"col-md-6 pt-2\"  style=\"text-align:right;font-size:18px;font-weight:bold;\">\n \n                                                                         </div>\n                                                                         <div class=\"col-md-2 pt-2\" style=\"border-top:1px solid;\">\n-                                                                            <div class=\"\">\n-                                                                            {{-- <input type=\"text\" name=\"normal_weight\" value=\"{{$shipment->normal_weight}}\" class=\"form-control tot_wgt1\"> --}}\n-\n-                                                                            <!-- THIS VALUE IS USED FOR CALCULATION  normal_weight_temp-->\n-                                                                            {{-- <input type=\"hidden\" name=\"normal_weight_temp\" value=\"{{$shipment->normal_weight}}\" class=\"form-control tot_wgt1\" readonly> --}}\n-\n-                                                                                <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n+                                                                            <div class=\"\">  <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n                                                                             </div>\n                                                                         </div>\n \n                                                                         <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n@@ -1214,70 +1072,10 @@\n                                                                         </div>\n                                                                 </div>\n \n                                                             </td>\n-                                                            {{-- <td width=\"40%\">\n-                                                                <div class=\"row\">\n+                                                         \n \n-\n-                                                                    <div class=\"col-md-6 \"  style=\"text-align:right;\">\n-                                                                        <label>Total Freight</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6 \">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"total_freight\"\n-                                                                            value=\"{{$shipment->total_freight}}\" class=\"form-control gtotal\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Box Packing Charge</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"packing_charge\" value=\"{{ $shipment->packing_charge}}\"  id=\"packing_charge\" class=\"form-control gtotal\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Other Packing Charge</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6 \">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"other_charges\" value=\"{{ $discount->other_packing_charge? $discount->other_packing_charge:0}}\" class=\"form-control gtotal\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Document Charge</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"document_charge\" value=\"{{ $discount->document_charge? $discount->document_charge:0}}\" class=\"form-control  gtotal\" step=\"any\">\n-\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Discount</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\">\n-                                                                        <div class=\"\">\n-                                                                        <input type=\"text\" value=\"{{ $discount->discount? $discount->discount:0}}\"\n-                                                                        id=\"discount\" name=\"discount\" class=\"form-control discount\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Grand Total  {{ $shipment->grand_total}} </label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-6\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"grand_total\" value=\"{{ $shipment->grand_total}}\" class=\"form-control\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                </div>\n-                                                            </td> --}}\n-\n                                                         </tr>\n                                                     </table>\n                                                 </div>\n                                             </div>\n@@ -1325,132 +1123,101 @@\n                                                         <button type=\"button\" id=\"addpackage\" class=\"btn btn-success addpackage\">Add Items</button>\n                                                         <button type=\"button\" id=\"removeBox\" class=\"btn btn-danger removeBox\">Delete Box</button>\n                                                     </div>\n                                                 </div>\n-                                                <div class=\"row \">\n-                                                    <p style=\"font-size: 12px;margin: unset; margin-left: 9px; color:red;\" id=\"noBoxFound\"></p>\n-                                                    <div class=\"col-12 d-flex\">\n-                                                        <input type=\"text\" class=\"form-control col-3 oldBoxNo\" placeholder=\"Box number\">\n-                                                        <button type=\"button\"  class=\"btn btn-primary col-1 ml-2 oldBoxFill fillAdress\" >Fill</button>\n-                                                    </div>\n-                                                    <div class=\"col-5\">\n-                                                        <div class=\"form-group \">\n-                                                            <label>Sender/Customer</label>\n-                                                            {{-- <select name=\"box_sender_id\" id=\"box_sender_id\" class=\"form-control select2\">\n-                                                                <option value=\"\">Select</option>\n-                                                                @foreach (get_customers('sender') as $sender)\n-                                                                    <option value=\"{{ $sender->id }}\"\n-                                                                        >{{ $sender->name }} </option>\n-                                                                @endforeach\n-                                                            </select>\n-                                                            @error('sender_id')\n-                                                                <span class=\"text-danger\">{{ $message }}</span>\n-                                                            @enderror --}}\n-                                                        </div>\n-\n+                                                <div class=\"col-md-2\">\n                                                         <div class=\"form-group\">\n-                                                            <label>Name</label>\n-                                                            <input type=\"text\" name=\"sender_name[]\"  class=\"form-control sender_name_1 sender_name\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Address</label>\n-                                                            <textarea name=\"sender_address[]\"  cols=\"10\" rows=\"10\" class=\"form-control sender_address_1 sender_address\" style=\"height: 45px;\"></textarea>\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Pin</label>\n-                                                            <input type=\"text\" name=\"sender_pin[]\" value=\"\" class=\"form-control sender_pin_1 sender_pin\" >\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Mobile</label>\n-                                                            <input type=\"text\" name=\"sender_mob[]\"  class=\"form-control sender_mob_1 sender_mob\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID Type</label>\n-                                                            <select name=\"sender_id_type[]\" id=\"\" class=\"form-control sender_id_type\">\n-                                                                <option value=\"Aadhaar Number\">Aadhaar Number</option>\\\n-                                                                <option value=\"Passport Number\">Passport Number</option>\n-                                                            </select>\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID</label>\n-                                                            <input type=\"text\" name=\"sender_id_no[]\"  class=\"form-control sender_id_no_1 sender_id_no\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID Image</label>\n-                                                            <input type=\"file\" name=\"sender_id_image[]\"  class=\"form-control sender_id_img_1 sender_id_img\" multiple>\n-                                                        </div>\n-\n-                                                    </div>\n-                                                    <div class=\"col-5\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Receiver/Customer</label>\n-                                                            {{-- <select name=\"box_receiver_id\" id=\"box_receiver_id\"\n-                                                                    class=\"form-control select2\">\n-                                                                    <option value=\"\">Select</option>\n-                                                                @foreach (get_customers('receiver') as $receiver)\n-                                                                    <option value=\"{{ $receiver->id }}\"\n-                                                                    >{{ $receiver->name }}</option>\n-                                                                @endforeach\n-                                                            </select>\n-                                                            @error('receiver_id')\n-                                                                <span class=\"text-danger\">{{ $message }}</span>\n-                                                            @enderror --}}\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Name</label>\n-                                                            <input type=\"text\" name=\"receiver_name[]\"  class=\"form-control receiver_name_1 receiver_name\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Address</label>\n-                                                            <textarea name=\"receiver_address[]\"  cols=\"10\" rows=\"10\" class=\"form-control receiver_address_1 receiver_address\" style=\"height: 45px;\"></textarea>\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Pin</label>\n-                                                            <input type=\"text\" name=\"receiver_pin[]\" value=\"\" class=\"form-control receiver_pin_1 receiver_pin\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group\">\n-                                                            <label>Mobile</label>\n-                                                            <input type=\"text\" name=\"receiver_mob[]\"  class=\"form-control receiver_mob_1 receiver_mob\">\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID Type</label>\n-                                                            <select name=\"receiver_id_type[]\" id=\"\" class=\"form-control receiver_id_type\">\n-                                                                <option value=\"Aadhaar Number\">Aadhaar Number</option>\\\n-                                                                <option value=\"Passport Number\">Passport Number</option>\n-                                                            </select>\n-                                                        </div>\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID</label>\n-                                                            <input type=\"text\" name=\"receiver_id_no[]\"  class=\"form-control receiver_id_no_1 receiver_id_no\">\n-                                                        </div>\n-\n-\n-                                                        <div class=\"form-group mb-2\">\n-                                                            <label>ID Image</label>\n-                                                            <input type=\"file\" name=\"receiver_id_image[]\"  class=\"form-control receiver_id_img_1 receiver_id_img\" multiple>\n-                                                        </div>\n-\n-                                                    </div>\n-                                                    <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n                                                             <label>Weight</label>\n                                                             <input type=\"text\" name=\"weight[]\" value=\"\" class=\"form-control box-weight1 weight\">\n                                                             {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                         </div>\n                                                     </div>\n+                                                <div class=\"row\">\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                         \n+                                            <div class=\"row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Sender/Customer</label>\n+                                                    <select name=\"sender_id[]\" id=\"sender_id[]\" class=\"form-control select2\">\n+                                                        @foreach (get_customers('sender') as $sender)\n+                                                            <option value=\"{{ $sender->id }}\"\n+                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n+                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$sender->name ?? ''}}\"\n+                                                        data-email=\"{{$sender->email ?? ''}}\"\n+                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n+                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n+                                                        </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('sender_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+\n                                                 </div>\n+                                                <div class=\"col-md-2\">\n+                                                <button type=\"button\" id=\"AddSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+\n+                                            </div>\n+                 \n+                                        </div>\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                            \n+                                            <div class=\" row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Receiver/Customer</label>\n+                                                    <select name=\"receiver_id[]\" id=\"receiver_id[]\"\n+                                                            class=\"form-control select2\">\n+                                                        @foreach (get_customers('receiver') as $receiver)\n+                                                            <option value=\"{{ $receiver->id }}\"\n+                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n+                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$receiver->name ?? ''}}\"\n+                                                        data-email=\"{{$receiver->email ?? ''}}\"\n+                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n+                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n+                                                            </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('receiver_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddReceiver[]\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditReceiver[]\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+                                            </div>\n+                                            \n+                                        </div>\n+                                    </div> \n+                                              \n                                                 <div class=\"body box_und_calc\" id=\"packageinfo\">\n \n                                                     <table class=\"table table-bordered packageinfo\">\n                                                         <tr>\n"
                },
                {
                    "date": 1733311560895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -556,11 +556,11 @@\n                                                     @enderror\n \n                                                 </div>\n                                                 <div class=\"col-md-2\">\n-                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n                                                 </div>\n \n                                             </div>\n"
                },
                {
                    "date": 1733311581022,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,3587 @@\n+@extends('layouts.app')\n+\n+@section('content')\n+@section('styles')\n+    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/css/select2.min.css\" rel=\"stylesheet\" />\n+@endsection\n+<style>\n+.boxContainer{\n+    border:1px solid black;\n+    padding:5px;\n+    margin-top:5px;\n+}\n+\n+\n+*{padding:0;margin:0;}\n+\n+body{\n+\tfont-family:Verdana, Geneva, sans-serif;\n+\tfont-size:18px;\n+}\n+\n+.float{\n+\tposition:fixed;\n+\twidth:60px;\n+\theight:60px;\n+\tbottom:220px;\n+\t/* left:320px;*/\n+\tright:20px;\n+\tbackground-color:#0C9;\n+\tcolor:#FFF;\n+\t/* border-radius:50px; */\n+\ttext-align:center;\n+\tbox-shadow: 2px 2px 3px #999;\n+}\n+\n+.my-float{\n+\tmargin-top:22px;\n+}\n+\n+.save{\n+    position:fixed;\n+\twidth:60px;\n+\theight:60px;\n+\tbottom:300px;\n+\t/* left:320px; */\n+\tright:20px;\n+\tbackground-color:#cc5100;\n+\tcolor:#FFF;\n+\t/* border-radius:50px; */\n+\ttext-align:center;\n+\tbox-shadow: 2px 2px 3px #999;\n+}\n+\n+.my-save{\n+\tmargin-top:22px;\n+}\n+.box_details .form-group{\n+        margin-bottom: 0rem;\n+}\n+/* Increase the height of the dropdown */\n+.select2-results__options {\n+            max-height: 200px; /* Adjust this value as needed */\n+        }\n+\n+        /* Increase the height of the select box */\n+        .select2-container--default .select2-selection--single {\n+            height: 40px; /* Adjust this value as needed */\n+            display: flex;\n+            align-items: center;\n+        }\n+\n+        .select2-container--default .select2-selection--single .select2-selection__rendered {\n+            line-height: 40px; /* Adjust this value as needed */\n+        }\n+\n+        .select2-container--default .select2-selection--single .select2-selection__arrow {\n+            height: 38px; /* Adjust this value as needed */\n+        }\n+</style>\n+    <div class=\"content-page\" id=\"content-page\">\n+        <div class=\"content\">\n+\n+            <!-- Start Content-->\n+            <div class=\"container-fluid\">\n+\n+                <!-- start page title -->\n+                <div class=\"row\">\n+                    <div class=\"col-12\">\n+                        <div class=\"page-title-box\">\n+                            <div class=\"page-title-right\">\n+                                {!! breadcrumbs() !!}\n+                            </div>\n+                            <h4 class=\"page-title\">{{page_title()}}</h4>\n+                        </div>\n+                    </div>\n+                </div>\n+                <!-- end page title -->\n+\n+<a href=\"javascript:void();\" class=\"float\" id=\"addBox\" title=\"Add Box\">\n+<i class=\"fa fa-plus my-float\"></i>\n+</a>\n+\n+<a href=\"javascript:void();\" class=\"save\" id=\"saveDraft\" title=\"Save as Draft\">\n+<i class=\"fa fa-save my-save\"></i>\n+</a>\n+\n+                <div class=\"row\">\n+                    <div class=\"col-md-12\">\n+                        <div class=\"card-box\">\n+\n+                        <form action=\"{{update_url($shipment->id)}}\" id=\"edititemsstore\" method=\"post\" enctype=\"multipart/form-data\" >\n+                                @method('PUT')\n+                                @csrf\n+                                <div class=\"col-md-12\">  <!--  col-12- start-->\n+                                    <div class=\"header\">\n+                                        <h4>Basic Info</h4>\n+                                    </div>\n+                                    <div class=\"row\">\n+                                        <div class=\"col-md-6\" id=\"bookingNumberSection\">\n+                                            <div class=\"form-group\">\n+                                                <label>Booking No.</label>\n+                                                <input type=\"text\" name=\"booking_number\"\n+                                                       value=\"{{ $shipment->booking_number }}\" class=\"form-control\"\n+                                                       required readonly\n+                                                       id=\"booking_no_uniq\"\n+                                                       style=\"readonly !important; }}\">\n+                                                @error('booking_number')\n+                                                <span class=\"text-danger\">{{ $message }}</span>\n+                                                @enderror\n+                                            </div>\n+                                        </div>\n+                                        <div class=\"col-md-6\">\n+                                            <div class=\"form-group\">\n+                                                <label>Branch List</label>\n+                                                <select autofocus name=\"branch_id\" id=\"branch_id\"\n+                                                        class=\"form-control\">\n+                                                        @foreach ($branches as $branch)\n+                                                        <option\n+                                                            {{   ($shipment->branch_id==$branch->id ) ? 'selected' : \"\" }} value=\"{{ $branch->id }}\">{{ $branch->name }}</option>\n+                                                    @endforeach\n+                                                </select>\n+                                            </div>\n+                                        </div>\n+                                    </div>\n+\n+                                    <div class=\"row\">\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                            <h4>Sender Info</h4>\n+                                            <div class=\"row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Sender/Customer</label>\n+                                                    <select name=\"sender_id\" id=\"sender_id\" class=\"form-control select2\" required>\n+                                                        <option value='' selected=\"selected\">Select</option>\n+                                                        @foreach (get_customers('sender')->where('branch_id', branch()->id) as $sender)\n+                                                        <option value=\"{{ $sender->id }}\"\n+                                                        {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }}\n+                                                        data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$sender->name ?? ''}}\"\n+                                                        data-email=\"{{$sender->email ?? ''}}\"\n+                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n+                                                         data-post=\"{{$sender->post ?? ''}}\"\n+                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n+                                                </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('sender_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+\n+                                                </div>\n+\n+\n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+\n+                                            </div>\n+                                            <div class=\"row form-group col-md-12\">\n+                                                <label>Sender Address</label>\n+                                                <input readonly type=\"text\" id=\"sender_address\" value=\"{{$shipment->sender->address->address??\"\"}}\" class=\"form-control\">\n+                                            </div>\n+\n+                                            <div class=\"row form-group col-md-12\">\n+                                                <label>Sender Phone</label>\n+                                                <input readonly type=\"text\" id=\"sender_phone\" value=\"{{$shipment->sender->phone??\"\"}}\" class=\"form-control\">\n+                                            </div>\n+                                        </div>\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                            <div class=\"header\">\n+                                                <h4>Receiver Info</h4>\n+                                            </div>\n+                                            <div class=\" row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Receiver/Customer</label>\n+                                                    <select name=\"receiver_id\" id=\"receiver_id\" class=\"form-control select2\" required>\n+                                                    <option value='' selected=\"selected\">Select</option>\n+                                                    @foreach (get_customers('receiver')->where('branch_id', branch()->id) as $receiver)\n+                                                    <option value=\"{{ $receiver->id }}\"\n+                                                    {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n+                                                        data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$receiver->name ?? ''}}\"\n+                                                        data-email=\"{{$receiver->email ?? ''}}\"\n+                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n+                                                          data-post=\"{{$receiver->post ?? ''}}\"\n+                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n+                                                </option>\n+                                                    @endforeach\n+                                                </select>\n+                                                    @error('receiver_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddReceiver\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditReceiver\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>   \n+                                                </div>\n+                                            </div>\n+                                            <div class=\"row form-group col-md-12\">\n+                                                <label>Receiver Address</label>\n+                                                <input readonly type=\"text\"  value=\"{{$shipment->receiver->address->address??\"\"}}\" id=\"receiver_address\" class=\"form-control\">\n+                                            </div>\n+\n+                                            <div class=\"row form-group col-md-12\">\n+                                                <label>Receiver Phone</label>\n+                                                <input readonly type=\"text\"  value=\"{{$shipment->receiver->phone??\"\"}}\" id=\"receiver_phone\" class=\"form-control\">\n+                                            </div>\n+                                        </div>\n+                                    </div>\n+\n+                                    <div class=\"col-md-12\">\n+                                        <div class=\"header\">\n+                                            <h4>Shipping Info</h4>\n+                                        </div>\n+                                        <div class=\"body\">\n+                                            <div class=\"row\">\n+                                                <!-- <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>Receipt Number</label>\n+                                                        <input type=\"text\"   class=\"form-control\"\n+                                                            name=\"receipt_number\" value=\"{{$shipment->receipt_number}}\">\n+                                                    </div>\n+                                                </div> -->\n+                                                <!-- <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>Packaging Type</label>\n+                                                        <input type=\"text\"   name=\"packing_type\"\n+                                                            class=\"form-control\" value=\"{{$shipment->packing_type}}\">\n+                                                    </div>\n+                                                </div> -->\n+                                                <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>Courier Company</label>\n+                                                        <select name=\"agency_id\"  class=\"form-control\">\n+                                                        @foreach ($agencies as $agency)\n+                                                        <option\n+                                                            {{   ($shipment->agency_id==$agency->id ) ? 'selected' : \"\" }} value=\"{{ $agency->id }}\">{{ $agency->name }}</option>\n+                                                        @endforeach\n+                                                        <!-- <option value=\"Best Express\"> Best Express</option> -->\n+                                                    </select>\n+\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>Shipping Methods</label>\n+                                                        <select name=\"shiping_method\" class=\"form-control\" id=\"shiping_method\"  onchange=\"getVolume(this);\" required>\n+                                                        <option value=\"\" data-shipTypeId=\"\"> Select </option>\n+                                                            @foreach( $ship_types as $key => $shipping_type )\n+                                                            <option {{ ($shipment->shipping_method_id==$shipping_type->id ) ? 'selected' : \"\" }}  value=\"{{$shipping_type->id}}\" data-shipTypeId=\"{{$shipping_type->id}}\">{{$shipping_type->name}}</option>\n+                                                            @endforeach\n+                                                        </select>\n+\n+                                                        <input type=\"hidden\" name=\"shipping_method_id\" value=\"\"  id=\"shipping_method_id\"/>\n+\n+                                                           <?php /*\n+\n+                                                            {{ ($shipment->shiping_method== $shipping_type->value) ? 'selected' : \"\" }}\n+\n+                                                            <option\n+                                                                {{ ($shipping_type->shiping_method=='Air') ? 'selected' : \"\" }} value=\"Air\">\n+                                                                Air\n+                                                            </option>\n+                                                            <option\n+                                                                {{ ($shipping_type->shiping_method=='Sea') ? 'selected' : \"\" }} value=\"Sea\">\n+                                                                Sea\n+                                                            </option>\n+                                                            <option\n+                                                                {{ ($shipping_type->shiping_method=='Road') ? 'selected' : \"\" }} value=\"Road\">\n+                                                                Road\n+                                                            </option>\n+                                                            */?>\n+\n+\n+\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>Payment Method</label>\n+                                                        <select name=\"payment_method\" class=\"form-control\" id=\"\">\n+                                                            <option\n+                                                                {{ ($shipment->payment_method=='cash_payment') ? 'selected' : \"\" }} value=\"cash_payment\">\n+                                                                Cash Payment\n+                                                            </option>\n+                                                            <option\n+                                                                {{ ($shipment->payment_method=='credit') ? 'selected' : \"\" }} value=\"credit\">\n+                                                                Credit\n+                                                            </option>\n+                                                            <option\n+                                                                {{ ($shipment->payment_method=='bank') ? 'selected' : \"\" }} value=\"bank\">\n+                                                                Bank\n+                                                            </option>\n+                                                        </select>\n+\n+                                                    </div>\n+                                                </div>\n+\n+                                                <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>Status</label>\n+                                                        <select name=\"status_id\" class=\"form-control\" id=\"\" required>\n+                                                        <option value=\"\">--- Select Status ---</option>\n+                                                            @foreach ( status_list_admin() as $item)\n+                                                                <option\n+                                                                    {{ ($shipment->status_id==$item->id) ? 'selected' : \"\" }} value=\"{{ $item->id }}\">{{ $item->name }}</option>\n+                                                            @endforeach\n+                                                        </select>\n+                                                        @error('status_id')\n+                                                        <span class=\"text-danger\">{{ $message }}</span>\n+                                                        @enderror\n+                                                    </div>\n+                                                </div>\n+\n+                                            </div>\n+\n+                                            <div class=\"row\">\n+\n+\n+\n+                                                <div class=\"col-md-3\">\n+                                                <div class=\"form-group\">\n+                                                <label>Date</label>\n+                                                        <input type=\"date\" value=\"{{ isset($shipment->created_date) ? date('Y-m-d', strtotime($shipment->created_date)) : ''}}\" max=\"\"\n+                                                            class=\"form-control\" id=\"propertyname\" name=\"created_date\"\n+                                                            placeholder=\"Enter title\">\n+                                                </div>\n+                                               </div>\n+\n+\n+                                               <div class=\"col-md-3\">\n+                                                <div class=\"form-group\">\n+                                                    <label   for=\"collected_by\"  >Collected By</label>\n+                                                    <select class=\"form-control\" name=\"collected_by\" id=\"collected_by\" required  onchange=\"getRate(this);\">\n+                                                        <option value>Select</option>\n+                                                            <option value=\"driver\"  {{ ($shipment->collected_by== 'driver') ? 'selected' : \"\" }} >Driver</option>\n+                                                            <option value=\"staff\"  {{ ($shipment->collected_by== 'staff') ? 'selected' : \"\" }}>Office</option>\n+\n+                                                    </select>\n+                                                </div>\n+                                            </div>\n+                                            <div class=\"col-md-3\" id=\"driver_or_staff\">\n+                                            @if($shipment->collected_by== 'driver')\n+                                                    <div class=\"form-group\">\n+                                                        <label>Driver Name</label>\n+                                                        <select class=\"form-control\" name=\"driver_id\" required>\n+                                                            <option value=\"\">Selct Driver</option>\n+                                                            @foreach($drivers as $driver)\n+                                                                <option value=\"{{$driver->id}}\" {{ ($shipment->driver_id== $driver->id) ? 'selected' : \"\" }} >{{$driver->name}}</option>\n+                                                            @endforeach\n+                                                        </select>\n+                                                    </div>\n+                                            @else\n+                                                     <div class=\"form-group\">\n+                                                        <label>Staff Name</label>\n+                                                        <select class=\"form-control\" name=\"staff_id\"  required>\n+                                                            <option value=\"\">Selct Driver</option>\n+                                                            @foreach($staffs as $staff)\n+                                                                <option value=\"{{$staff->id}}\" {{ ($shipment->staff_id== $staff->id) ? 'selected' : \"\" }} >{{$staff->full_name}}</option>\n+                                                            @endforeach\n+                                                        </select>\n+                                                    </div>\n+\n+                                            @endif\n+                                            </div>\n+\n+\n+                                                 <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>LRL Tracking Code</label>\n+                                                        <input type=\"text\" name=\"lrl_tracking_code\" value=\"{{$shipment->lrl_tracking_code}}\"\n+                                                            class=\"form-control\">\n+                                                    </div>\n+                                                </div>\n+                                            </div>\n+\n+                                            <div class=\"row\">\n+                                                <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>Delivery Type</label>\n+                                                        <select class=\"form-control\" name=\"delivery_type\" id=\"delivery_type\" required>\n+                                                            <option value>Select</option>\n+                                                                <option value=\"door_to_door\" {{ ($shipment->delivery_type== 'door_to_door') ? 'selected' : \"\" }} >Door To Door</option>\n+                                                                <option value=\"door_to_port\" {{ ($shipment->delivery_type==  'door_to_port') ? 'selected' : \"\" }}>Door To Port</option>\n+\n+                                                        </select>\n+\n+\n+                                                    </div>\n+                                                </div>\n+\n+\n+                                                <div class=\"col-lg-2\">\n+                                                    <div class=\"form-group\">\n+                                                        <label for=\"propertyname\">Time</label>\n+                                                        <input type=\"time\" name=\"time\" value=\"{{!empty($shipment)?$shipment->time:'' }}\" class=\" form-control\"\n+                                                            id=\"propertyname1\" required\n+                                                            placeholder=\"Select Time\" autocomplete=\"off\" id=\"setTimeExample\">\n+                                                    </div>\n+\n+\n+                                                </div>\n+\n+                                                <div class=\"col-lg-2\">\n+                                                    <div class=\"form-group\">\n+                                                        <label for=\"propertyname\">Value of Goods</label>\n+                                                        <input type=\"text\" name=\"value_of_goods\"  class=\"  form-control\"\n+                                                            id=\"propertyname1\"\n+                                                            placeholder=\"Value of Goods\"\n+                                                            value=\"{{$shipment->value_of_goods}}\"\n+                                                            >\n+                                                    </div>\n+                                                </div>\n+\n+                                                <div class=\"col-lg-4\">\n+                                                    <div class=\"form-group\">\n+                                                        <label for=\"propertyname\">Special remarks</label>\n+                                                        <textarea type=\"text\" name=\"special_remarks\"  class=\"  form-control\"\n+                                                            id=\"propertyname1\"\n+                                                            style=\"height: 38px;\"\n+                                                            maxlength=\"400\"\n+                                                            placeholder=\"Special remarks\"\n+                                                            >{{$shipment->special_remarks}}</textarea>\n+                                                    </div>\n+                                                </div>\n+\n+                                            </div>\n+\n+\n+\n+\n+                                            <div class=\"row mb-5\">\n+                                                <!-- <div class=\"col-md-3\">\n+                                                    <div class=\"form-group\">\n+                                                        <label>LRL Tracking Code</label>\n+                                                        <input type=\"text\" name=\"lrl_tracking_code\" value=\"{{$shipment->lrl_tracking_code}}\"\n+                                                            class=\"form-control\">\n+                                                    </div>\n+                                                </div>  -->\n+                                            </div>\n+\n+                                            {{-- <div id=\"Container\"> </div> --}}\n+\n+                                            <!-- <button type=\"button\" id=\"addBox\" class=\"btn btn-success\">Add Box\n+                                                        </button>  -->\n+\n+\n+                                                <?php\n+                                                    $grand_total_qty = 0;\n+                                                    $grand_total_amount =0;\n+                                                    $box_total_value = 0;\n+                                                    $ik = count($boxes);\n+                                                ?>\n+                                                @foreach($boxes as $i => $box)\n+                                                <?php\n+                                                        $total_qty = 0;\n+                                                        $total_amount =0;\n+                                                        $box_total_value = $box->total_value;\n+\n+                                                ?>\n+\n+                                                <div id=\"newBoxContainer{{$i+1}}\" class=\"boxcount\">\n+                                                <div class=\"package col-md-12\"  id=\"package_ID\" >\n+                                                    <div class=\"header row\">\n+                                                        <div class=\"col-md-6\"  style=\"float:left\">\n+                                                        <h5 class=\"packageinfo-head\"  data-myattri=\"{{$i+1}}\">Box - {{$box->box_name}}</h5>\n+                                                        <input type=\"hidden\" name=\"box_name{{$i+1}}\"   data-myattri=\"{{$i+1}}\" class=\"box_name\" value=\"{{$box->box_name}}\" />\n+                                                        </div>\n+                                                        <div class=\"col-md-6 text-right pb-2\" style=\"float:left\">\n+                                                        <button type=\"button\" id=\"addpackage{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-success addpackage\">Add Items</button>\n+                                                        <button type=\"button\" id=\"removeBox{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-danger removeBox\">Delete Box</button>\n+\n+                                                        </div>\n+                                                    </div>\n+                                                    <div class=\"col-md-2\">\n+                                                            <div class=\"form-group\">\n+                                                                <label>Weight</label>\n+                                                                <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{ $box->weight }}\" class=\"form-control weight\">\n+                                                                {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n+                                                            </div>\n+                                                        </div>\n+                                                        <div class=\"row\">\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                         \n+                                            <div class=\"row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Sender/Customer</label>\n+                                                    <select name=\"box_sender_id{{$i+1}}\" id=\"box_sender_id{{$i+1}}\" class=\"form-control select2\">\n+                                                        @foreach (get_customers('sender') as $sender)\n+                                                            <option value=\"{{ $sender->id }}\"\n+                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n+                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$sender->name ?? ''}}\"\n+                                                        data-email=\"{{$sender->email ?? ''}}\"\n+                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n+                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n+                                                        </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('sender_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+\n+                                                </div>\n+                                                \n+\n+                                            </div>\n+                 \n+                                        </div>\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                            \n+                                            <div class=\" row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Receiver/Customer</label>\n+                                                    <select name=\"box_receiver_id{{$i+1}}\" id=\"box_receiver_id{{$i+1}}\"\n+                                                            class=\"form-control select2\">\n+                                                        @foreach (get_customers('receiver') as $receiver)\n+                                                            <option value=\"{{ $receiver->id }}\"\n+                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n+                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$receiver->name ?? ''}}\"\n+                                                        data-email=\"{{$receiver->email ?? ''}}\"\n+                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n+                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n+                                                            </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('receiver_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+                                            </div>\n+                                            \n+                                        </div>\n+                                    </div> \n+                                                    <div class=\"body box_und_calc\" id=\"packageinfo{{$i+1}}\" >\n+                                                        <table class=\"table table-bordered packageinfo{{$i+1}}\">\n+                                                            @foreach($box->packages as $j => $package)\n+\n+                                                            <tr>\n+                                                            <td width=\"2%\">\n+                                                              <span class=\"form-control border-0\">{{$j+1}}</span>\n+                                                            </td>\n+                                                                <td width=\"40%\">\n+                                                                    <input type=\"text\" placeholder=\"Enter description\"\n+                                                                        name=\"description{{$i+1}}[]\" value=\"{{$package->description}}\"\n+                                                                        class=\"form-control descriptions\" >\n+                                                                </td>\n+                                                                <td>\n+                                                                    <input type=\"number\" placeholder=\"Enter quantity\"\n+                                                                        name=\"qty{{$i+1}}[]\" value=\"{{$package->quantity}}\"\n+                                                                        class=\"form-control qty\">\n+\n+\n+                                                                </td>\n+                                                                <td>\n+                                                                    <input type=\"number\" placeholder=\"Enter unit price\"\n+                                                                        name=\"unit{{$i+1}}[]\" value=\"{{$package->unit_price}}\"\n+                                                                        class=\"form-control unit\" data-myattri=\"{{$i+1}}\" step=\"0.01\">\n+\n+                                                                </td>\n+                                                                <td>\n+                                                                    <input type=\"text\" name=\"subtotal{{$i+1}}[]\" readonly\n+                                                                        class=\"form-control value pkg-subtotal\"  value=\"{{$package->subtotal}}\">\n+                                                                </td>\n+\n+                                                                <td><button type=\"button\"  class=\"remove btn btn-danger\" data-remove=\"{{$i+1}}\" data-myAttri=\"{{$i+1}}\" >X</button></td>\n+\n+                                                            </tr>\n+                                                            <?php\n+                                                            $total_qty += $package->quantity;\n+                                                            $total_amount += $package->subtotal;\n+\n+                                                            $grand_total_qty  += $package->quantity;\n+                                                            $grand_total_amount += $package->subtotal;\n+                                                            ?>\n+                                                            @endforeach\n+                                                        </table>\n+                                                    </div>\n+\n+                                                    <div class=\"body\">\n+                                                        <table class=\"table table-bordered\">\n+                                                            <tr>\n+                                                                <td width=\"20%\"> </td>\n+                                                                <td width=\"20%\"><h6>Total Quantity: </h6></td>\n+                                                                <td width=\"20%\"><h6><span id=\"totalqty{{$i+1}}\" class=\"rtotqty\">{{$total_qty }}</span></h6></td>\n+\n+                                                                <td width=\"20%\"><h6>Total Value : </h6></td>\n+                                                                <td width=\"20%\"><h6><span id=\"totalAmt{{$i+1}}\" class=\"package-total-amount  rtotamt\">{{ $total_amount }}</span></h6></td>\n+\n+                                                            </tr>\n+                                                        </table>\n+                                                    </div>\n+\n+\n+                                                    <div class=\"body\" id=\"boxDimension\">\n+                                                    <div class=\"row\">\n+                                                        <div class=\"col-md-2 box-title\">\n+                                                            <h5></h5>\n+                                                        </div>\n+                                                        </div>\n+                                                        <div class=\"row\" style=\"display: none;\">\n+                                                            <input type=\"hidden\" name=\"box_id{{$i+1}}\" value=\"{{$box->id}}\" />\n+\n+                                                            <div class=\"col-md-2\" >\n+                                                                <div class=\"form-group\">\n+                                                                    <label>Length x Width x Height</label>\n+                                                                    <select name='dimension{{$i+1}}' data-no='{{$i+1}}' class='form-control box-dimension' required   onchange=\"getval(this);\">\n+                                                                        <option value=''>select</option>\n+                                                                        <option value='2' selected>45 x 45 x 45</option>\n+                                                                        {{-- @foreach($dimensions as $dimension)\n+                                                                        <option value='{{$dimension->id}}'\n+                                                                        {{ ($box->box_dimension_id== $dimension->id) ? 'selected' : \"\" }}\n+                                                                        data-id='{{$dimension->id}}'>{{$dimension->length}} x {{$dimension->width}} x {{$dimension->height}}</option>\n+                                                                        @endforeach --}}\n+                                                                        <option {{ ($box->box_dimension_id == 0 ) ? 'selected' : \"\" }} value='0'>Other</option>\n+\n+                                                                    </select>\n+                                                                </div>\n+                                                            </div>\n+\n+                                                            <!-- Start other -->\n+                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_length{{$i+1}}\">\n+                                                                <div class=\"form-group\">\n+                                                                    <label>Length</label>\n+                                                                    <input type=\"text\" name=\"other_length{{$i+1}}\" data-no=\"{{$i+1}}\" value=\"{{$box->other_length}}\" class=\"form-control other_length\"   onkeyup=\"getValOther(this);\">\n+                                                                </div>\n+                                                                </div>\n+                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_width{{$i+1}}\">\n+                                                                <div class=\"form-group\">\n+                                                                    <label>Width</label>\n+                                                                    <input type=\"text\" name=\"other_width{{$i+1}}\" data-no=\"{{$i+1}}\" value=\"{{$box->other_width}}\" class=\"form-control other_width\"   onkeyup=\"getValOther(this);\">\n+                                                                </div>\n+                                                                </div>\n+                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_height{{$i+1}}\">\n+                                                                <div class=\"form-group\">\n+                                                                    <label>Height</label>\n+                                                                    <input type=\"text\" name=\"other_height{{$i+1}}\"  data-no=\"{{$i+1}}\" value=\"{{$box->other_height}}\" class=\"form-control other_height\"   onkeyup=\"getValOther(this);\">\n+                                                                </div>\n+                                                                </div>\n+\n+                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_select{{$i+1}}\">\n+                                                                <div class=\"form-group\">\n+                                                                    <label>Select</label>\n+                                                                    <input type=\"text\" name=\"other_select{{$i+1}}\"  data-no=\"{{$i+1}}\" value=\"{{$box->other_select}}\" class=\"form-control other_select\"   onkeyup=\"getValOther(this);\">\n+                                                                </div>\n+                                                                </div>   `\n+                                                            <!-- End other -->\n+\n+                                                            <div class=\"col-md-2 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }} \" id=\"packing{{$i+1}}\">\n+                                                                <div class=\"form-group\">\n+                                                                    <label>Packing</label>\n+                                                                    <select name='packing{{$i+1}}' data-no='{{$i+1}}' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n+                                                                      \n+                                                                        <option value='2' selected >Cargo Packing</option>\n+                                                                    </select>\n+                                                                </div>\n+\n+                                                            </div>\n+\n+                                                            <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }}\" id=\"selectVolume{{$i+1}}\">\n+                                                                <div class=\"form-group\">\n+                                                                    <label>Select</label>\n+                                                                        <select name='volume{{$i+1}}' data-no='{{$i+1}}' class='form-control ' required   onchange=\"getval(this);\">\n+                                                                            <option value='6000' selected >6000</option>\n+                                                                            {{-- <option value='5000'   {{ ($shipment->shiping_method== '5000') ? 'selected' : \"\" }}>5000</option>\n+                                                                            <option value='6000'  {{ ($shipment->shiping_method== '6000') ? 'selected' : \"\" }}>6000</option>\n+                                                                            <option value='1000000' {{ ($shipment->shiping_method== '1000000') ? 'selected' : \"\" }}>1000000</option> --}}\n+                                                                        </select>\n+                                                                </div>\n+                                                            </div>\n+\n+                                                        <div class=\"col-md-1\">\n+                                                            <div class=\"form-group\">\n+                                                                <label>Volume</label>                                                              \n+                                                                <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"15.19\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\">\n+\n+                                                            </div>\n+                                                        </div>\n+                                                      \n+                                                        <div class=\"col-md-1\">\n+                                                            <div class=\"form-group\">\n+                                                                <label>Rate</label>\n+                                                                {{-- <input type=\"text\" name=\"rate{{$i+1}}\" value=\"{{$box->rate}}\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\"> --}}\n+                                                                <input type=\"text\" name=\"rate{{$i+1}}\" value=\"20\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\">\n+                                                            </div>\n+                                                        </div>\n+\n+                                                        <div class=\"col-md-2\">\n+                                                            <div class=\"form-group\">\n+                                                                <label>Total Amount</label>\n+                                                                <input type=\"text\" name=\"total_value{{$i+1}}\" value=\"{{$box->total_value}}\" class=\"form-control box-total-value total\" readonly>\n+                                                                <!-- <input type=\"hidden\" name=\"box_name{{$i+1}}\" value=\"{{$box->box_name}}\" class=\"form-control box_name\"> -->\n+                                                            </div>\n+                                                        </div>\n+\n+                                                        <div class=\"col-md-2\" id=\"box_packing_charge{{$i+1}}\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Packing charge</label>\n+                                                            {{-- <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"{{$box->box_packing_charge}}\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/> --}}\n+                                                            <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"20\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/>\n+\n+                                                        </div>\n+                                                        </div>\n+\n+                                                    </div>\n+                                                </div>\n+\n+\n+                                                </div>\n+                                                </div>\n+                                                <?php $ik = $ik -1; ?>\n+                                                @endforeach\n+\n+                                                <div id=\"Container\"> </div>\n+                                            <hr>\n+                                            <div class=\"col-md-8\"  id=\"TotalDiv\" style=\"display:none;\">\n+                                                <div class=\"body\">\n+                                                    <table class=\"table \" >\n+                                                        <tr>\n+                                                            <td style=\"border:none;\">\n+\n+                                                            <div class=\"row pt-2\">\n+                                                                    <div class=\"col-md-6\"  >\n+\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                    <label>Quantity</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                    <label>Unit Rate</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                    <label>Amount</label>\n+                                                                    </div>\n+                                                                </div>\n+\n+                                                                <div class=\"row pt-2\">\n+\n+                                                                    <?php\n+                                                                     $normal_weight = $shipment->normal_weight - ( ($shipment->msic_weight) + ($shipment->electronics_weight) + ($shipment->other_weight));\n+                                                                    ?>\n+\n+                                                                    <div class=\"col-md-6\" style=\"text-align:right;\" >\n+                                                                        <label>Total Weight</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            {{-- <input type=\"text\" name=\"normal_weight\" value=\"{{$shipment->normal_weight}}\" class=\"form-control \"> --}}\n+                                                                            <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $shipment->grand_total_weight }}\" class=\"form-control \" >\n+\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"rate_normal_weight\" value=\"{{$shipment->rate_normal_weight}}\" class=\"form-control rate_normal_weight tot_rate\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_normal_weight\" value=\"{{$shipment->amount_normal_weight}}\" class=\"form-control tot_amt\" >\n+                                                                        </div>\n+                                                                    </div>\n+                                                                </div>\n+\n+                                                                <div class=\"row pt-2\">\n+                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                            <label>Duty</label>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\">\n+                                                                            <div class=\"\">\n+                                                                                <input type=\"text\" name=\"electronics_weight\"\n+                                                                                value=\"{{$shipment->electronics_weight}}\" class=\"form-control electronics_weight tot_wgt\">\n+                                                                            </div>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\">\n+                                                                            <div class=\"\">\n+                                                                                <input type=\"text\" name=\"rate_electronics_weight\" value=\"{{$shipment->rate_electronics_weight}}\" class=\"form-control rate_electronics_weight tot_rate\">\n+                                                                            </div>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_electronics_weight\" value=\"{{$shipment->amount_electronics_weight}}\" class=\"form-control tot_amt\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                </div>\n+\n+                                                                <div class=\"row  pt-2\">\n+                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                            <label>Packing charge</label>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\"\">\n+                                                                            <div class=\"\">\n+                                                                                <input type=\"text\" name=\"msic_weight\"\n+                                                                                value=\"{{$shipment->msic_weight}}\" class=\"form-control msic_weight tot_wgt\">\n+                                                                            </div>\n+                                                                        </div>\n+\n+                                                                        <div class=\"col-md-2\">\n+                                                                            <div class=\"\">\n+                                                                                <input type=\"text\" name=\"rate_msic_weight\" value=\"{{$shipment->rate_msic_weight}}\" class=\"form-control rate_msic_weight tot_rate\">\n+                                                                            </div>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_msic_weight\" value=\"{{$shipment->amount_msic_weight}}\" class=\"form-control tot_amt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div>\n+\n+\n+                                                                <div class=\"row  pt-2\">\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Additional Packing charge</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\"\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"add_pack_charge\"\n+                                                                            value=\"{{$shipment->add_pack_charge}}\" class=\"form-control add_pack_charge tot_wgt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"rate_add_pack_charge\" value=\"{{$shipment->rate_add_pack_charge}}\" class=\"form-control rate_add_pack_charge tot_rate\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                    <div class=\"\">\n+                                                                        <input type=\"text\" name=\"amount_add_pack_charge\" value=\"{{$shipment->amount_add_pack_charge}}\" class=\"form-control tot_amt\">\n+                                                                    </div>\n+                                                                </div>\n+\n+                                                            </div>\n+\n+                                                                <div class=\"row  pt-2\">\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Insurance </label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"insurance\"\n+                                                                            value=\"{{$shipment->insurance}}\" class=\"form-control insurance_weight tot_wgt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"rate_insurance\" value=\"{{$shipment->rate_insurance}}\" class=\"form-control rate_insurance_weight tot_rate\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_insurance\" value=\"{{$shipment->amount_insurance}}\" class=\"form-control tot_amt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div>\n+\n+\n+                                                                <div class=\"row  pt-2\">\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>AWB Fee</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\"\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"awbfee\"\n+                                                                            value=\"{{$shipment->awbfee}}\" class=\"form-control awbfee tot_wgt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"rate_awbfee\" value=\"{{$shipment->rate_awbfee}}\" class=\"form-control rate_awbfee tot_rate\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_awbfee\" value=\"{{$shipment->amount_awbfee}}\" class=\"form-control tot_amt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div>\n+\n+                                                                <div class=\"row  pt-2\">\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>VAT Amount</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\"\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"vat_amount\"\n+                                                                            value=\"{{$shipment->vat_amount}}\" class=\"form-control vat_amount tot_wgt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"rate_vat_amount\" value=\"{{$shipment->rate_vat_amount}}\" class=\"form-control rate_vat_amount tot_rate\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_vat_amount\" value=\"{{$shipment->amount_vat_amount}}\" class=\"form-control tot_amt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div>\n+\n+                                                                <div class=\"row  pt-2\">\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Volume weight</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\"\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"volume_weight\"\n+                                                                            value=\"{{$shipment->volume_weight}}\" class=\"form-control volume_weight tot_wgt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"rate_volume_weight\" value=\"{{$shipment->rate_volume_weight}}\" class=\"form-control rate_volume_weight tot_rate\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_volume_weight\" value=\"{{$shipment->amount_volume_weight}}\" class=\"form-control tot_amt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div>\n+\n+                                                                <div class=\"row  pt-2\">\n+                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                        <label>Discount</label>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"discount_weight\"\n+                                                                            value=\"{{$shipment->discount_weight}}\" class=\"form-control discount_weight tot_wgt\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"rate_discount_weight\" value=\"{{$shipment->rate_discount_weight}}\" class=\"form-control rate_discount_weight tot_rate\">\n+                                                                        </div>\n+                                                                    </div>\n+                                                                    <div class=\"col-md-2\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_discount_weight\" value=\"{{$shipment->amount_discount_weight}}\" class=\"form-control \">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div>\n+                                                            \n+\n+                                                                <div class=\"row\">\n+\n+                                                                        <div class=\"col-md-6 pt-2\"  style=\"text-align:right;font-size:18px;font-weight:bold;\">\n+\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2 pt-2\" style=\"border-top:1px solid;\">\n+                                                                            <div class=\"\">  <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n+                                                                            </div>\n+                                                                        </div>\n+\n+                                                                        <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n+                                                                            <div class=\"\">\n+                                                                                <!-- <input type=\"text\" name=\"rate_grand_total\" value=\"{{$shipment->rate_grand_total}}\" class=\"form-control\"> -->\n+                                                                            </div>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n+                                                                        <div class=\"\">\n+                                                                            <input type=\"text\" name=\"amount_grand_total\" value=\"{{$shipment->amount_grand_total}}\" class=\"form-control\">\n+                                                                        </div>\n+                                                                    </div>\n+\n+                                                                </div>\n+                                                                <div class=\"row  pt-2\">\n+\n+                                                                     <div class=\"col-md-6\"  style=\"text-align:right;\">\n+                                                                            <label>No.of Pcs</label>\n+                                                                        </div>\n+                                                                        <div class=\"col-md-6\">\n+                                                                            <div class=\"\">\n+                                                                                <input value=\"{{ $shipment->number_of_pcs?$shipment->number_of_pcs:0 }}\" type=\"text\" name=\"number_of_pcs\"\n+                                                                                class=\"form-control\" id=\"number_of_pcs\">\n+\n+                                                                            </div>\n+                                                                        </div>\n+                                                                </div>\n+                                                                <div class=\"row mt-5\">\n+                                                                        <div class=\"col-md-12\"  style=\"text-align:left;\">\n+                                                                            <!-- <h3>Declared value = Total Weight x 20 </h3> -->\n+                                                                        </div>\n+                                                                </div>\n+\n+                                                            </td>\n+                                                         \n+\n+                                                        </tr>\n+                                                    </table>\n+                                                </div>\n+                                            </div>\n+\n+\n+                                        </div> <!-- body -->\n+                                    </div>\n+\n+\n+                                    <div class=\"text-center\" style=\"display:block;\">\n+                                    <input type=\"hidden\" name=\"id\" value=\"{{$shipment->id}}\" />\n+                                        <button type=\"submit\" class=\"btn btn-success waves-effect waves-light\">Submit\n+                                        </button>\n+                                        <a href=\"{{index_url()}}\" type=\"button\"\n+                                        class=\"btn btn-danger waves-effect waves-light\">Cancel\n+                                        </a>\n+                                    </div>\n+\n+                                </div>  <!--  col-12- end-->\n+                        </form>\n+\n+\n+                        </div>\n+                        <!-- end card-box -->\n+                    </div>\n+                    <!-- end col -->\n+                </div>\n+                <!-- end row -->\n+\n+\n+                <!----------------------- div for add more ------------------------>\n+\n+\n+                <div style=\"display:none;\" >\n+                                        <div id=\"newBoxContainer\" class=\"boxcount\">\n+\n+\n+                                            <div class=\"package col-md-12\"  id=\"package_ID\" >\n+                                                <div class=\"header\">\n+                                                    <div class=\"col-md-6\"  style=\"float:left\">\n+                                                        <h5 class=\"packageinfo-head1\">Package Info </h5>\n+                                                        <input type=\"hidden\" name=\"box_name_1\" value=\"\" class=\"box_name1\" />\n+                                                    </div>\n+                                                    <div class=\"col-md-6 text-right pb-2\" style=\"float:left\">\n+                                                        <button type=\"button\" id=\"addpackage\" class=\"btn btn-success addpackage\">Add Items</button>\n+                                                        <button type=\"button\" id=\"removeBox\" class=\"btn btn-danger removeBox\">Delete Box</button>\n+                                                    </div>\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Weight</label>\n+                                                            <input type=\"text\" name=\"weight[]\" value=\"\" class=\"form-control box-weight1 weight\">\n+                                                            {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n+                                                        </div>\n+                                                    </div>\n+                                                <div class=\"row\">\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                         \n+                                            <div class=\"row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Sender/Customer</label>\n+                                                    <select name=\"sender_id[]\" id=\"sender_id[]\" class=\"form-control select2\">\n+                                                        @foreach (get_customers('sender') as $sender)\n+                                                            <option value=\"{{ $sender->id }}\"\n+                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n+                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$sender->name ?? ''}}\"\n+                                                        data-email=\"{{$sender->email ?? ''}}\"\n+                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n+                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n+                                                        </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('sender_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                <button type=\"button\" id=\"AddSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+\n+                                            </div>\n+                 \n+                                        </div>\n+                                        <div class=\"col-lg-6 col-md-12\">\n+                                            \n+                                            <div class=\" row\">\n+                                                <div class=\"form-group col-md-10\">\n+                                                    <label>Receiver/Customer</label>\n+                                                    <select name=\"receiver_id[]\" id=\"receiver_id[]\"\n+                                                            class=\"form-control select2\">\n+                                                        @foreach (get_customers('receiver') as $receiver)\n+                                                            <option value=\"{{ $receiver->id }}\"\n+                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n+                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n+                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n+                                                        data-name=\"{{$receiver->name ?? ''}}\"\n+                                                        data-email=\"{{$receiver->email ?? ''}}\"\n+                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n+                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n+                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n+                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n+                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n+                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n+                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n+                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n+                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n+                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n+                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n+                                                            </option>\n+                                                        @endforeach\n+                                                    </select>\n+                                                    @error('receiver_id')\n+                                                    <span class=\"text-danger\">{{ $message }}</span>\n+                                                    @enderror\n+                                                </div>\n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddReceiver[]\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditReceiver[]\" class=\"btn btn-primary mt-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n+                                            </div>\n+                                            \n+                                        </div>\n+                                    </div> \n+                                              \n+                                                <div class=\"body box_und_calc\" id=\"packageinfo\">\n+\n+                                                    <table class=\"table table-bordered packageinfo\">\n+                                                        <tr>\n+                                                        <td width=\"2%\">\n+                                                              <span class=\"form-control border-0\">1</span>\n+                                                            </td>\n+\n+                                                            <td width=\"40%\">\n+                                                                <input type=\"text\" placeholder=\"Enter description\"\n+                                                                    name=\"description[]\"\n+                                                                    class=\"form-control descriptions\">\n+                                                            </td>\n+                                                            <td>\n+                                                                <input type=\"number\" placeholder=\"Enter quantity\"\n+                                                                    name=\"qty[]\"\n+                                                                    class=\"form-control qty\">\n+                                                            </td>\n+                                                            <td>\n+                                                                <input type=\"number\" placeholder=\"Enter unit price\"\n+                                                                    name=\"unit[]\"\n+                                                                    class=\"form-control unit\" step=\"0.01\">\n+                                                            </td>\n+                                                            <td>\n+                                                                <input type=\"text\" name=\"subtotal[]\" readonly\n+                                                                    class=\"form-control value pkg-subtotal\">\n+                                                            </td>\n+                                                            <td>\n+                                                                <button type=\"button\"  name=\"remove[]\" class=\"remove btn btn-danger\" data-remove=\"\">X</button>\n+                                                            </td>\n+\n+                                                        </tr>\n+                                                    </table>\n+\n+                                                </div>\n+\n+                                                <div class=\"body\">\n+                                                    <table class=\"table table-bordered\">\n+                                                        <tr>\n+                                                            <td width=\"20%\"> </td>\n+                                                            <td width=\"20%\"><h6>Total Quantity: </h6></td>\n+                                                            <td width=\"20%\"><h6><span id=\"totalqty\"></span></h6></td>\n+                                                            <td width=\"20%\"><h6>Total Value: </h6></td>\n+                                                            <td width=\"20%\"><h6><span id=\"totalAmt\" class=\"package-total-amount\"></span></h6></td>\n+                                                        </tr>\n+                                                    </table>\n+\n+                                                </div>\n+\n+\n+                                                <div class=\"body\" id=\"boxDimension\">\n+                                                <div class=\"row\">\n+                                                    <div class=\"col-md-2 box-title\">\n+                                                        <!-- <h6>Box</h6> -->\n+                                                    </div>\n+                                                    </div>\n+                                                    <div class=\"row\" style=\"display: none;\">\n+                                                    <!-- <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Length</label>\n+                                                            <input type=\"text\" name=\"length\" value=\"\" class=\"form-control box-length\">\n+                                                        </div>\n+                                                    </div>\n+                                                    <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Width</label>\n+                                                            <input type=\"text\" name=\"width\" value=\"\" class=\"form-control box-width\">\n+                                                        </div>\n+                                                    </div>\n+                                                    <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Height</label>\n+                                                            <input type=\"text\" name=\"height\" value=\"\" class=\"form-control box-height\">\n+                                                        </div>\n+                                                    </div> -->\n+\n+                                                    <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Length x Width x Height</label>\n+                                                            <select name='dimension' data-no='' class='form-control box-dimension' required   onchange=\"getval(this);\">\n+                                                                <option value=''>select</option>\n+                                                                <option value='2' selected>45 x 45 x 45</option>\n+                                                                {{-- @foreach($dimensions as $dimension)\n+                                                                <option value='{{$dimension->id}}' data-id='{{$dimension->id}}'>{{$dimension->length}} x {{$dimension->width}} x {{$dimension->height}}</option>\n+                                                                @endforeach --}}\n+                                                                <option value='0'>Other</option>\n+                                                            </select>\n+                                                        </div>\n+                                                    </div>\n+\n+                                                    <div class=\"col-md-1 d-none\" id=\"other_length\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Length</label>\n+                                                            <input type=\"text\" name=\"other_length\" value=\"\" class=\"form-control other_length\"   onkeyup=\"getValOther(this);\">\n+                                                        </div>\n+                                                    </div>\n+                                                    <div class=\"col-md-1 d-none\" id=\"other_width\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Width</label>\n+                                                            <input type=\"text\" name=\"other_width\" value=\"\" class=\"form-control other_width\"   onkeyup=\"getValOther(this);\">\n+                                                        </div>\n+                                                    </div>\n+                                                    <div class=\"col-md-1 d-none\" id=\"other_height\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Height</label>\n+                                                            <input type=\"text\" name=\"other_height\" value=\"\" class=\"form-control other_height\"   onkeyup=\"getValOther(this);\">\n+                                                        </div>\n+                                                    </div>\n+\n+                                                    <div class=\"col-md-1 d-none\" id=\"other_select\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Select</label>\n+                                                            <input type=\"text\" name=\"other_select\" value=\"\" class=\"form-control other_select\"   onkeyup=\"getValOther(this);\">\n+                                                        </div>\n+                                                    </div>\n+\n+                                                    <div class=\"col-md-2\" id=\"packing\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Packing</label>\n+                                                            <select name='packing' data-no='' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n+                                                                <option value=''>Select</option>\n+                                                                <option value='2' selected >Cargo Packing</option>\n+                                                                {{-- <option value='1'>Customer Packing</option>\n+                                                                <option value='2'>Cargo Packing</option> --}}\n+                                                            </select>\n+                                                        </div>\n+                                                        <!-- <input type=\"hidden\" name=\"box_packing_charge\"  data-no='' class='form-control box_packing_charge'/> -->\n+                                                    </div>\n+\n+                                                     <div class=\"col-md-2\" id=\"selectVolume\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Select </label>\n+                                                            <select name='volume' data-no='' class='form-control ' required   onchange=\"getval(this);\">\n+                                                                <option selected value='6000'  >6000</option>\n+                                                                {{-- <option value='5000'>5000</option>\n+                                                                <option value='6000' >6000</option>\n+                                                                <option value='1000000' >1000000</option> --}}\n+                                                            </select>\n+                                                        </div>\n+                                                    </div>\n+                                                    <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Volume</label>\n+                                                            <input type=\"text\" name=\"unit_value\" value=\"15.19\" class=\"form-control box-unit-value\">\n+                                                        </div>\n+                                                    </div>\n+\n+\n+\n+\n+\n+                                                    <div class=\"col-md-1\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Rate</label>\n+                                                            <input type=\"text\" name=\"rate\" value=\"20\" class=\"form-control box-rate1\">\n+                                                        </div>\n+                                                    </div>\n+\n+\n+                                                    <div class=\"col-md-2\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Total Amount</label>\n+                                                            <input type=\"text\" name=\"total_value\" value=\"602.00\" class=\"form-control box-total-value total1\" readonly>\n+                                                            <!-- <input type=\"hidden\" name=\"box_name\" value=\"\" class=\"form-control box_name\"> -->\n+                                                        </div>\n+                                                    </div>\n+                                                    <?php /*\n+\n+                                                    <div class=\"col-md-2 d-none\" id=\"other_dimension\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Other</label>\n+                                                            <input type=\"text\" name=\"other_dimension\" value=\"\" class=\"form-control other_dimension\">\n+                                                        </div>\n+                                                    </div>\n+                                                    */?>\n+\n+\n+\n+\n+                                                        <div class=\"col-md-2\" id=\"box_packing_charge\">\n+                                                        <div class=\"form-group\">\n+                                                            <label>Packing charge</label>\n+                                                            <input type=\"text\" name=\"box_packing_charge\" value=\"20\"  data-no='' class='form-control box_packing_charge'/>\n+                                                        </div>\n+                                                        </div>\n+\n+\n+                                                </div>\n+                                            </div>\n+\n+\n+                                            </div>\n+                                        </div>\n+                                    </div>\n+\n+                <!----------------------- div for add more ------------------------>\n+\n+            </div>\n+            <!-- end container-fluid -->\n+\n+        </div>\n+        <!-- end content -->\n+</div>\n+\n+@include('branches.modals.add_client')\n+@endsection\n+@section('styles')\n+@include('layouts.datatables_style')\n+@endsection\n+@section('scripts')\n+{{-- <script src=\"https://code.jquery.com/jquery-3.5.1.min.js\"></script> --}}\n+<!-- Select2 JS -->\n+<script src=\"https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/js/select2.min.js\"></script>\n+<script>\n+\n+\n+    $(window).on('load', function() {\n+        $('.id_img').each(function() {\n+            var img = $(this);\n+            img.attr('src', img.data('src'));\n+        });\n+    });\n+\n+    $(document).ready(function() {\n+    // Check if \"driver\" is already selected initially\n+    if ($('#collected_by').val() === 'driver') {\n+        // toggleBookingNumberInput(false);\n+    }\n+\n+    // Bind change event handler\n+    $('#collected_by').change(function() {\n+        if ($(this).val() === 'driver') {\n+            // toggleBookingNumberInput(true);\n+        } else {\n+            toggleBookingNumberInput(false);\n+        }\n+    });\n+\n+    // Function to toggle input readonly property\n+    function toggleBookingNumberInput(enable) {\n+        $('#bookingNumberSection input[name=\"booking_number\"]').prop('readonly', !enable);\n+    }\n+\n+    $(\"#whatsapp_same\").change(function() {\n+        var phone = document.querySelector('input[name=\"phone\"]');\n+        var whatsapp_number = document.querySelector('input[name=\"whatsapp_number\"]');\n+        var wp_no = whatsapp_number.value;\n+\n+        if (this.checked) {\n+            phone.value = wp_no;\n+        } else { // Changed elseif to else\n+            phone.value = ''; // Setting phone value to an empty string instead of null\n+        }\n+    });\n+\n+\n+\n+});\n+\n+document.addEventListener('DOMContentLoaded', function() {\n+\n+    $(document).on('change', '.sender_id_type', function() {\n+        $('.sender_id_no').trigger('input');\n+    });\n+\n+    $(document).on('input', '.sender_id_no', function() {\n+        var dataIndex = $(this).attr('data-index');\n+        var selectValue = $(`select[name=\"sender_id_type${dataIndex}\"]`).val();\n+        console.log(dataIndex);\n+\n+        // Select the <p> tag that follows the current input\n+        var $existingP = $(this).next('p');\n+\n+        // Determine the new content for the <p> tag and validation message\n+        var newContent = '';\n+        var isValid = true; // Flag to check if the input is valid\n+        var inputValue = $(this).val(); // Get the current input value\n+\n+        if (selectValue == 'Passport Number') {\n+            if (inputValue.length > 0 && inputValue.length !== 8) {\n+                newContent = 'Passport Number should be 8 characters. Please enter exactly 8 characters.';\n+                isValid = false;\n+            } else if (inputValue.length === 8) {\n+                newContent = selectValue + ' is Correct';\n+            } else {\n+                newContent = 'Passport Number should be 8 characters.';\n+            }\n+        } else if (selectValue == 'Aadhaar Number' || selectValue == 'Aadhar') {\n+            if (inputValue.length > 0 && inputValue.length !== 12) {\n+                newContent = 'Aadhaar Number should be 12 digits. Please enter exactly 12 digits.';\n+                isValid = false;\n+            } else if (inputValue.length === 12) {\n+                newContent = selectValue + ' is Correct';\n+            } else {\n+                newContent = 'Aadhaar Number should be 12 digits.';\n+            }\n+        }\n+\n+        // Set the color based on validity\n+        var color = isValid ? 'green' : 'red';\n+\n+        // Update the existing <p> tag or add a new one if it doesn't exist\n+        if ($existingP.length) {\n+            $existingP.text(newContent).css('color', color);\n+        } else {\n+            $(this).after(`<p style=\"color: ${color};\">${newContent}</p>`);\n+        }\n+    });\n+\n+\n+    $(document).on('change', '.receiver_id_type', function() {\n+        $('.receiver_id_no').trigger('input');\n+    });\n+\n+    $(document).on('input', '.receiver_id_no', function() {\n+        var dataIndex = $(this).attr('data-index');\n+        var selectValue = $(`select[name=\"receiver_id_type${dataIndex}\"]`).val();\n+        console.log(dataIndex);\n+\n+        // Select the <p> tag that follows the current input\n+        var $existingP = $(this).next('p');\n+\n+        // Determine the new content for the <p> tag and validation message\n+        var newContent = '';\n+        var isValid = true; // Flag to check if the input is valid\n+        var inputValue = $(this).val(); // Get the current input value\n+\n+        if (selectValue == 'Passport Number') {\n+            if (inputValue.length > 0 && inputValue.length !== 8) {\n+                newContent = 'Passport Number should be 8 characters. Please enter exactly 8 characters.';\n+                isValid = false;\n+            } else if (inputValue.length === 8) {\n+                newContent = selectValue + ' is Correct';\n+            } else {\n+                newContent = 'Passport Number should be 8 characters.';\n+            }\n+        } else if (selectValue == 'Aadhaar Number' || selectValue == 'Aadhar') {\n+            if (inputValue.length > 0 && inputValue.length !== 12) {\n+                newContent = 'Aadhaar Number should be 12 digits. Please enter exactly 12 digits.';\n+                isValid = false;\n+            } else if (inputValue.length === 12) {\n+                newContent = selectValue + ' is Correct';\n+            } else {\n+                newContent = 'Aadhaar Number should be 12 digits.';\n+            }\n+        }\n+\n+        // Set the color based on validity\n+        var color = isValid ? 'green' : 'red';\n+\n+        // Update the existing <p> tag or add a new one if it doesn't exist\n+        if ($existingP.length) {\n+            $existingP.text(newContent).css('color', color);\n+        } else {\n+            $(this).after(`<p style=\"color: ${color};\">${newContent}</p>`);\n+        }\n+    });\n+\n+\n+\n+\n+\n+\n+\n+        function matchCustom(params, data) {\n+            // If there are no search terms, return all of the data\n+            if ($.trim(params.term) === '') {\n+                return data;\n+            }\n+\n+            // Check if the term matches the 'data-phone' or 'data-whatsapp' attributes\n+            if (data.element) {\n+                var phone = $(data.element).data('phone') ? $(data.element).data('phone').toString().toLowerCase() : '';\n+                var whatsapp = $(data.element).data('whatsapp') ? $(data.element).data('whatsapp').toString().toLowerCase() : '';\n+\n+                var term = params.term.toLowerCase();\n+\n+                if (phone.indexOf(term) > -1 || whatsapp.indexOf(term) > -1) {\n+                    return data;\n+                }\n+            }\n+\n+            // Check if the term matches the text\n+            if (data.text.toLowerCase().indexOf(params.term.toLowerCase()) > -1) {\n+                return data;\n+            }\n+\n+            // Return `null` if the term should not be displayed\n+            return null;\n+        }\n+\n+        $('#sender_id').select2({\n+            placeholder: \"Select a sender\",\n+            allowClear: true,\n+            matcher: matchCustom\n+        });\n+\n+        $('#receiver_id').select2({\n+            placeholder: \"Select a sender\",\n+            allowClear: true,\n+            matcher: matchCustom\n+        });\n+\n+\n+    const grand_total = document.querySelector('input[name=\"grand_total_weight\"]');\n+    const rate_normal_weight = document.querySelector('input[name=\"rate_normal_weight\"]');\n+    const amount_normal_weight = document.querySelector('input[name=\"amount_normal_weight\"]');\n+\n+    const rate_electronics_weight = document.querySelector('input[name=\"rate_electronics_weight\"]');\n+    const amount_electronics_weight = document.querySelector('input[name=\"amount_electronics_weight\"]');\n+\n+    const msic = document.querySelector('input[name=\"msic_weight\"]');\n+    const rate_msic_weight = document.querySelector('input[name=\"rate_msic_weight\"]');\n+    const amount_msic_weight = document.querySelector('input[name=\"amount_msic_weight\"]');\n+\n+    const add_pack_charge = document.querySelector('input[name=\"add_pack_charge\"]');\n+    const rate_add_pack_charge = document.querySelector('input[name=\"rate_add_pack_charge\"]');\n+    const amount_add_pack_charge = document.querySelector('input[name=\"amount_add_pack_charge\"]');\n+\n+    const insurance = document.querySelector('input[name=\"insurance\"]');\n+    const rate_insurance = document.querySelector('input[name=\"rate_insurance\"]');\n+    const amount_insurance = document.querySelector('input[name=\"amount_insurance\"]');\n+\n+    const awbfee = document.querySelector('input[name=\"awbfee\"]');\n+    const rate_awbfee = document.querySelector('input[name=\"rate_awbfee\"]');\n+    const amount_awbfee = document.querySelector('input[name=\"amount_awbfee\"]');\n+\n+    const vat_amount = document.querySelector('input[name=\"vat_amount\"]');\n+    const rate_vat_amount = document.querySelector('input[name=\"rate_vat_amount\"]');\n+    const amount_vat_amount = document.querySelector('input[name=\"amount_vat_amount\"]');\n+\n+    const volume_weight = document.querySelector('input[name=\"volume_weight\"]');\n+    const rate_volume_weight = document.querySelector('input[name=\"rate_volume_weight\"]');\n+    const amount_volume_weight = document.querySelector('input[name=\"amount_volume_weight\"]');\n+\n+    const discount_weight = document.querySelector('input[name=\"discount_weight\"]');\n+    const rate_discount_weight = document.querySelector('input[name=\"rate_discount_weight\"]');\n+    const amount_discount_weight = document.querySelector('input[name=\"amount_discount_weight\"]');\n+\n+    const normal_weight = document.querySelector('input[name=\"normal_weight\"]');\n+\n+    const grand_total_weight = document.querySelector('input[name=\"grand_total_weight\"]');\n+    const electronics_weight = document.querySelector('input[name=\"electronics_weight\"]');\n+    const msic_weight = document.querySelector('input[name=\"msic_weight\"]');\n+\n+    const amount_grand_total = document.querySelector('input[name=\"amount_grand_total\"]');\n+\n+\n+\n+    function multiplyAddPackCharge() {\n+        const val1 = parseFloat(add_pack_charge.value);\n+        const val2 = parseFloat(rate_add_pack_charge.value);\n+        if (!isNaN(val1) && !isNaN(val2)) {\n+            var result = (val1 * val2);\n+            if (Number.isInteger(result)){\n+                amount_add_pack_charge.value =result.toFixed(0);\n+            }\n+            else{\n+                amount_add_pack_charge.value =result.toFixed(2);\n+            }\n+        } else {\n+            result.value = '';\n+        }\n+    }\n+\n+    function multiplyInsurance() {\n+        const val1 = parseFloat(insurance.value);\n+        const val2 = parseFloat(rate_insurance.value);\n+        if (!isNaN(val1) && !isNaN(val2)) {\n+            var result = (val1 * val2);\n+            if (Number.isInteger(result)){\n+                amount_insurance.value =result.toFixed(0);\n+            }\n+            else{\n+                amount_insurance.value =result.toFixed(2);\n+            }\n+        } else {\n+            result.value = '';\n+        }\n+    }\n+\n+    function multiplyVolume() {\n+        const val1 = parseFloat(volume_weight.value);\n+        const val2 = parseFloat(rate_volume_weight.value);\n+        if (!isNaN(val1) && !isNaN(val2)) {\n+            var result = (val1 * val2);\n+            if (Number.isInteger(result)){\n+                amount_volume_weight.value =result.toFixed(0);\n+            }\n+            else{\n+                amount_volume_weight.value =result.toFixed(2);\n+            }\n+        } else {\n+            result.value = '';\n+        }\n+    }\n+\n+    function multiplyAwbFee() {\n+        const val1 = parseFloat(awbfee.value);\n+        const val2 = parseFloat(rate_awbfee.value);\n+        if (!isNaN(val1) && !isNaN(val2)) {\n+            var result = (val1 * val2);\n+            if (Number.isInteger(result)){\n+                amount_awbfee.value =result.toFixed(0);\n+            }\n+            else{\n+                amount_awbfee.value = result.toFixed(2);\n+            }\n+        } else {\n+            result.value = '';\n+        }\n+    }\n+\n+    function multiplyVatAmount() {\n+        const val1 = parseFloat(vat_amount.value);\n+        const val2 = parseFloat(rate_vat_amount.value);\n+        if (!isNaN(val1) && !isNaN(val2)) {\n+            var result = (val1 * val2);\n+            if (Number.isInteger(result)){\n+                amount_vat_amount.value =result.toFixed(0);\n+            }\n+            else{\n+                amount_vat_amount.value =result.toFixed(2);\n+            }\n+        } else {\n+            result.value = '';\n+        }\n+    }\n+\n+    function multiplyDiscount() {\n+        const val1 = parseFloat(discount_weight.value);\n+        const val2 = parseFloat(rate_discount_weight.value);\n+        if (!isNaN(val1) && !isNaN(val2)) {\n+            var result = (val1 * val2);\n+            if (Number.isInteger(result)){\n+                amount_discount_weight.value =result.toFixed(0);\n+            }\n+            else{\n+                amount_discount_weight.value = result.toFixed(2);\n+            }\n+        } else {\n+            result.value = '';\n+        }\n+    }\n+\n+    function multiplyDuty() {\n+        const val1 = parseFloat(electronics_weight.value);\n+        const val2 = parseFloat(rate_electronics_weight.value);\n+        if (!isNaN(val1) && !isNaN(val2)) {\n+            var result = (val1 * val2);\n+            if (Number.isInteger(result)){\n+                amount_electronics_weight.value =result.toFixed(0);\n+            }\n+            else{\n+                amount_electronics_weight.value = result.toFixed(2);\n+            }\n+        } else {\n+            result.value = '';\n+        }\n+    }\n+\n+    function multiplyPackingCharge() {\n+        const val1 = parseFloat(msic_weight.value);\n+        const val2 = parseFloat(rate_msic_weight.value);\n+        if (!isNaN(val1) && !isNaN(val2)) {\n+            var result = (val1 * val2);\n+            if (Number.isInteger(result)){\n+                amount_msic_weight.value =result.toFixed(0);\n+            }\n+            else{\n+                amount_msic_weight.value = result.toFixed(2);\n+            }\n+        } else {\n+            result.value = '';\n+        }\n+    }\n+    function totalQuantity() {\n+        // const val1 = parseFloat(amount_normal_weight.value) || 0;\n+        // const val2 = parseFloat(amount_electronics_weight.value) || 0;\n+        // const val3 = parseFloat(amount_msic_weight.value) || 0;\n+\n+\n+        // const val1 = parseFloat(insurance.value) || 0;\n+        // const val2 = parseFloat(volume_weight.value) || 0;\n+        // const val3 = parseFloat(awbfee.value) || 0;\n+        // const val4 = parseFloat(vat_amount.value) || 0;\n+        // const val5 = parseFloat(grand_total_weight.value) || 0;\n+        // const val6 = parseFloat(electronics_weight.value) || 0;\n+        // const val7 = parseFloat(msic_weight.value) || 0;\n+        // const val8 = parseFloat(amount_discount_weight.value) || 0;\n+        // const val9 = parseFloat(amount_add_pack_charge.value) || 0;\n+\n+\n+        // if ([val1, val2, val3, val4, val5, val6, val7,val9 ].every(val => !isNaN(val))) {\n+        //     var result = val1 + val2 + val3 + val4 + val5 + val6 + val7 + val9;\n+        //     var grant_tot = result - val8;\n+        //     console.log(result);\n+        //     console.log(grant_tot);\n+        //     amount_grand_total.value = grant_tot.toFixed(2);\n+        // }\n+\n+\n+\n+        const val1 = parseFloat(amount_normal_weight.value) || 0;\n+        const val2 = parseFloat(amount_electronics_weight.value) || 0;\n+        const val3 = parseFloat(amount_msic_weight.value) || 0;\n+        const val4 = parseFloat(amount_insurance.value) || 0;\n+        const val5 = parseFloat(amount_awbfee.value) || 0;\n+        const val6 = parseFloat(amount_vat_amount.value) || 0;\n+        const val7 = parseFloat(amount_volume_weight.value) || 0;\n+        const val8 = parseFloat(amount_discount_weight.value) || 0;\n+        const val9 = parseFloat(amount_add_pack_charge.value) || 0;\n+\n+\n+        if ([val1, val2, val3, val4, val5, val6, val7,val9].every(val => !isNaN(val))) {\n+            var result = val1 + val2 + val3 + val4 + val5 + val6 + val7 + val9;\n+            var grant_tot = result - val8;\n+            amount_grand_total.value = grant_tot.toFixed(2);\n+        }\n+\n+    }\n+\n+    // function totalQuantityss() {\n+    //     const val1 = parseFloat(amount_normal_weight.value) || 0;\n+    //     const val2 = parseFloat(amount_electronics_weight.value) || 0;\n+    //     const val3 = parseFloat(amount_msic_weight.value) || 0;an serve\n+\n+    //     const val4 = parseFloat(amount_insurance.value) || 0;\n+    //     const val5 = parseFloat(amount_awbfee.value) || 0;\n+    //     const val6 = parseFloat(amount_vat_amount.value) || 0;\n+    //     const val7 = parseFloat(amount_volume_weight.value) || 0;\n+    //     const val8 = parseFloat(amount_discount_weight.value) || 0;\n+\n+\n+    //     if ([val1, val2, val3, val4, val5, val6, val7].every(val => !isNaN(val))) {\n+    //         var result = val1 + val2 + val3 + val4 + val5 + val6 + val7;\n+    //         var grant_tot = result - val8;\n+    //         amount_grand_total.value = grant_tot.toFixed(2);\n+    //     }\n+    // }\n+\n+    // function discountQuantity() {\n+    //     totalQuantityss()\n+    //     const val1 = parseFloat(amount_discount_weight.value) || 0;\n+    //     const total = parseFloat(amount_grand_total.value) || 0;\n+    //     if (!isNaN(val1)) {\n+    //         var result = total - val1;\n+    //         // amount_grand_total.value = result.toFixed(2);\n+    //     }\n+    // }\n+    electronics_weight.addEventListener('input', multiplyDuty);\n+    rate_electronics_weight.addEventListener('input', multiplyDuty);\n+\n+    msic_weight.addEventListener('input', multiplyPackingCharge);\n+    rate_msic_weight.addEventListener('input', multiplyPackingCharge);\n+\n+    insurance.addEventListener('input', multiplyInsurance);\n+    rate_insurance.addEventListener('input', multiplyInsurance);\n+\n+    volume_weight.addEventListener('input', multiplyVolume);\n+    rate_volume_weight.addEventListener('input', multiplyVolume);\n+\n+    awbfee.addEventListener('input', multiplyAwbFee);\n+    rate_awbfee.addEventListener('input', multiplyAwbFee);\n+\n+    vat_amount.addEventListener('input', multiplyVatAmount);\n+    rate_vat_amount.addEventListener('input', multiplyVatAmount);\n+\n+    discount_weight.addEventListener('input', multiplyDiscount);\n+    rate_discount_weight.addEventListener('input', multiplyDiscount);\n+\n+    add_pack_charge.addEventListener('input', multiplyAddPackCharge);\n+    rate_add_pack_charge.addEventListener('input', multiplyAddPackCharge);\n+\n+    insurance.addEventListener('input', totalQuantity);\n+    volume_weight.addEventListener('input', totalQuantity);\n+    awbfee.addEventListener('input', totalQuantity);\n+    vat_amount.addEventListener('input', totalQuantity);\n+    grand_total_weight.addEventListener('input', totalQuantity);\n+    electronics_weight.addEventListener('input', totalQuantity);\n+    msic_weight.addEventListener('input', totalQuantity);\n+    add_pack_charge.addEventListener('input', totalQuantity);\n+\n+\n+\n+    amount_normal_weight.addEventListener('input', totalQuantity);\n+    amount_electronics_weight.addEventListener('input', totalQuantity);\n+    amount_msic_weight.addEventListener('input', totalQuantity);\n+    amount_insurance.addEventListener('input', totalQuantity);\n+    amount_awbfee.addEventListener('input', totalQuantity);\n+    amount_vat_amount.addEventListener('input', totalQuantity);\n+    amount_volume_weight.addEventListener('input', totalQuantity);\n+    amount_add_pack_charge.addEventListener('input', totalQuantity);\n+\n+    rate_normal_weight.addEventListener('input', totalQuantity);\n+    rate_electronics_weight.addEventListener('input', totalQuantity);\n+    rate_msic_weight.addEventListener('input', totalQuantity);\n+    rate_insurance.addEventListener('input', totalQuantity);\n+    rate_volume_weight.addEventListener('input', totalQuantity);\n+    rate_awbfee.addEventListener('input', totalQuantity);\n+    rate_vat_amount.addEventListener('input', totalQuantity);\n+    rate_add_pack_charge.addEventListener('input', totalQuantity);\n+\n+    discount_weight.addEventListener('input', totalQuantity);\n+    rate_discount_weight.addEventListener('input', totalQuantity);\n+    amount_discount_weight.addEventListener('input', totalQuantity);\n+\n+    $(document).ready(function() {\n+        totalQuantity();\n+        $('#edititemsstore').on('submit', function(event) {\n+            totalQuantity();\n+        });\n+    });\n+\n+});\n+\n+\n+$(document).ready(function() {\n+    $(window).keydown(function(event){\n+        if(event.keyCode == 13) {\n+        event.preventDefault();\n+        return false;\n+        }\n+    });\n+\n+    $('input.timepicker').timepicker({\n+        timeFormat: 'h:mm p',\n+        interval: 1,\n+        dynamic: false,\n+        dropdown: true,\n+        scrollbar: true\n+    });\n+\n+\n+\n+});\n+\n+\n+\n+$(\"#saveDraft\").on('click',function(e){\n+    e.preventDefault();\n+\n+        $.ajax({\n+                url: `{{ route('branch.shipment.saveAsDraft') }}`,\n+                type: \"GET\",\n+                data:  $(\"#edititemsstore\").serialize(),\n+                cache: false,\n+                contentType: false,\n+                processData: false,\n+                success: function (result) {\n+                        toastr.success( result );\n+                    },\n+                error:function(error){\n+                        console.log(error)\n+                        alert(\"not send\");\n+                    }\n+        });\n+\n+});\n+\n+\n+\n+\n+\n+\n+\n+        $(function () {\n+                var no_of_pcs = $('#number_of_pcs').val();\n+                if(no_of_pcs == 0){\n+                    count = 0;\n+                } else {\n+                    count = parseInt(no_of_pcs);\n+                    $(\"#total-package\").css({'display':'block'});\n+                    $(\"#TotalDiv\").css({'display':'block'});\n+                }\n+\n+                addItems(count);\n+                getValOther();\n+\n+                document.getElementById(\"edititemsstore\").onkeypress = function(e) {\n+                    alert('hello');\n+                    var key = e.charCode || e.keyCode || 0;\n+                    if (key == 13) {\n+\n+                        e.preventDefault();\n+                    }\n+                    else {\n+                        addItems(count);\n+                    }\n+                }\n+\n+                $(document).ready(function () {\n+                    $('.select2').select2();\n+                        addremoveClass();\n+                    })\n+\n+\n+            });\n+\n+\n+\n+\n+            $('#addBox').on('click', function () {\n+                var no_of_box = parseInt($('#number_of_pcs').val());\n+                if( no_of_box == 0 ){\n+                    count = 0;\n+                    $('#total-package').css({'display':'block'});\n+\n+                    // $(\"input[name='msic_weight']\").val('');\n+                    $(\"input[name='normal_weight']\").val('');\n+                    // $(\"input[name='grand_total_weight']\").val('');\n+                    $(\"input[name='grand_total_box_value']\").val('');\n+                    $(\"input[name='total_freight']\").val('');\n+                    $(\"input[name='misc_freight']\").val('');\n+                    $(\"input[name='packing_charge']\").val('');\n+                    $(\"input[name='grand_total']\").val('');\n+\n+                }\n+\n+                count = no_of_box + 1;\n+                var number_of_pcs =count;\n+                 $('#number_of_pcs').val(count);\n+\n+                for (i = 0; i <1; i++) {\n+\n+                       var myClone =  $('#newBoxContainer').clone().attr('id', 'newBoxContainer'+ count);\n+\n+                        var k =  count;\n+                        var j =  count;\n+\n+                        myClone.find('#newBoxContainer').attr('id','newBoxContainer'+k);\n+                        myClone.find('.box-length').attr('name','length'+k);\n+                        myClone.find('.box-height').attr('name','height'+k);\n+                        myClone.find('.box-width').attr('name','width'+k);\n+                        myClone.find('.box-dimension').attr('name','dimension'+k);\n+                        myClone.find('.box-dimension').attr('data-no',k);\n+                        myClone.find('.box-unit-value').attr('name','unit_value'+k);\n+                        myClone.find('.box-weight1').attr('data-weight', k);\n+                        myClone.find('.box-weight1').attr('name','weight'+ k);\n+                        myClone.find('.box-weight1').attr('class', 'form-control box-weight');\n+\n+                        myClone.find('.receiver_name_1').attr('name','receiver_name'+ k);\n+                        myClone.find('.receiver_address_1').attr('name','receiver_address'+ k);\n+                        myClone.find('.receiver_mob_1').attr('name','receiver_mob'+ k);\n+                        myClone.find('.receiver_id_no_1').attr('name','receiver_id_no'+ k);\n+                        myClone.find('.receiver_id_type').attr('name','receiver_id_type'+ k);\n+                        myClone.find('.sender_id_type').attr('name','sender_id_type'+ k);\n+                        myClone.find('.sender_pin_1').attr('name','sender_pin'+ k);\n+                        myClone.find('.receiver_pin_1').attr('name','receiver_pin'+ k);\n+\n+                        myClone.find('.sender_id_img_1').attr('name','sender_id_image'+ k + '[]');\n+                        myClone.find('.receiver_id_img_1').attr('name','receiver_id_image'+ k + '[]');\n+\n+                        myClone.find('.sender_name_1').attr('name','sender_name'+ k);\n+                        myClone.find('.sender_address_1').attr('name','sender_address'+ k);\n+                        myClone.find('.sender_mob_1').attr('name','sender_mob'+ k);\n+                        myClone.find('.sender_id_no_1').attr('name','sender_id_no'+ k);\n+                        myClone.find('.sender_id_type').attr('name','sender_id_type'+ k);\n+\n+                        myClone.find('.oldBoxNo').attr('class','form-control col-3 oldBoxNo'+ k);\n+                        myClone.find('#noBoxFound').attr('id','noBoxFound'+ k);\n+                        myClone.find('.oldBoxFill').attr('data-boxId', k);\n+                        myClone.find('.oldBoxFill').attr('class','btn btn-primary fillAdress col-1 ml-2 oldBoxFill'+ k);\n+\n+                        myClone.find('#box_sender_id').attr('name','box_sender_id'+ k);\n+                        myClone.find('#box_receiver_id').attr('name','box_receiver_id'+ k);\n+\n+                        myClone.find('.box-rate1').attr('data-rate', k);\n+                        myClone.find('.box-rate1').attr('name','rate'+ k);\n+                        myClone.find('.box-rate1').attr('class', 'form-control box-rate');\n+\n+                        myClone.find('.box-packing').attr('data-packing', k);\n+                        myClone.find('.box-packing').attr('data-no', k);\n+                        myClone.find('.box-packing').attr('name','packing'+ k);\n+                        myClone.find('.box-packing').attr('class', 'form-control box-packing');\n+                        myClone.find('#packing').attr('id', 'packing'+k);\n+\n+\n+                        myClone.find('#selectVolume').attr('id', 'selectVolume'+k);\n+\n+                        myClone.find('#box_packing_charge').attr('id', 'box_packing_charge'+k);\n+                        myClone.find('.box_packing_charge').attr('data-no', k);\n+                        myClone.find('.box_packing_charge').attr('name','box_packing_charge'+ k);\n+                        myClone.find('.box_packing_charge').attr('class', 'form-control box_packing_charge');\n+\n+\n+                        myClone.find('.box-unit-value').attr('data-unit-value', k);\n+                        myClone.find('.box-total-value').attr('name','total_value'+k);\n+                        // myClone.find('.volume').attr('data-volume', k);\n+                        myClone.find('.volume').attr('name','volume'+ k);\n+                        myClone.find('.volume').attr('data-no',k);\n+\n+                        myClone.find('#other_length').attr('id', 'other_length'+k);\n+                        myClone.find('.other_length').attr('name','other_length'+ k);\n+                        myClone.find('.other_length').attr('data-no',k);\n+\n+\n+                        myClone.find('#other_width').attr('id', 'other_width'+k);\n+                        myClone.find('.other_width').attr('name','other_width'+ k);\n+                        myClone.find('.other_width').attr('data-no',k);\n+\n+                        myClone.find('#other_height').attr('id', 'other_height'+k);\n+                        myClone.find('.other_height').attr('name','other_height'+ k);\n+                        myClone.find('.other_height').attr('data-no',k);\n+\n+                        myClone.find('#other_select').attr('id', 'other_select'+k);\n+                        myClone.find('.other_select').attr('name','other_select'+ k);\n+                        myClone.find('.other_select').attr('data-no',k);\n+\n+                        var myName = $(this).text();\n+                        const booking_number = document.querySelector('input[name=\"booking_number\"]');\n+                        myClone.find('.packageinfo-head1').text('Box - '+j+ booking_number.value );\n+                        myClone.find('.packageinfo-head1').attr('data-myattri', j);\n+                        myClone.find('.packageinfo-head1').attr('class', 'packageinfo-head');\n+\n+                        myClone.find('.box_name1').val(j+ booking_number.value );\n+                        myClone.find('.box_name1').attr('data-myattri', j);\n+                        myClone.find('.box_name1').attr('name', 'box_name'+k);\n+                        myClone.find('.box_name1').attr('class', 'box_name');\n+\n+\n+\n+                        myClone.find('#addpackage').attr('data-myattri', j);\n+                        myClone.find('#addpackage').attr('id', 'addpackage'+j);\n+                        console.log(j);\n+                        console.log(k);\n+                        myClone.find('#removeBox').attr('data-myattri', j);\n+                        myClone.find('#removeBox').attr('id', 'removeBox'+j);\n+                        myClone.find('#additems').attr('id', 'additems'+j);\n+                        myClone.find('#packageinfo').attr('id', 'packageinfo'+j);\n+                        myClone.find('.packageinfo').attr('class', 'table table-bordered packageinfo'+j);\n+                        myClone.find('input[name=\"description[]\"]').attr('name', 'description'+j+'[]');\n+                        myClone.find('input[name=\"qty[]\"]').attr('name', 'qty'+j+'[]');\n+                        myClone.find('input[name=\"unit[]\"]').attr('name', 'unit'+j+'[]');\n+                        myClone.find('input[name=\"unit'+j+'[]\"]').attr('data-myAttri', j);\n+                        myClone.find('input[name=\"subtotal[]\"]').attr('name', 'subtotal'+j+'[]');\n+                        myClone.find('button[name=\"remove[]\"]').attr('data-remove', j);\n+                        myClone.find('button[name=\"remove[]\"]').attr('data-myAttri', j);\n+                        myClone.find('#totalAmt').attr('id', 'totalAmt'+j);\n+                        myClone.find('#totalqty').attr('id', 'totalqty'+j);\n+                        // myClone.find('.box_name').attr('value', '<?=branch()->branch_code?branch()->branch_code:''?>' + j+<?=$bookingNum?>);\n+\n+                        myClone.clone().appendTo(\"#Container\");\n+                        // myClone.clone().prependTo(\"#Container\");\n+                        // myClone.clone().prependTo(\"#Container\").find('input:visible:enabled:first').focus();\n+                        updateBoxName(j, <?=$bookingNum?>);\n+                }\n+\n+                    $(\"#shiping_method\").trigger(\"change\");\n+\n+\n+                if(number_of_pcs > 0) {\n+                    $(\"#TotalDiv\").css({'display':'block'});\n+                    $(\"#total-package\").css({'display':'block'});\n+                    addItems( count);\n+                    // inputChange();\n+                    addremoveClass();\n+\n+                }\n+\n+                $(\".tot_wgt, .tot_rate, .tot_amt\").trigger(\"input\");\n+\n+\n+\n+\n+            });\n+\n+\n+\n+            function updateBoxName(count, bookingNumber ){\n+\n+                const booking_number = document.querySelector('input[name=\"booking_number\"]');\n+\n+                // $(\".box_name\"+i+1).each(function (boxnum) {\n+\n+                //     var boxnum= boxnum+1;\n+                //     console.log(''+ boxnum + booking_number.value);\n+                //     $(this).val(''+ boxnum + booking_number.value);\n+\n+                // });\n+\n+\n+                // $(\".packageinfo-head\").each(function (index) {\n+                //     var index =  $(\".packageinfo-head\").length -index;\n+                //     // var index= index-1;\n+                //     $(this).text('Box - '+ index + booking_number.value );\n+\n+\n+                // });\n+\n+                $(\".box_name\").each(function (boxnum) {\n+                    var no_of_box = parseInt($('#number_of_pcs').val());\n+                    var boxnum= boxnum+1;\n+                   \n+                  //  $(this).val(''+ boxnum + booking_number.value);\n+                  $(this).val(''+ booking_number.value+'-'+ boxnum +'/'+no_of_box);\n+                    $(this).attr('name', `box_name${boxnum}`);\n+\n+\n+                });\n+\n+                $(\".packageinfo-head\").each(function (index) {\n+                    var no_of_box = parseInt($('#number_of_pcs').val());\n+                    var index= index+1;\n+                    $(this).text('Box - '+ booking_number.value +' - '  + index +'/'+ no_of_box );\n+                });\n+\n+\n+                $(\".sender_name\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `sender_name${index}`);\n+                });\n+\n+                $(\".sender_address\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `sender_address${index}`);\n+                });\n+\n+                $(\".sender_pin\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `sender_pin${index}`);\n+                });\n+\n+                $(\".sender_mob\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `sender_mob${index}`);\n+                });\n+\n+                $(\".sender_id_no\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `sender_id_no${index}`);\n+                    $(this).attr('data-index', `${index}`);\n+                });\n+\n+                $(\".sender_id_image_value\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `sender_id_image_value${index}`);\n+                });\n+\n+                $(\".sender_id_image\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `sender_id_image${index}`);\n+                });\n+\n+\n+\n+\n+\n+\n+                $(\".receiver_name\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `receiver_name${index}`);\n+                });\n+\n+                $(\".receiver_address\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `receiver_address${index}`);\n+                });\n+\n+                $(\".receiver_pin\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `receiver_pin${index}`);\n+                });\n+\n+                $(\".receiver_mob\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `receiver_mob${index}`);\n+                });\n+\n+                $(\".receiver_id_no\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `receiver_id_no${index}`);\n+                    $(this).attr('data-index', `${index}`)\n+                });\n+\n+                $(\".sender_id_type\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `sender_id_type${index}`);\n+                });\n+\n+                $(\".receiver_id_image_value\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `receiver_id_image_value${index}`);\n+                });\n+\n+                $(\".receiver_id_image\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `receiver_id_image${index}`);\n+                });\n+\n+                $(\".weight\").each(function (index) {\n+                    var index= index+1;\n+                    $(this).attr('name', `weight${index}`);\n+                });\n+\n+\n+\n+\n+                $(\".boxcount\").each(function (index) {\n+                    var index= index+1;\n+\n+                    $(this).find(\".descriptions\").each(function() {\n+                         $(this).attr(\"name\", `description${index}[]`);\n+                    });\n+\n+                    $(this).find(\".qty\").each(function() {\n+                         $(this).attr(\"name\", `qty${index}[]`);\n+                    });\n+\n+                    $(this).find(\".unit\").each(function() {\n+                         $(this).attr(\"name\", `unit${index}[]`);\n+                    });\n+\n+                    $(this).find(\".pkg-subtotal\").each(function() {\n+                         $(this).attr(\"name\", `subtotal${index}[]`);\n+                    });\n+                });\n+\n+            }\n+\n+\n+\n+            $('#sender_id').on('change', function () {\n+                var address = $(this).find(\":selected\").data('address');\n+                var phone = $(this).find(\":selected\").data('phone');\n+                $(\"#sender_address\").val(address);\n+                $(\"#sender_phone\").val(phone);\n+\n+            });\n+            $('#receiver_id').on('change', function () {\n+                var address = $(this).find(\":selected\").data('address');\n+                var phone = $(this).find(\":selected\").data('phone');\n+                $(\"#receiver_address\").val(address);\n+                $(\"#receiver_phone\").val(phone);\n+            });\n+\n+            $.ajaxSetup({\n+                headers: {\n+                    'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n+                }\n+            });\n+\n+\n+             $('#AddSender').click(function () {\n+\n+                $('#AddClient h4.modal-title').text(\"Add Sender\");\n+                $('#AddClient #clientType').val(\"sender\");\n+                $('.id_no label').text(\"Sender Id\");\n+                $('.id_type label').text(\"Sender Identification Type\");\n+                // $(\"select[name='client_identification_type']\").val('<?=$previous_sender->identification_type?>');\n+                $(\"select[name='country_id']\").val(<?=$previous_sender->address->country_id?>);\n+                console.log(<?=$previous_sender->address->country_id?>);\n+                $('#state_id').html('');\n+                <?php foreach ($previous_sender_state as $key => $value) { ?>\n+                      $('#state_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n+                <?php } ?>\n+\n+                $('#city_id').html('');\n+                <?php foreach ($previous_sender_city as $key => $value) { ?>\n+                      $('#city_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n+                <?php } ?>\n+\n+\n+                $(\"#phone\").attr(\"maxlength\", <?=$prev_sender_phon_length->phone_no_length?>);\n+                $(\"#whatsapp_number\").attr(\"maxlength\", <?=$prev_sender_phon_length->phone_no_length?>);\n+\n+                $(\"#phone\").attr(\"placeholder\", \"Enter \"+<?=$prev_sender_phon_length->phone_no_length?$prev_sender_phon_length->phone_no_length:'-'?>+\" digits\");\n+                $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+<?=$prev_sender_phon_length->phone_no_length?$prev_sender_phon_length->phone_no_length:'-'?>+\" digits\");\n+\n+                $(\"select[name='state_id']\").val(<?=$previous_sender->address->state_id?>);\n+                $(\"select[name='city_id']\").val(<?=$previous_sender->address->city_id?>);\n+                $(\"select[name='country_code_whatsapp']\").val(<?=$previous_sender->country_code_whatsapp?>);\n+                $(\"select[name='country_code_phone']\").val(<?=$previous_sender->country_code_phone?>);\n+\n+                $('#mobile2').text(\"Whatsapp\");\n+\n+                $('#AddClient').modal('show');\n+\n+            });\n+            $('#EditSender').click(function () {\n+        var selectedOption = $('#sender_id').find('option:selected');\n+        var senderId = selectedOption.val();\n+        isEditMode = true;\n+       // alert(senderId);\n+        if (senderId) {\n+            $('#AddClient .modal-title').text(\"Edit Sender\");\n+            $('#sender_id_input').val(senderId); // Set ID field for editing\n+            $('#AddClient').modal('show');\n+            $('#save_data_user').hide();\n+            $('#update_data_receiver').hide();\n+            $('#update_data_user').show();\n+           \n+            // Populate fields with selected receiver data\n+            populateFieldsForEdit(selectedOption);\n+        } else {\n+            alert('Please select a sender to edit.');\n+        }\n+\n+\n+                    // JavaScript code to dynamically enable/disable the forward button\n+            document.addEventListener('DOMContentLoaded', () => {\n+                const forwardButton = document.getElementById('forwardButton');\n+\n+                // Check initial history length and update button state\n+                updateForwardButtonState();\n+\n+                // Listen for history changes and update button state accordingly\n+                window.addEventListener('popstate', () => {\n+                    updateForwardButtonState();\n+                });\n+            });\n+\n+            function updateForwardButtonState() {\n+                const forwardButton = document.getElementById('forwardButton');\n+                forwardButton.disabled = history.length <= 1;\n+            }\n+    });\n+      // Function to populate fields for Edit\n+      function populateFieldsForEdit(option) {\n+        $('#name').val(option.data('name'));\n+        $('#email').val(option.data('email'));\n+        $('#phone').val(option.data('phone'));\n+        $('#address').val(option.data('address'));\n+        $('#whatsapp_number').val(option.data('whatsapp_number'));\n+       // $('#country_id').val(option.data('country_id'));\n+        //$('#state_id').val(option.data('state_id'));\n+        //$('#district_id').val(option.data('district_id'));\n+        $('#cities').val(option.data('cities'));\n+        $('#post').val(option.data('post'));\n+        $('#zip_code').val(option.data('zip_code'));\n+        $('#country_code_phone').val(option.data('country_code_phone'));\n+        $('#country_code_whatsapp').val(option.data('country_code_whatsapp'));\n+        $('#client_identification_type').val(option.data('identification_type'));\n+        $('#client_identification_number').val(option.data('identification_number'));\n+     $('#country_id').val(option.data('country_id')).trigger('change'); // Trigger change to load states\n+     $('#state_id').val(option.data('state_id')).trigger('change'); \n+     $('#district_id').val(option.data('district_id')).trigger('change');\n+   \n+            }\n+            $('#update_data_user').click(function () {\n+    var selectedOption = $('#sender_id').find('option:selected');\n+    var senderId = selectedOption.val();\n+    var formData = new FormData($('#add_client_shipments')[0]); // Collect form data\n+\n+    $.ajax({\n+        url: '/branch/shipment/update-sender/' + senderId,\n+        type: 'POST',\n+        data: formData,\n+        contentType: false,\n+        processData: false,\n+        headers: {\n+            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') // Add CSRF token header\n+        },\n+        success: function(response) {\n+            if (response.success) {\n+                // Hide the modal\n+                $('#AddClient').modal('hide');\n+\n+                // Log the response to see if data is coming as expected\n+                console.log(response.data);\n+\n+                // Remove the existing option and add a new one\n+                $('#sender_id option[value=\"' + senderId + '\"]').remove();\n+                $('#sender_id').append(\n+                    '<option value=\"' + senderId + '\" ' +\n+                    'data-identification_type=\"' + response.data.identification_type + '\" ' +\n+                    'data-identification_number=\"' + response.data.identification_number + '\" ' +\n+                    'data-name=\"' + response.data.name + '\" ' +\n+                    'data-email=\"' + response.data.email + '\" ' +\n+                    'data-phone=\"' + response.data.phone + '\" ' +\n+                    'data-address=\"' + response.data.address + '\" ' +\n+                    'data-whatsapp_number=\"' + response.data.whatsapp_number + '\" ' +\n+                    'data-country_code_phone=\"' + response.data.country_code_phone + '\" ' +\n+                    'data-country_code_whatsapp=\"' + response.data.country_code_whatsapp + '\" ' +\n+                    'data-country_id=\"' + response.data.country_id + '\" ' +\n+                    'data-state_id=\"' + response.data.state_id + '\" ' +\n+                    'data-district_id=\"' + response.data.district_id + '\" ' +\n+                    'data-city_id=\"' + response.data.city_id + '\" ' +\n+                    'data-zip_code=\"' + response.data.zip_code + '\">' +\n+                    response.data.name.toUpperCase() + ' - ' + response.data.phone +\n+                    '</option>'\n+                );\n+\n+                // Set the updated option as selected\n+                $('#sender_id').val(senderId);\n+                 // Update the readonly fields with the new data\n+                 $('#sender_address').val(response.data.address);\n+                $('#sender_phone').val(response.data.phone);\n+            } else {\n+                alert('Failed to update sender details.');\n+            }\n+        },\n+        error: function(xhr) {\n+            alert('Failed to update sender details.');\n+        }\n+    });\n+});\n+\n+            $('#AddReceiver').click(function () {\n+                $('#AddClient h4.modal-title').text(\"Add Receiver <?=$previous_receiver->address->state_id?>\");\n+                $('#AddClient #clientType').val(\"receiver\");\n+                $('.id_no label').text(\"Receiver Id\");\n+                $('.id_type label').text(\"Receiver Identification Type\");\n+                // $(\"select[name='client_identification_type']\").val('<?=$previous_receiver->identification_type?>');\n+                $(\"select[name='country_id']\").val(<?=$previous_receiver->address->country_id?>);\n+                $('#state_id').html('');\n+                <?php foreach ($previous_receiver_state as $key => $value) { ?>\n+                      $('#state_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n+                <?php } ?>\n+\n+                $('#city_id').html('');\n+                <?php foreach ($previous_receiver_city as $key => $value) { ?>\n+                      $('#city_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n+                <?php } ?>\n+\n+\n+                $(\"#phone\").attr(\"maxlength\", <?=$prev_receiver_phon_length->phone_no_length?>);\n+                $(\"#whatsapp_number\").attr(\"maxlength\", <?=$prev_receiver_phon_length->phone_no_length?>);\n+\n+                $(\"#phone\").attr(\"placeholder\", \"Enter \"+<?=$prev_receiver_phon_length->phone_no_length?$prev_receiver_phon_length->phone_no_length:'-'?>+\" digits\");\n+                $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+<?=$prev_receiver_phon_length->phone_no_length?$prev_receiver_phon_length->phone_no_length:'-'?>+\" digits\");\n+\n+                $(\"select[name='state_id']\").val(<?=$previous_receiver->address->state_id?>);\n+                $(\"select[name='city_id']\").val(<?=$previous_receiver->address->city_id?>);\n+                $(\"select[name='country_code_whatsapp']\").val(<?=$previous_receiver->country_code_whatsapp?>);\n+                $(\"select[name='country_code_phone']\").val(<?=$previous_receiver->country_code_phone?>);\n+\n+\n+                $('#AddClient').modal('show');\n+\n+                 $('#mobile2').text(\"Mobile 2\");\n+\n+                $('#AddClient').modal('show');\n+                $('#country_id').trigger('change');\n+            });\n+\n+      // Update receiver\n+      $('#EditReceiver').click(function () {\n+        var selectedOption = $('#receiver_id').find('option:selected');\n+        var receiverId = selectedOption.val();\n+        isEditMode = true;\n+       // alert(senderId);\n+        if (receiverId) {\n+            $('#AddClient .modal-title').text(\"Edit Receiver\");\n+            $('#sender_id_input').val(receiverId); // Set ID field for editing\n+            $('#AddClient').modal('show');\n+            $('#save_data_user').hide();\n+            $('#update_data_receiver').show();\n+            $('#update_data_user').hide();\n+           \n+            // Populate fields with selected receiver data\n+            populateFieldsForEditReceiver(selectedOption);\n+        } else {\n+            alert('Please select a receiver to edit.');\n+        }\n+    });\n+    function populateFieldsForEditReceiver(option) {\n+        $('#name').val(option.data('name'));\n+        $('#email').val(option.data('email'));\n+        $('#phone').val(option.data('phone'));\n+        $('#address').val(option.data('address'));\n+        $('#whatsapp_number').val(option.data('whatsapp_number'));\n+        $('#country_id').val(option.data('country_id'));\n+        $('#state_id').val(option.data('state_id'));\n+        $('#district_id').val(option.data('district_id'));\n+        $('#cities').val(option.data('cities'));\n+        $('#post').val(option.data('post'));\n+        $('#zip_code').val(option.data('zip_code'));\n+        $('#country_code_phone').val(option.data('country_code_phone'));\n+        $('#country_code_whatsapp').val(option.data('country_code_whatsapp'));\n+        $('#client_identification_type').val(option.data('identification_type'));\n+        $('#client_identification_number').val(option.data('identification_number'));\n+    }\n+    $('#update_data_receiver').click(function () {\n+    var selectedOption = $('#receiver_id').find('option:selected');\n+    var receiverId = selectedOption.val();\n+    var formData = new FormData($('#add_client_shipments')[0]); // Collect form data\n+\n+    $.ajax({\n+        url: '/branch/shipment/update-receiver/' + receiverId,\n+        type: 'POST',\n+        data: formData,\n+        contentType: false,\n+        processData: false,\n+        headers: {\n+            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') // Add CSRF token header\n+        },\n+        success: function(response) {\n+            if (response.success) {\n+                // Hide the modal\n+                $('#AddClient').modal('hide');\n+\n+                // Log the response to see if data is coming as expected\n+                console.log(response.data);\n+\n+                // Remove the existing option and add a new one\n+                $('#receiver_id option[value=\"' + receiverId + '\"]').remove();\n+                $('#receiver_id').append(\n+                    '<option value=\"' + receiverId + '\" ' +\n+                    'data-identification_type=\"' + response.data.identification_type + '\" ' +\n+                    'data-identification_number=\"' + response.data.identification_number + '\" ' +\n+                    'data-name=\"' + response.data.name + '\" ' +\n+                    'data-email=\"' + response.data.email + '\" ' +\n+                    'data-phone=\"' + response.data.phone + '\" ' +\n+                    'data-address=\"' + response.data.address + '\" ' +\n+                    'data-whatsapp_number=\"' + response.data.whatsapp_number + '\" ' +\n+                    'data-country_code_phone=\"' + response.data.country_code_phone + '\" ' +\n+                    'data-country_code_whatsapp=\"' + response.data.country_code_whatsapp + '\" ' +\n+                    'data-country_id=\"' + response.data.country_id + '\" ' +\n+                    'data-state_id=\"' + response.data.state_id + '\" ' +\n+                    'data-district_id=\"' + response.data.district_id + '\" ' +\n+                    'data-city_id=\"' + response.data.city_id + '\" ' +\n+                    'data-zip_code=\"' + response.data.zip_code + '\">' +\n+                    response.data.name.toUpperCase() + ' - ' + response.data.phone +\n+                    '</option>'\n+                );\n+\n+                // Set the updated option as selected\n+                $('#receiver_id').val(receiverId);\n+                 // Update the readonly fields with the new data\n+                 $('#receiver_address').val(response.data.address);\n+                $('#receiver_phone').val(response.data.phone);\n+            } else {\n+                alert('Failed to update receiver details.');\n+            }\n+        },\n+        error: function(xhr) {\n+            alert('Failed to update receiver details.');\n+        }\n+    });\n+});\n+\n+\n+            $('.modal').on('hidden.bs.modal', function (e) {\n+                $(this).find(\"input,textarea,select\").val('').end()\n+                .find(\"input[type=checkbox], input[type=file], input[type=radio]\")\n+                .prop(\"checked\", \"\")\n+                .end();\n+            })\n+\n+\n+            var index = 1;\n+\n+            function addItems(number_of_pcs) {\n+                for( let i = 1; i <= number_of_pcs; i++) {\n+                    $(document).on(\"input\", \".unit\", function () {\n+                        $(\"input[name='unit\"+i+\"[]']\").each(function () {\n+                            var qty = $(this).parent('td').prev('td').find('input').val()\n+                            var unit = $(this).val();\n+                            $(this).parent('td').next('td').find('input').val((qty * unit).toFixed(2));\n+                            console.log((qty * unit).toFixed(2));\n+                        });\n+\n+                        var sum = 0;\n+                        $(\"input[name='subtotal\"+i+\"[]']\").each(function () {\n+                            sum += +$(this).val();\n+                        });\n+                        $(\"#totalAmt\"+i).text(sum);\n+                        $(\"#inp_totalAmt\"+i).text(sum);\n+                    })\n+\n+\n+                    $(document).on(\"input\", \".qty\", function () {\n+                        var sum = 0;\n+                        $(\"input[name='qty\"+i+\"[]']\").each(function () {\n+                            var qty = $(this).val();\n+                            var unit = $(this).parent('td').next('td').find('input').val();\n+                            $(this).closest('tr').find('td:nth-child(5) input').val((qty * unit).toFixed(2));\n+                            sum += +$(this).val();\n+                        });\n+                        $(\"#totalqty\"+i).text(sum);\n+                        var sum = 0;\n+                        $(\"input[name='subtotal\"+i+\"[]']\").each(function () {\n+                            sum += +$(this).val();\n+                        });\n+                        $(\"#totalAmt\"+i).text(sum);\n+                    })\n+                }\n+\n+            }\n+\n+\n+                $(document).on(\"input\", \".box-weight\", function () {\n+                        var sum_value = 0;\n+                        $('.box-weight').each(function(){\n+                            sum_value += +$(this).val();\n+                            $(\"input[name='normal_weight']\").val(sum_value);\n+                            $(\"input[name='normal_weight_temp']\").val(sum_value);\n+                            // $(\"input[name='grand_total_weight']\").val(sum_value);\n+                        })\n+                        $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n+                        var wgt = $(this).attr(\"data-weight\");\n+                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n+                        var rate = parseFloat($(\"input[name='rate\"+wgt+\"']\").val());\n+                        $(\"input[name='total_value\"+wgt+\"']\").val( (total_weight * rate).toFixed(2));\n+                        $(\"input[name='electronics_weight']\").trigger(\"keyup\");\n+                })\n+\n+                $(document).on(\"input\", \".box-rate\", function () {\n+                        var wgt = $(this).attr(\"data-rate\");\n+                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n+                        var rate = parseFloat($(\"input[name='rate\"+wgt+\"']\").val());\n+                        $(\"input[name='total_value\"+wgt+\"']\").val((total_weight * rate).toFixed(2));\n+                        $(\"input[name='electronics_weight']\").trigger(\"keyup\");\n+                })\n+\n+                $(document).on(\"input\", \".box-unit-value\", function () {\n+                        var wgt = $(this).attr(\"data-unit-value\");\n+                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n+                        var total_unit_value = parseFloat($(\"input[name='unit_value\"+wgt+\"']\").val());\n+                })\n+\n+\n+                $(document).on(\"input\", \".box_packing_charge\", function () {\n+                    var sum_value = 0;\n+                        $('.box_packing_charge').each(function(){\n+                            sum_value += +$(this).val();\n+                            $(\"input[name='packing_charge']\").val(sum_value);\n+                        })\n+\n+                        $(\".gtotal\").trigger(\"input\");\n+                })\n+\n+\n+\n+            $(document).on(\"input\", \".gtotal\", function () {\n+                var sum_value = 0;\n+                $('.gtotal').each(function(){\n+\n+                    sum_value += +$(this).val();\n+                    if($(\"#discount\").val() != '') {\n+                        var discount =  parseFloat($(\"#discount\").val());\n+                    } else {\n+                        var discount = 0;\n+                    }\n+                    $(\"input[name='grand_total']\").val(parseFloat(sum_value) - discount );\n+\n+                })\n+            })\n+\n+\n+            $(document).on(\"input\", \"#discount\", function () {\n+                $(\".discount\").val( $('#discount').val());\n+                var sum_value = 0;\n+                $('.gtotal').each(function(){\n+                    sum_value += +$(this).val();\n+                    if($(\"#discount\").val() != '') {\n+                        var discount =  parseFloat($(\"#discount\").val());\n+                    } else {\n+                        var discount = 0;\n+                    }\n+                    $(\"input[name='grand_total']\").val(parseFloat(sum_value) - discount );\n+                });\n+            })\n+\n+            $(\".grand_total_weight, .rate_normal_weight \").keyup(function(){\n+                var wgt = $(this).attr(\"data-unit-value\");\n+                var total_weight = parseFloat($(\"input[name='grand_total_weight']\").val());\n+                var total_rate_value = parseFloat($(\"input[name='rate_normal_weight']\").val());\n+                $(\"input[name='amount_normal_weight']\").val( (total_weight * total_rate_value).toFixed(2));\n+                $(\".tot_amt\").trigger(\"keyup\");\n+                $(\".gtotal\").trigger(\"input\");\n+            })\n+\n+\n+            //     $(\".electronics_weight, .rate_electronics_weight \").keyup(function(){\n+            //         var wgt = $(this).attr(\"data-unit-value\");\n+            //         var total_weight = parseFloat($(\"input[name='electronics_weight']\").val());\n+            //         var total_rate_value = parseFloat($(\"input[name='rate_electronics_weight']\").val());\n+            //         $(\"input[name='amount_electronics_weight']\").val( total_weight * total_rate_value);\n+\n+            //         var normal_weight = 0;\n+            //         var msic_weight = 0;\n+            //         var other_weight = 0;\n+            //         var electronics_weight = 0;\n+            //         var amount_other_weight =0;\n+            //         // var insurance = 0;\n+            //         // var awbfee = 0;\n+            //         // var vat_amount = 0;\n+            //         // var volume_weight = 0;\n+\n+\n+            //         normal_weight = isNaN(parseFloat($(\"input[name='normal_weight_temp']\").val())) ? 0 : parseFloat($(\"input[name='normal_weight_temp']\").val());\n+            //         msic_weight = isNaN(parseFloat($(\"input[name='msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='msic_weight']\").val());\n+            //         electronics_weight = isNaN(parseFloat($(\"input[name='electronics_weight']\").val()))? 0: parseFloat($(\"input[name='electronics_weight']\").val());\n+            //         other_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val()))? 0: parseFloat($(\"input[name='other_weight']\").val());\n+            //         // insurance = isNaN(parseFloat($(\"input[name='insurance']\").val())) ? 0 : parseFloat($(\"input[name='insurance']\").val());\n+            //         // awbfee = isNaN(parseFloat($(\"input[name='awbfee']\").val())) ? 0 : parseFloat($(\"input[name='awbfee']\").val());\n+            //         // vat_amount = isNaN(parseFloat($(\"input[name='vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='vat_amount']\").val());\n+            //         // volume_weight = isNaN(parseFloat($(\"input[name='volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='volume_weight']\").val());\n+\n+\n+            //         rate_normal_weight = isNaN(parseFloat($(\"input[name='rate_normal_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_normal_weight']\").val());\n+            //         rate_msic_weight = isNaN(parseFloat($(\"input[name='rate_msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_msic_weight']\").val());\n+            //         rate_electronics_weight = isNaN(parseFloat($(\"input[name='rate_electronics_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_electronics_weight']\").val());\n+            //         rate_other_weight = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n+            //         // rate_insurance = isNaN(parseFloat($(\"input[name='rate_insurance']\").val())) ? 0 : parseFloat($(\"input[name='rate_insurance']\").val());\n+            //         // rate_awbfee = isNaN(parseFloat($(\"input[name='rate_awbfee']\").val())) ? 0 : parseFloat($(\"input[name='rate_awbfee']\").val());\n+            //         // rate_vat_amount = isNaN(parseFloat($(\"input[name='rate_vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='rate_vat_amount']\").val());\n+            //         // rate_volume_weight = isNaN(parseFloat($(\"input[name='rate_volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_volume_weight']\").val());\n+\n+\n+            //         amount_normal_weight =  isNaN(normal_weight * rate_normal_weight) ? 0 : normal_weight * rate_normal_weight;\n+            //         amount_msic_weight =  isNaN(msic_weight * rate_msic_weight) ? 0 : msic_weight * rate_msic_weight;\n+            //         amount_electronics_weight =  isNaN(electronics_weight * rate_electronics_weight)? 0 : electronics_weight * rate_electronics_weight;\n+            //         amount_other_weight =  isNaN(other_weight * rate_other_weight)? 0 : other_weight * rate_other_weight;\n+            //         // amount_insurance =  isNaN(insurance * rate_insurance) ? 0 : insurance * rate_insurance;\n+            //         // amount_awbfee =  isNaN(awbfee * rate_awbfee) ? 0 : awbfee * rate_awbfee;\n+            //         // amount_vat_amount =  isNaN(vat_amount * rate_vat_amount) ? 0 : vat_amount * rate_vat_amount;\n+            //         // amount_volume_weight =  isNaN(volume_weight * rate_volume_weight) ? 0 : volume_weight * rate_volume_weight;\n+            //         // var elec_mis_oth_wgt =  parseFloat(msic_weight)   + parseFloat(electronics_weight);\n+\n+            //         $(\"input[name='amount_msic_weight']\").val(amount_msic_weight);\n+            //         $(\"input[name='amount_electronics_weight']\").val(amount_electronics_weight);\n+\n+            //         // $(\"input[name='amount_insurance']\").val(amount_insurance);\n+            //         // $(\"input[name='amount_awbfee']\").val(amount_awbfee);\n+            //         // $(\"input[name='amount_vat_amount']\").val(amount_vat_amount);\n+            //         // $(\"input[name='amount_volume_weight']\").val(amount_volume_weight);\n+\n+            //         //$(\"input[name='amount_grand_total']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n+            //         $(\"input[name='total_freight']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n+            //         console.log(amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight, 'sdfbfjhbsdljh');\n+\n+            //         $(\".grand_total_weight\").trigger(\"keyup\");\n+            //         $(\".rate_electronics_weight\").trigger(\"input\");\n+\n+            // })\n+\n+\n+            // $(\" .msic_weight, .rate_msic_weight \").keyup(function(){\n+            //     var wgt = $(this).attr(\"data-unit-value\");\n+            //     var total_weight = parseFloat($(\"input[name='msic_weight']\").val());\n+            //     var total_rate_value = parseFloat($(\"input[name='rate_msic_weight']\").val());\n+\n+            //     $(\"input[name='amount_msic_weight']\").val( total_weight * total_rate_value);\n+\n+\n+            //     var normal_weight = 0;\n+            //     var msic_weight = 0;\n+            //     var other_weight = 0;\n+            //     var electronics_weight = 0;\n+            //     var amount_other_weight =0;\n+            //     // var insurance = 0;\n+            //     // var awbfee = 0;\n+            //     // var vat_amount = 0;\n+            //     // var volume_weight = 0;\n+\n+            //     normal_weight =  isNaN(parseFloat($(\"input[name='normal_weight']\").val()))? 0 : parseFloat($(\"input[name='normal_weight']\").val());\n+            //     msic_weight = isNaN(parseFloat($(\"input[name='msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='msic_weight']\").val());\n+            //     electronics_weight = isNaN(parseFloat($(\"input[name='electronics_weight']\").val()))? 0: parseFloat($(\"input[name='electronics_weight']\").val());\n+            //     other_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val()))? 0: parseFloat($(\"input[name='other_weight']\").val());\n+            //     // insurance = isNaN(parseFloat($(\"input[name='insurance']\").val())) ? 0 : parseFloat($(\"input[name='insurance']\").val());\n+            //     // awbfee = isNaN(parseFloat($(\"input[name='awbfee']\").val())) ? 0 : parseFloat($(\"input[name='awbfee']\").val());\n+            //     // vat_amount = isNaN(parseFloat($(\"input[name='vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='vat_amount']\").val());\n+            //     // volume_weight = isNaN(parseFloat($(\"input[name='volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='volume_weight']\").val());\n+\n+\n+            //     rate_normal_weight = isNaN(parseFloat($(\"input[name='rate_normal_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_normal_weight']\").val());\n+            //     rate_msic_weight = isNaN(parseFloat($(\"input[name='rate_msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_msic_weight']\").val());\n+            //     rate_electronics_weight = isNaN(parseFloat($(\"input[name='rate_electronics_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_electronics_weight']\").val());\n+            //     rate_other_weight = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n+            //     // rate_insurance = isNaN(parseFloat($(\"input[name='rate_insurance']\").val())) ? 0 : parseFloat($(\"input[name='rate_insurance']\").val());\n+            //     // rate_awbfee = isNaN(parseFloat($(\"input[name='rate_awbfee']\").val())) ? 0 : parseFloat($(\"input[name='rate_awbfee']\").val());\n+            //     // rate_vat_amount = isNaN(parseFloat($(\"input[name='rate_vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='rate_vat_amount']\").val());\n+            //     // rate_volume_weight = isNaN(parseFloat($(\"input[name='rate_volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_volume_weight']\").val());\n+\n+            //     amount_normal_weight =  isNaN(normal_weight * rate_normal_weight) ? 0 : normal_weight * rate_normal_weight;\n+            //     amount_msic_weight =  isNaN(msic_weight * rate_msic_weight) ? 0 : msic_weight * rate_msic_weight;\n+            //     amount_electronics_weight =  isNaN(electronics_weight * rate_electronics_weight)? 0 : electronics_weight * rate_electronics_weight;\n+            //     amount_other_weight =  isNaN(other_weight * rate_other_weight)? 0 : other_weight * rate_other_weight;\n+            //     // amount_insurance =  isNaN(insurance * rate_insurance) ? 0 : insurance * rate_insurance;\n+            //     // amount_awbfee =  isNaN(awbfee * rate_awbfee) ? 0 : awbfee * rate_awbfee;\n+            //     // amount_vat_amount =  isNaN(vat_amount * rate_vat_amount) ? 0 : vat_amount * rate_vat_amount;\n+            //     // amount_volume_weight =  isNaN(volume_weight * rate_volume_weight) ? 0 : volume_weight * rate_volume_weight;\n+\n+\n+            //     var elec_mis_oth_wgt =  parseFloat(msic_weight)  + parseFloat(electronics_weight)\n+\n+            //     $(\"input[name='amount_msic_weight']\").val(amount_msic_weight);\n+            //     $(\"input[name='amount_electronics_weight']\").val(amount_electronics_weight);\n+            //     // $(\"input[name='amount_insurance']\").val(amount_insurance);\n+            //     // $(\"input[name='amount_awbfee']\").val(amount_awbfee);\n+            //     // $(\"input[name='amount_vat_amount']\").val(amount_vat_amount);\n+            //     // $(\"input[name='amount_volume_weight']\").val(amount_volume_weight);\n+            //     // $(\"input[name='grand_total_weight']\").val( parseFloat(normal_weight) - parseFloat(elec_mis_oth_wgt));\n+\n+\n+            //     $(\"input[name='amount_grand_total']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n+            //     $(\"input[name='total_freight']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n+\n+            //     $(\".grand_total_weight\").trigger(\"keyup\");\n+            //     $(\".tot_amt\").trigger(\"keyup\");\n+            //      $(\".gtotal\").trigger(\"input\");\n+\n+\n+            //     })\n+\n+\n+\n+                $(\".other_weight, .rate_other_weight\").keyup(function(){\n+\n+                var total_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val())) ? 0 : parseFloat($(\"input[name='other_weight']\").val());\n+                var total_rate_value = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n+\n+                var normal_weight = isNaN(parseFloat($(\"input[name='normal_weight_temp']\").val())) ? 0 : parseFloat($(\"input[name='normal_weight_temp']\").val());\n+                $(\"input[name='normal_weight']\").val(normal_weight +total_weight );\n+\n+                $(\"input[name='amount_other_weight']\").val( total_weight * total_rate_value);\n+                $(\".tot_amt\").trigger(\"keyup\");\n+                $(\".gtotal\").trigger(\"input\");\n+            });\n+\n+\n+\n+\n+\n+            $(\".tot_amt\").keyup(function(){\n+                var sum_value = 0;\n+                $('.tot_amt').each(function(){\n+                    sum_value += +$(this).val();\n+                    $(\"input[name='amount_grand_total']\").val( sum_value);\n+                    $(\"input[name='total_freight']\").val( sum_value );\n+                })\n+            })\n+\n+\n+            $(document).on(\"click\", \".fillAdress\", function (event) {\n+                var boxId = $(this).attr('data-boxid');\n+                var boxName = $('.oldBoxNo' + boxId).val();\n+\n+                $.ajax({\n+                    url: '/branch/get_box_data',\n+                    type: 'GET',\n+                    data: { box_name: boxName },\n+                    success: function(response) {\n+                        if (response.success) {\n+                            console.log(response.data);\n+                            $('#noBoxFound' + boxId).html(response.message);\n+\n+                            var data = response.data;\n+                            $('input[name=\"sender_name' + boxId + '\"]').val(data.sender_name);\n+                            $('textarea[name=\"sender_address' + boxId + '\"]').val(data.sender_address);\n+                            $('input[name=\"sender_pin' + boxId + '\"]').val(data.sender_pin);\n+                            $('input[name=\"sender_mob' + boxId + '\"]').val(data.sender_mob);\n+                            $('select[name=\"sender_id_type' + boxId + '\"]').val(data.sender_id_type);\n+                            $('input[name=\"sender_id_no' + boxId + '\"]').val(data.sender_id_no);\n+                            // $('input[name=\"sender_id_image' + boxId + '\"]').val(data.sender_id_image);\n+                            $('input[name=\"receiver_name' + boxId + '\"]').val(data.receiver_name);\n+                            $('input[name=\"receiver_id_no' + boxId + '\"]').val(data.receiver_id_no);\n+                            $('textarea[name=\"receiver_address' + boxId + '\"]').val(data.receiver_address);\n+                            $('input[name=\"receiver_pin' + boxId + '\"]').val(data.receiver_pin);\n+                            $('input[name=\"receiver_mob' + boxId + '\"]').val(data.receiver_mob);\n+                            $('select[name=\"receiver_id_type' + boxId + '\"]').val(data.receiver_id_type);\n+                            // $('input[name=\"receiver_id_image' + boxId + '\"]').val(data.receiver_id_image);\n+                        } else {\n+                            $('#noBoxFound' + boxId).html(response.message);\n+                            console.log(response.message);\n+                        }\n+                    },\n+                    error: function(xhr, status, error) {\n+                        console.error('AJAX Error: ' + status + ' ' + error);\n+                    }\n+                });\n+            });\n+\n+\n+\n+            $(document).on(\"click\", \".addpackage\", function (event) {\n+                var i = $(this).attr(\"data-myattri\");\n+                var si = parseInt($(':input[name=\"description'+i+'[]\"]').length)+1;\n+                var tr = $('#tr').html();\n+                        var html = `<tr>\n+                                    <td style=\"padding:10px\" width=\"2%\"><span class=\"form-control border-0\">`+si+`</span></td>\n+                                    <td style=\"padding:10px\" width=\"40%\"><input placeholder=\"Enter description\" type=\"text\" name=\"description`+i+`[]\" class=\"form-control descriptions\"></td>\n+                                        <td style=\"padding:10px\"><input placeholder=\"Enter quantity\" type=\"number\" name=\"qty`+i+`[]\"  class=\"form-control qty\"></td>\n+                                        <td style=\"padding:10px\"><input type=\"number\"  data-myAttri=\"`+i+`\" placeholder=\"Enter unit price\" name=\"unit`+i+`[]\" class=\"form-control unit\" step=\"0.01\"></td>\n+                                        <td style=\"padding:10px\"><input type=\"text\" readonly name=\"subtotal`+i+`[]\" class=\"form-control value pkg-subtotal\"></td>\n+                                        <td>\n+                                        <button type=\"button\"  name=\"remove`+i+`[]\" class=\"remove btn btn-danger\" data-remove=\"`+i+`\">X</button>\n+                                        </td>\n+                                    </tr>`;\n+                        $('#packageinfo'+i+' table').append(html);\n+                        addremoveClass();\n+                        $(\"input[name='description\"+i+\"[]']\").focus();\n+\n+            });\n+\n+\n+            $(document).on(\"click\", \".removeBox\", function (event) {\n+                    var boxNo = $(this).attr(\"data-myattri\");\n+                    var boxCount = $('#number_of_pcs').val();\n+                    boxCount = boxCount -1;\n+\n+\n+                    $('#number_of_pcs').val(boxCount);\n+                    $('#number_of_pcs').val(boxCount);\n+                    $(\"#newBoxContainer\"+boxNo).remove();\n+                        if( boxCount == 0){\n+                            $(\"#TotalDiv\").css({'display':'none'});\n+                            $(\"#total-package\").css({'display':'none'});\n+                        }\n+\n+                        $(\".box-weight\").trigger(\"input\");\n+                        $(\".box-unit-value\").trigger(\"input\");\n+                        // $(\".msic_weight\").trigger(\"input\");\n+                        $(\".gtotal\").trigger(\"input\");\n+                        $(\"#discount\").trigger(\"input\");\n+                        $(\".qty\").trigger(\"keyup\");\n+                        $(\".unit\").trigger(\"keyup\");\n+\n+                        // addItems(boxCount);\n+                        $(\".tot_wgt, .tot_rate, .tot_amt\").trigger(\"input\");\n+\n+\n+                        updateBoxName(boxCount, boxNo );\n+            });\n+\n+\n+\n+            $(document).on(\"keyup\", \".qty\", function (event) {\n+\n+                var box_total = 0;\n+                $('.pkg-subtotal').each(function(){\n+                    box_total += +$(this).val();\n+                    $(\"#totalPackageAmt\").html(box_total);\n+                    $(\"input[name='package_total_amount']\").val(box_total );\n+                });\n+\n+                var box_qty_total = 0;\n+                $('.qty').each(function(){\n+                    box_qty_total += +$(this).val();\n+                    $(\"#totalPackageqty\").html(box_qty_total);\n+                    $(\"input[name='package_total_quantity']\").val( box_qty_total );\n+                });\n+\n+\n+                var box_total = 0;\n+                $('.pkg-subtotal').each(function(){\n+                    box_total += +$(this).val();\n+                    $(\"#totalPackageAmt\").html(box_total);\n+                    $(\"input[name='package_total_amount']\").val(box_total  );\n+\n+                });\n+\n+\n+            });\n+\n+            $(document).on(\"keyup\", \".unit\", function (event) {\n+                var keyPressed = event.keyCode || event.which;\n+                if (keyPressed == 13) {\n+                    var packageNo = $(this).attr(\"data-myAttri\");\n+                    $(\"#addpackage\"+packageNo).click();\n+                    event.preventDefault();\n+                    return false;\n+                }\n+\n+                var box_total = 0;\n+                $('.pkg-subtotal').each(function(){\n+                    box_total += +$(this).val();\n+                    $(\"#totalPackageAmt\").html(box_total);\n+                    $(\"input[name='package_total_amount']\").val(box_total  );\n+                });\n+            });\n+\n+\n+\n+            function addremoveClass() {\n+\n+                $('.remove').click(function(){\n+\n+                    var no_of_box = $('.body .boxcount').length;\n+\n+                    var boxNo = $(this).attr(\"data-myAttri\");\n+                    var totalRowCount = $(\".packageinfo\"+boxNo+\" tr\").length;\n+\n+                    if(no_of_box == 1 ){\n+                        $('#total-package').css({'display':'none'});\n+                    }\n+\n+\n+                    $(this).closest(\"tr\").remove();\n+                    var rm_id = $(this).attr(\"data-remove\");\n+                        var sum = 0;\n+                        $(\"input[name='subtotal\"+rm_id+\"[]']\").each(function () {\n+                            sum += +$(this).val();\n+                        });\n+                        $(\"#totalAmt\"+rm_id+\"\").text(sum);\n+\n+                        var qtysum = 0;\n+                        $(\"input[name='qty\"+rm_id+\"[]']\").each(function () {\n+                            qtysum += +$(this).val();\n+                        });\n+                        $(\"#totalqty\"+rm_id+\"\").text(qtysum);\n+\n+                        var rtotamtsum =0;\n+                        $(\".rtotamt\").each(function () {\n+                            rtotamtsum += parseFloat($(this).text());\n+\n+                        });\n+\n+                        $(\"#totalPackageAmt\").text(rtotamtsum);\n+                        $(\"input[name='package_total_amount']\").val(rtotamtsum);\n+\n+                        var rtotqtysum = 0;\n+                        $(\".rtotqty\").each(function () {\n+                            rtotqtysum += parseFloat($(this).text());\n+                        });\n+                        $(\"#totalPackageqty\").text(rtotqtysum);\n+                        $(\"input[name='package_total_quantity']\").val(rtotqtysum);\n+\n+                    });\n+            }\n+\n+            $('#country_id').change(function () {\n+                var country_id = $(this).val();\n+                $('#loader').removeClass('d-none');\n+                const url = \"{{route('states')}}?country_id=\" + country_id;\n+                // console.log(url);\n+                $.ajax({\n+                    url: url,\n+                    type: \"GET\",\n+                    dataType: \"json\",\n+                    success: function (result) {\n+                        // when call is sucessfull\n+                        // console.log(result);\n+                        $('#loader').addClass('d-none');\n+                        let option = ``;\n+                        $('#state_id').html('<option value=\"\">Select State</option>');\n+                        $.each(result.states, function (key, value) {\n+                            $(\"#state_id\").append('<option value=\"' + value\n+                                .id + '\">' + value.name + '</option>');\n+                        });\n+\n+                        $('.country_code').val(result.phonecode);\n+                        if(result.phone_no_length!= null)\n+                        {\n+                            $(\"#phone\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n+                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n+                            $(\"#phone\").attr(\"maxlength\", result.phone_no_length);\n+                            $(\"#whatsapp_number\").attr(\"maxlength\", result.phone_no_length);\n+                        } else {\n+                            $(\"#phone\").attr(\"placeholder\", \"Enter phone\");\n+                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter phone\");\n+                        }\n+\n+                    }, error: function (er) {\n+                        console.log(er);\n+                    }\n+\n+                }); // ajax call closing\n+            })\n+\n+            $(\"#country_code_whatsapp\").change(function () {\n+                 var country_code = $(this).val();\n+                $('#loader').removeClass('d-none');\n+                const url = \"{{route('getCountry')}}?country_code=\" + country_code;\n+                $.ajax({\n+                    url: url,\n+                    type: \"GET\",\n+                    dataType: \"json\",\n+                    success: function (result) {\n+                        // when call is sucessfull\n+\n+                        $('#loader').addClass('d-none');\n+                        if(result.phone_no_length!= null)\n+                        {\n+                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n+                            $(\"#whatsapp_number\").attr(\"maxlength\", result.phone_no_length);\n+                        } else {\n+                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter phone\");\n+                        }\n+\n+                    }, error: function (er) {\n+                        console.log(er);\n+                    }\n+                }); // ajax call closing\n+            });\n+\n+\n+\n+            $(\"#country_code_phone\").change(function () {\n+\n+                var country_code = $(this).val();\n+                $('#loader').removeClass('d-none');\n+                const url = \"{{route('getCountry')}}?country_code=\" + country_code;\n+                $.ajax({\n+                    url: url,\n+                    type: \"GET\",\n+                    dataType: \"json\",\n+                    success: function (result) {\n+                        // when call is sucessfull\n+                        console.log(result);\n+                        // return false;\n+                        $('#loader').addClass('d-none');\n+\n+                        if(result.phone_no_length!= null)\n+                        {\n+                            $(\"#phone\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n+                            $(\"#phone\").attr(\"maxlength\", result.phone_no_length);\n+                        } else {\n+                            $(\"#phone\").attr(\"placeholder\", \"Enter phone\");\n+\n+                        }\n+\n+                    }, error: function (er) {\n+                        console.log(er);\n+                    }\n+                }); // ajax call closing\n+\n+\n+            });\n+\n+\n+\n+            $('#state_id').change(function () {\n+                var state_id = $(this).val();\n+                $('#loader').removeClass('d-none');\n+                const url = \"{{route('cities')}}?state_id=\" + state_id;\n+                console.log(url);\n+                $.ajax({\n+                    url: url,\n+                    type: \"GET\",\n+                    dataType: \"json\",\n+                    success: function (result) {\n+                        // when call is sucessfull\n+                        console.log(result);\n+                        $('#loader').addClass('d-none');\n+                        let option = ``;\n+                        $('#city_id').html('<option value=\"\">Select City</option>');\n+                        $.each(result, function (key, value) {\n+                            $(\"#city_id\").append('<option value=\"' + value\n+                                .id + '\">' + value.name + '</option>');\n+                        });\n+\n+                    }, error: function (er) {\n+                        console.log(er);\n+                    }\n+\n+                }); // ajax call closing\n+            })\n+\n+\n+            $('#state_id').change(function () {\n+                var state_id = $(this).val();\n+                $('#loader').removeClass('d-none');\n+                const url = \"{{route('districts')}}?state_id=\" + state_id;\n+                console.log(url);\n+                $.ajax({\n+                    url: url,\n+                    type: \"GET\",\n+                    dataType: \"json\",\n+                    success: function (result) {\n+                        // when call is sucessfull\n+                        console.log(result);\n+                        $('#loader').addClass('d-none');\n+                        let option = ``;\n+                        $('#district_id').html('<option value=\"\">Select District</option>');\n+                        $.each(result, function (key, value) {\n+                            $(\"#district_id\").append('<option value=\"' + value\n+                                .id + '\">' + value.name + '</option>');\n+                        });\n+\n+                    }, error: function (er) {\n+                        console.log(er);\n+                    }\n+\n+                }); // ajax call closing\n+            })\n+\n+\n+\n+            $('#collected_by').change(function () {\n+                var collected = $(this).val();\n+                $('#loader').removeClass('d-none');\n+                const url = \"{{route('branch.collectedBy')}}?collected=\" + collected;\n+                console.log(url);\n+                $.ajax({\n+                    url: url,\n+                    type: \"GET\",\n+                    dataType: \"json\",\n+                    success: function (result) {\n+                        // when call is sucessfull\n+                        $('#loader').addClass('d-none');\n+\n+                        $('#driver_or_staff').html(result.res);\n+\n+                    }, error: function (er) {\n+                        console.log(er);\n+                    }\n+\n+                }); // ajax call closing\n+            })\n+\n+\n+            function calculateTotal() {\n+                let weight = $('#weight').val()\n+                let rate = $('#rate').val();\n+                let packing_charge = $('#packing_charge').val();\n+                let other_charges = $('#other_charges').val();\n+                let discount = $('#discount').val();\n+                console.log(weight * rate);\n+                if (typeof weight === \"undefined\" || weight == null) {\n+                    weight = 0;\n+                }\n+                if (typeof rate === \"undefined\" || rate == null) {\n+                    rate = 0;\n+                }\n+                if (typeof packing_charge === \"undefined\" || packing_charge == null) {\n+                    packing_charge = 0;\n+                }\n+                if (typeof other_charges === \"undefined\" || other_charges == null) {\n+                    other_charges = 0;\n+                }\n+                if (typeof discount === \"undefined\" || discount == null) {\n+                    discount = 0;\n+                }\n+                let am = (weight * rate);\n+                let grossTotal = am + parseFloat(packing_charge) + parseFloat(other_charges)\n+                let total = grossTotal - discount;\n+                $('#total_amount').val(total);\n+            }\n+\n+            $(\"#add_client_shipments\").submit(function (e) {\n+                e.preventDefault();\n+                $('.valid-err').hide()\n+                $('#loader').removeClass('d-none');\n+                var formData = new FormData(this);\n+                for (var p of formData) {\n+                    let name = p[0];\n+                    let value = p[1];\n+\n+                    console.log(name, value)\n+                }\n+                $.ajax({\n+                    url: `{{ route('branch.customers.store') }}`,\n+                    type: \"POST\",\n+                    data: formData,\n+                    cache: false,\n+                    contentType: false,\n+                    processData: false,\n+                    success: function (result) {\n+                        // when call is sucessfull\n+                        if (result.success === true) {\n+                            clearForm()\n+                            $('#loader').addClass('d-none');\n+                            var message = `<span class=\"alert alert-success\">` + result.message + `</span>`;\n+                            console.log(result);\n+                            $('#msg').html(message)\n+                            $('#' + result.data.type + '_id').append(`<option value=\"` + result.data.id + `\" selected>` + result.data.name + `<option>`);\n+                            toastr.info(result.data.address.address);\n+                            $('#' + result.data.type + '_address').val(result.data.address.address)\n+                            setTimeout(() => {\n+                                $('.modal').modal('hide');\n+                                $('.alert').hide();\n+                            }, 2000);\n+                        } else {\n+                            toastr.error(result.message);\n+                        }\n+\n+                    },\n+                    error: function (err) {\n+                        // check the err for error details\n+                        console.log(err);\n+                        $('#loader').addClass('d-none');\n+                        $.each(err.responseJSON.errors, function (key, item) {\n+                            $('#' + key).after('<label class=\"valid-err text-danger\">' + item + '</label>')\n+                        });\n+                    }\n+                }); // ajax call closing\n+\n+            });\n+\n+\n+\n+        function clearForm() {\n+            $('#name').val(\"\");\n+            $('#email').val(\"\");\n+            $('#phone').val(\"\");\n+            $('#zip_code').val(\"\");\n+            $('#address').val(\"\");\n+            $('#client_identification_number').val(\"\");\n+        }\n+\n+\n+        $('.btnAction').click(function () {\n+\n+            $(this).html('<i class=\"fa fa-spinner fa-spin\"></i> Loading...');\n+            $(this).attr('disabled', true);\n+            $('#basic-form').submit();\n+        });\n+\n+\n+function getval(event)\n+{\n+\n+\n+    var boxNo =event.dataset.no;\n+    var weight = $(\"input[name='weight\"+boxNo+\"']\").val();\n+    var volume = $(\"select[name='volume\"+boxNo+\"']\").val();\n+    var packing = $(\"select[name='packing\"+boxNo+\"']\").val();\n+    var dataid = $(\"select[name='dimension\"+boxNo+\"']\").val();\n+    // var dataid = event.options[event.selectedIndex].dataset.id;\n+        if( dataid == 0 ){\n+\n+            $(\"#other_height\"+boxNo).removeClass(\"d-none\");\n+            $(\"#other_length\"+boxNo).removeClass(\"d-none\");\n+            $(\"#other_width\"+boxNo).removeClass(\"d-none\");\n+            $(\"#other_select\"+boxNo).removeClass(\"d-none\");\n+            $(\"input[name='box_packing_charge\"+boxNo+\"']\").val('');\n+\n+            $(\"#packing\"+boxNo).addClass(\"d-none\");\n+            $(\"#selectVolume\"+boxNo).addClass(\"d-none\");\n+\n+            $(\"input[name='weight\"+boxNo+\"']\").trigger(\"input\");\n+            $(\"select[name='packing\"+boxNo+\"']\").trigger(\"change\");\n+\n+\n+        } else {\n+\n+            $(\"#other_height\"+boxNo).addClass(\"d-none\");\n+            $(\"#other_length\"+boxNo).addClass(\"d-none\");\n+            $(\"#other_width\"+boxNo).addClass(\"d-none\");\n+            $(\"#other_select\"+boxNo).addClass(\"d-none\");\n+\n+            $(\"#packing\"+boxNo).removeClass(\"d-none\");\n+            $(\"#selectVolume\"+boxNo).removeClass(\"d-none\");\n+\n+                $('#loader').removeClass('d-none');\n+                const url = \"{{route('getUnitValue')}}?id=\" + dataid+\"&boxNo=\"+boxNo+\"&volume=\"+volume+\"&packing=\"+packing;\n+                console.log(url);\n+                $.ajax({\n+                    url: url,\n+                    type: \"GET\",\n+                    dataType: \"json\",\n+                    success: function (result) {\n+                        // when call is sucessfull\n+                        $('#loader').addClass('d-none');\n+\n+                        $(\"input[name='unit_value\"+result.boxno+\"']\").val((result.value).toFixed(2));\n+                        $(\"input[name='weight\"+result.boxno+\"']\").trigger(\"input\");\n+                        $(\"select[name='packing\"+result.boxno+\"']\").trigger(\"change\");\n+\n+                    }, error: function (er) {\n+                        console.log(er);\n+                    }\n+\n+                }); // ajax call closing\n+        }\n+\n+}\n+\n+\n+function getValOther(event) {\n+    var boxNo =event.dataset.no;\n+\n+\n+    var height = parseFloat($(\"input[name='other_height\"+boxNo+\"']\").val());\n+    var length = parseFloat($(\"input[name='other_length\"+boxNo+\"']\").val());\n+    var width = parseFloat($(\"input[name='other_width\"+boxNo+\"']\").val());\n+    var select = parseFloat($(\"input[name='other_select\"+boxNo+\"']\").val());\n+\n+    var volume = (height * length * width )/ select;\n+\n+    var select = $(\"input[name='unit_value\"+boxNo+\"']\").val(volume.toFixed(2));\n+\n+\n+}\n+\n+\n+function getVolume(event){\n+    var selected_volume  =   event.value;\n+    $('.volume').val(selected_volume);\n+\n+    var shiping_method =  $(\"#shiping_method option:selected\").attr('data-shiptypeid');\n+    var collected_by = $(\"#collected_by\").val();\n+\n+    $(\"#shipping_method_id\").val(shiping_method);\n+\n+        $('#loader').removeClass('d-none');\n+        const url = \"{{route('getRate')}}?collected_by=\" + collected_by+\"&shiping_method=\"+shiping_method;\n+        console.log(url);\n+        $.ajax({\n+            url: url,\n+            type: \"GET\",\n+            dataType: \"json\",\n+            success: function (result) {\n+                // when call is sucessfull\n+                $(\".box-rate\").val( result.rate);\n+                // $(\"input[name='rate_normal_weight']\").val(result.rate);\n+\n+                $(\".box-rate\").trigger(\"input\");\n+                // $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n+\n+\n+\n+            }, error: function (er) {\n+                console.log(er);\n+            }\n+\n+        }); // ajax call closing\n+\n+}\n+\n+\n+function getRate(event){\n+\n+    var shiping_method =  $(\"#shiping_method option:selected\").attr('data-shiptypeid');\n+    var collected_by = $(\"#collected_by\").val();\n+\n+        $('#loader').removeClass('d-none');\n+        const url = \"{{route('getRate')}}?collected_by=\" + collected_by+\"&shiping_method=\"+shiping_method;\n+        console.log(url);\n+        $.ajax({\n+            url: url,\n+            type: \"GET\",\n+            dataType: \"json\",\n+            success: function (result) {\n+                // when call is sucessfull\n+                $(\".box-rate\").val( result.rate);\n+                $(\"input[name='rate_normal_weight']\").val(result.rate);\n+\n+                $(\".box-rate\").trigger(\"input\");\n+                $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n+\n+\n+\n+            }, error: function (er) {\n+                console.log(er);\n+            }\n+\n+        }); // ajax call closing\n+\n+}\n+\n+function getBoxPackingVal(event) {\n+\n+    var pack_charge = isNaN(parseFloat($(\"#packing_charge\").val()))? 0 : parseFloat($(\"#packing_charge\").val());\n+\n+    var boxNo = event.dataset.no;\n+\n+    var dimension_id = parseFloat($(\"select[name='dimension\"+boxNo+\"']\").val());\n+    var packing_id = parseFloat($(\"select[name='packing\"+boxNo+\"']\").val());\n+\n+     $('#loader').removeClass('d-none');\n+        const url = \"{{route('getBoxPackingCharge')}}?dimension_id=\" + dimension_id+\"&packing_id=\"+packing_id;\n+        console.log(url);\n+        $.ajax({\n+            url: url,\n+            type: \"GET\",\n+            dataType: \"json\",\n+            success: function (result) {\n+                // when call is sucessfull\n+                console.log(result, result.packing_rate);\n+                console.log( pack_charge + parseFloat(result.packing_rate) );\n+\n+                $(\"input[name='box_packing_charge\"+boxNo+\"']\").val(result.packing_rate);\n+                $(\".box_packing_charge\").trigger(\"input\");\n+\n+            }, error: function (er) {\n+                console.log(er);\n+            }\n+\n+        }); // ajax call closing\n+\n+\n+\n+}\n+\n+\n+</script>\n+\n+@endsection\n"
                },
                {
                    "date": 1733311590709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -555,9 +555,14 @@\n                                                     <span class=\"text-danger\">{{ $message }}</span>\n                                                     @enderror\n \n                                                 </div>\n-                                                \n+                                                <div class=\"col-md-2\">\n+                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n+                                                </div>\n \n                                             </div>\n                  \n                                         </div>\n"
                },
                {
                    "date": 1733311636042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -556,619 +556,11 @@\n                                                     @enderror\n \n                                                 </div>\n                                                 <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-\n-                                            </div>\n-                 \n-                                        </div>\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                            \n-                                            <div class=\" row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Receiver/Customer</label>\n-                                                    <select name=\"box_receiver_id{{$i+1}}\" id=\"box_receiver_id{{$i+1}}\"\n-                                                            class=\"form-control select2\">\n-                                                        @foreach (get_customers('receiver') as $receiver)\n-                                                            <option value=\"{{ $receiver->id }}\"\n-                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n-                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$receiver->name ?? ''}}\"\n-                                                        data-email=\"{{$receiver->email ?? ''}}\"\n-                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n-                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n-                                                            </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('receiver_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-                                            </div>\n-                                            \n-                                        </div>\n-                                    </div> \n-                                                    <div class=\"body box_und_calc\" id=\"packageinfo{{$i+1}}\" >\n-                                                        <table class=\"table table-bordered packageinfo{{$i+1}}\">\n-                                                            @foreach($box->packages as $j => $package)\n-\n-                                                            <tr>\n-                                                            <td width=\"2%\">\n-                                                              <span class=\"form-control border-0\">{{$j+1}}</span>\n-                                                            </td>\n-                                                                <td width=\"40%\">\n-                                                                    <input type=\"text\" placeholder=\"Enter description\"\n-                                                                        name=\"description{{$i+1}}[]\" value=\"{{$package->description}}\"\n-                                                                        class=\"form-control descriptions\" >\n-                                                                </td>\n-                                                                <td>\n-                                                                    <input type=\"number\" placeholder=\"Enter quantity\"\n-                                                                        name=\"qty{{$i+1}}[]\" value=\"{{$package->quantity}}\"\n-                                                                        class=\"form-control qty\">\n-\n-\n-                                                                </td>\n-                                                                <td>\n-                                                                    <input type=\"number\" placeholder=\"Enter unit price\"\n-                                                                        name=\"unit{{$i+1}}[]\" value=\"{{$package->unit_price}}\"\n-                                                                        class=\"form-control unit\" data-myattri=\"{{$i+1}}\" step=\"0.01\">\n-\n-                                                                </td>\n-                                                                <td>\n-                                                                    <input type=\"text\" name=\"subtotal{{$i+1}}[]\" readonly\n-                                                                        class=\"form-control value pkg-subtotal\"  value=\"{{$package->subtotal}}\">\n-                                                                </td>\n-\n-                                                                <td><button type=\"button\"  class=\"remove btn btn-danger\" data-remove=\"{{$i+1}}\" data-myAttri=\"{{$i+1}}\" >X</button></td>\n-\n-                                                            </tr>\n-                                                            <?php\n-                                                            $total_qty += $package->quantity;\n-                                                            $total_amount += $package->subtotal;\n-\n-                                                            $grand_total_qty  += $package->quantity;\n-                                                            $grand_total_amount += $package->subtotal;\n-                                                            ?>\n-                                                            @endforeach\n-                                                        </table>\n-                                                    </div>\n-\n-                                                    <div class=\"body\">\n-                                                        <table class=\"table table-bordered\">\n-                                                            <tr>\n-                                                                <td width=\"20%\"> </td>\n-                                                                <td width=\"20%\"><h6>Total Quantity: </h6></td>\n-                                                                <td width=\"20%\"><h6><span id=\"totalqty{{$i+1}}\" class=\"rtotqty\">{{$total_qty }}</span></h6></td>\n-\n-                                                                <td width=\"20%\"><h6>Total Value : </h6></td>\n-                                                                <td width=\"20%\"><h6><span id=\"totalAmt{{$i+1}}\" class=\"package-total-amount  rtotamt\">{{ $total_amount }}</span></h6></td>\n-\n-                                                            </tr>\n-                                                        </table>\n-                                                    </div>\n-\n-\n-                                                    <div class=\"body\" id=\"boxDimension\">\n-                                                    <div class=\"row\">\n-                                                        <div class=\"col-md-2 box-title\">\n-                                                            <h5></h5>\n-                                                        </div>\n-                                                        </div>\n-                                                        <div class=\"row\" style=\"display: none;\">\n-                                                            <input type=\"hidden\" name=\"box_id{{$i+1}}\" value=\"{{$box->id}}\" />\n-\n-                                                            <div class=\"col-md-2\" >\n-                                                                <div class=\"form-group\">\n-                                                                    <label>Length x Width x Height</label>\n-                                                                    <select name='dimension{{$i+1}}' data-no='{{$i+1}}' class='form-control box-dimension' required   onchange=\"getval(this);\">\n-                                                                        <option value=''>select</option>\n-                                                                        <option value='2' selected>45 x 45 x 45</option>\n-                                                                        {{-- @foreach($dimensions as $dimension)\n-                                                                        <option value='{{$dimension->id}}'\n-                                                                        {{ ($box->box_dimension_id== $dimension->id) ? 'selected' : \"\" }}\n-                                                                        data-id='{{$dimension->id}}'>{{$dimension->length}} x {{$dimension->width}} x {{$dimension->height}}</option>\n-                                                                        @endforeach --}}\n-                                                                        <option {{ ($box->box_dimension_id == 0 ) ? 'selected' : \"\" }} value='0'>Other</option>\n-\n-                                                                    </select>\n-                                                                </div>\n-                                                            </div>\n-\n-                                                            <!-- Start other -->\n-                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_length{{$i+1}}\">\n-                                                                <div class=\"form-group\">\n-                                                                    <label>Length</label>\n-                                                                    <input type=\"text\" name=\"other_length{{$i+1}}\" data-no=\"{{$i+1}}\" value=\"{{$box->other_length}}\" class=\"form-control other_length\"   onkeyup=\"getValOther(this);\">\n-                                                                </div>\n-                                                                </div>\n-                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_width{{$i+1}}\">\n-                                                                <div class=\"form-group\">\n-                                                                    <label>Width</label>\n-                                                                    <input type=\"text\" name=\"other_width{{$i+1}}\" data-no=\"{{$i+1}}\" value=\"{{$box->other_width}}\" class=\"form-control other_width\"   onkeyup=\"getValOther(this);\">\n-                                                                </div>\n-                                                                </div>\n-                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_height{{$i+1}}\">\n-                                                                <div class=\"form-group\">\n-                                                                    <label>Height</label>\n-                                                                    <input type=\"text\" name=\"other_height{{$i+1}}\"  data-no=\"{{$i+1}}\" value=\"{{$box->other_height}}\" class=\"form-control other_height\"   onkeyup=\"getValOther(this);\">\n-                                                                </div>\n-                                                                </div>\n-\n-                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_select{{$i+1}}\">\n-                                                                <div class=\"form-group\">\n-                                                                    <label>Select</label>\n-                                                                    <input type=\"text\" name=\"other_select{{$i+1}}\"  data-no=\"{{$i+1}}\" value=\"{{$box->other_select}}\" class=\"form-control other_select\"   onkeyup=\"getValOther(this);\">\n-                                                                </div>\n-                                                                </div>   `\n-                                                            <!-- End other -->\n-\n-                                                            <div class=\"col-md-2 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }} \" id=\"packing{{$i+1}}\">\n-                                                                <div class=\"form-group\">\n-                                                                    <label>Packing</label>\n-                                                                    <select name='packing{{$i+1}}' data-no='{{$i+1}}' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n-                                                                      \n-                                                                        <option value='2' selected >Cargo Packing</option>\n-                                                                    </select>\n-                                                                </div>\n-\n-                                                            </div>\n-\n-                                                            <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }}\" id=\"selectVolume{{$i+1}}\">\n-                                                                <div class=\"form-group\">\n-                                                                    <label>Select</label>\n-                                                                        <select name='volume{{$i+1}}' data-no='{{$i+1}}' class='form-control ' required   onchange=\"getval(this);\">\n-                                                                            <option value='6000' selected >6000</option>\n-                                                                            {{-- <option value='5000'   {{ ($shipment->shiping_method== '5000') ? 'selected' : \"\" }}>5000</option>\n-                                                                            <option value='6000'  {{ ($shipment->shiping_method== '6000') ? 'selected' : \"\" }}>6000</option>\n-                                                                            <option value='1000000' {{ ($shipment->shiping_method== '1000000') ? 'selected' : \"\" }}>1000000</option> --}}\n-                                                                        </select>\n-                                                                </div>\n-                                                            </div>\n-\n-                                                        <div class=\"col-md-1\">\n-                                                            <div class=\"form-group\">\n-                                                                <label>Volume</label>                                                              \n-                                                                <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"15.19\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\">\n-\n-                                                            </div>\n-                                                        </div>\n-                                                      \n-                                                        <div class=\"col-md-1\">\n-                                                            <div class=\"form-group\">\n-                                                                <label>Rate</label>\n-                                                                {{-- <input type=\"text\" name=\"rate{{$i+1}}\" value=\"{{$box->rate}}\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\"> --}}\n-                                                                <input type=\"text\" name=\"rate{{$i+1}}\" value=\"20\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\">\n-                                                            </div>\n-                                                        </div>\n-\n-                                                        <div class=\"col-md-2\">\n-                                                            <div class=\"form-group\">\n-                                                                <label>Total Amount</label>\n-                                                                <input type=\"text\" name=\"total_value{{$i+1}}\" value=\"{{$box->total_value}}\" class=\"form-control box-total-value total\" readonly>\n-                                                                <!-- <input type=\"hidden\" name=\"box_name{{$i+1}}\" value=\"{{$box->box_name}}\" class=\"form-control box_name\"> -->\n-                                                            </div>\n-                                                        </div>\n-\n-                                                        <div class=\"col-md-2\" id=\"box_packing_charge{{$i+1}}\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Packing charge</label>\n-                                                            {{-- <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"{{$box->box_packing_charge}}\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/> --}}\n-                                                            <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"20\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/>\n-\n-                                                        </div>\n-                                                        </div>\n-\n-                                                    </div>\n-                                                </div>\n-\n-\n-                                                </div>\n-                                                </div>\n-                                                <?php $ik = $ik -1; ?>\n-                                                @endforeach\n-\n-                                                <div id=\"Container\"> </div>\n-                                            <hr>\n-                                            <div class=\"col-md-8\"  id=\"TotalDiv\" style=\"display:none;\">\n-                                                <div class=\"body\">\n-                                                    <table class=\"table \" >\n-                                                        <tr>\n-                                                            <td style=\"border:none;\">\n-\n-                                                            <div class=\"row pt-2\">\n-                                                                    <div class=\"col-md-6\"  >\n-\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                    <label>Quantity</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                    <label>Unit Rate</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                    <label>Amount</label>\n-                                                                    </div>\n-                                                                </div>\n-\n-                                                                <div class=\"row pt-2\">\n-\n-                                                                    <?php\n-                                                                     $normal_weight = $shipment->normal_weight - ( ($shipment->msic_weight) + ($shipment->electronics_weight) + ($shipment->other_weight));\n-                                                                    ?>\n-\n-                                                                    <div class=\"col-md-6\" style=\"text-align:right;\" >\n-                                                                        <label>Total Weight</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            {{-- <input type=\"text\" name=\"normal_weight\" value=\"{{$shipment->normal_weight}}\" class=\"form-control \"> --}}\n-                                                                            <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $shipment->grand_total_weight }}\" class=\"form-control \" >\n-\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"rate_normal_weight\" value=\"{{$shipment->rate_normal_weight}}\" class=\"form-control rate_normal_weight tot_rate\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_normal_weight\" value=\"{{$shipment->amount_normal_weight}}\" class=\"form-control tot_amt\" >\n-                                                                        </div>\n-                                                                    </div>\n-                                                                </div>\n-\n-                                                                <div class=\"row pt-2\">\n-                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                            <label>Duty</label>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\">\n-                                                                            <div class=\"\">\n-                                                                                <input type=\"text\" name=\"electronics_weight\"\n-                                                                                value=\"{{$shipment->electronics_weight}}\" class=\"form-control electronics_weight tot_wgt\">\n-                                                                            </div>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\">\n-                                                                            <div class=\"\">\n-                                                                                <input type=\"text\" name=\"rate_electronics_weight\" value=\"{{$shipment->rate_electronics_weight}}\" class=\"form-control rate_electronics_weight tot_rate\">\n-                                                                            </div>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_electronics_weight\" value=\"{{$shipment->amount_electronics_weight}}\" class=\"form-control tot_amt\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                </div>\n-\n-                                                                <div class=\"row  pt-2\">\n-                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                            <label>Packing charge</label>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\"\">\n-                                                                            <div class=\"\">\n-                                                                                <input type=\"text\" name=\"msic_weight\"\n-                                                                                value=\"{{$shipment->msic_weight}}\" class=\"form-control msic_weight tot_wgt\">\n-                                                                            </div>\n-                                                                        </div>\n-\n-                                                                        <div class=\"col-md-2\">\n-                                                                            <div class=\"\">\n-                                                                                <input type=\"text\" name=\"rate_msic_weight\" value=\"{{$shipment->rate_msic_weight}}\" class=\"form-control rate_msic_weight tot_rate\">\n-                                                                            </div>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_msic_weight\" value=\"{{$shipment->amount_msic_weight}}\" class=\"form-control tot_amt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div>\n-\n-\n-                                                                <div class=\"row  pt-2\">\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Additional Packing charge</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\"\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"add_pack_charge\"\n-                                                                            value=\"{{$shipment->add_pack_charge}}\" class=\"form-control add_pack_charge tot_wgt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"rate_add_pack_charge\" value=\"{{$shipment->rate_add_pack_charge}}\" class=\"form-control rate_add_pack_charge tot_rate\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                    <div class=\"\">\n-                                                                        <input type=\"text\" name=\"amount_add_pack_charge\" value=\"{{$shipment->amount_add_pack_charge}}\" class=\"form-control tot_amt\">\n-                                                                    </div>\n-                                                                </div>\n-\n-                                                            </div>\n-\n-                                                                <div class=\"row  pt-2\">\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Insurance </label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"insurance\"\n-                                                                            value=\"{{$shipment->insurance}}\" class=\"form-control insurance_weight tot_wgt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"rate_insurance\" value=\"{{$shipment->rate_insurance}}\" class=\"form-control rate_insurance_weight tot_rate\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_insurance\" value=\"{{$shipment->amount_insurance}}\" class=\"form-control tot_amt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div>\n-\n-\n-                                                                <div class=\"row  pt-2\">\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>AWB Fee</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\"\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"awbfee\"\n-                                                                            value=\"{{$shipment->awbfee}}\" class=\"form-control awbfee tot_wgt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"rate_awbfee\" value=\"{{$shipment->rate_awbfee}}\" class=\"form-control rate_awbfee tot_rate\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_awbfee\" value=\"{{$shipment->amount_awbfee}}\" class=\"form-control tot_amt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div>\n-\n-                                                                <div class=\"row  pt-2\">\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>VAT Amount</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\"\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"vat_amount\"\n-                                                                            value=\"{{$shipment->vat_amount}}\" class=\"form-control vat_amount tot_wgt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"rate_vat_amount\" value=\"{{$shipment->rate_vat_amount}}\" class=\"form-control rate_vat_amount tot_rate\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_vat_amount\" value=\"{{$shipment->amount_vat_amount}}\" class=\"form-control tot_amt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div>\n-\n-                                                                <div class=\"row  pt-2\">\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Volume weight</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\"\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"volume_weight\"\n-                                                                            value=\"{{$shipment->volume_weight}}\" class=\"form-control volume_weight tot_wgt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"rate_volume_weight\" value=\"{{$shipment->rate_volume_weight}}\" class=\"form-control rate_volume_weight tot_rate\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_volume_weight\" value=\"{{$shipment->amount_volume_weight}}\" class=\"form-control tot_amt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div>\n-\n-                                                                <div class=\"row  pt-2\">\n-                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                        <label>Discount</label>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"discount_weight\"\n-                                                                            value=\"{{$shipment->discount_weight}}\" class=\"form-control discount_weight tot_wgt\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"rate_discount_weight\" value=\"{{$shipment->rate_discount_weight}}\" class=\"form-control rate_discount_weight tot_rate\">\n-                                                                        </div>\n-                                                                    </div>\n-                                                                    <div class=\"col-md-2\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_discount_weight\" value=\"{{$shipment->amount_discount_weight}}\" class=\"form-control \">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div>\n-                                                            \n-\n-                                                                <div class=\"row\">\n-\n-                                                                        <div class=\"col-md-6 pt-2\"  style=\"text-align:right;font-size:18px;font-weight:bold;\">\n-\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2 pt-2\" style=\"border-top:1px solid;\">\n-                                                                            <div class=\"\">  <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n-                                                                            </div>\n-                                                                        </div>\n-\n-                                                                        <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n-                                                                            <div class=\"\">\n-                                                                                <!-- <input type=\"text\" name=\"rate_grand_total\" value=\"{{$shipment->rate_grand_total}}\" class=\"form-control\"> -->\n-                                                                            </div>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n-                                                                        <div class=\"\">\n-                                                                            <input type=\"text\" name=\"amount_grand_total\" value=\"{{$shipment->amount_grand_total}}\" class=\"form-control\">\n-                                                                        </div>\n-                                                                    </div>\n-\n-                                                                </div>\n-                                                                <div class=\"row  pt-2\">\n-\n-                                                                     <div class=\"col-md-6\"  style=\"text-align:right;\">\n-                                                                            <label>No.of Pcs</label>\n-                                                                        </div>\n-                                                                        <div class=\"col-md-6\">\n-                                                                            <div class=\"\">\n-                                                                                <input value=\"{{ $shipment->number_of_pcs?$shipment->number_of_pcs:0 }}\" type=\"text\" name=\"number_of_pcs\"\n-                                                                                class=\"form-control\" id=\"number_of_pcs\">\n-\n-                                                                            </div>\n-                                                                        </div>\n-                                                                </div>\n-                                                                <div class=\"row mt-5\">\n-                                                                        <div class=\"col-md-12\"  style=\"text-align:left;\">\n-                                                                            <!-- <h3>Declared value = Total Weight x 20 </h3> -->\n-                                                                        </div>\n-                                                                </div>\n-\n-                                                            </td>\n-                                                         \n-\n-                                                        </tr>\n-                                                    </table>\n-                                                </div>\n-                                            </div>\n-\n-\n-                                        </div> <!-- body -->\n-                                    </div>\n-\n-\n-                                    <div class=\"text-center\" style=\"display:block;\">\n-                                    <input type=\"hidden\" name=\"id\" value=\"{{$shipment->id}}\" />\n-                                        <button type=\"submit\" class=\"btn btn-success waves-effect waves-light\">Submit\n-                                        </button>\n-                                        <a href=\"{{index_url()}}\" type=\"button\"\n-                                        class=\"btn btn-danger waves-effect waves-light\">Cancel\n-                                        </a>\n-                                    </div>\n-\n-                                </div>  <!--  col-12- end-->\n-                        </form>\n-\n-\n-                        </div>\n-                        <!-- end card-box -->\n-                    </div>\n-                    <!-- end col -->\n-                </div>\n-                <!-- end row -->\n-\n-\n-                <!----------------------- div for add more ------------------------>\n-\n-\n-                <div style=\"display:none;\" >\n-                                        <div id=\"newBoxContainer\" class=\"boxcount\">\n-\n-\n-                                            <div class=\"package col-md-12\"  id=\"package_ID\" >\n-                                                <div class=\"header\">\n-                                                    <div class=\"col-md-6\"  style=\"float:left\">\n-                                                        <h5 class=\"packageinfo-head1\">Package Info </h5>\n-                                                        <input type=\"hidden\" name=\"box_name_1\" value=\"\" class=\"box_name1\" />\n-                                                    </div>\n-                                                    <div class=\"col-md-6 text-right pb-2\" style=\"float:left\">\n-                                                        <button type=\"button\" id=\"addpackage\" class=\"btn btn-success addpackage\">Add Items</button>\n-                                                        <button type=\"button\" id=\"removeBox\" class=\"btn btn-danger removeBox\">Delete Box</button>\n-                                                    </div>\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Weight</label>\n-                                                            <input type=\"text\" name=\"weight[]\" value=\"\" class=\"form-control box-weight1 weight\">\n-                                                            {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n-                                                        </div>\n-                                                    </div>\n-                                                <div class=\"row\">\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                         \n-                                            <div class=\"row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Sender/Customer</label>\n-                                                    <select name=\"sender_id[]\" id=\"sender_id[]\" class=\"form-control select2\">\n-                                                        @foreach (get_customers('sender') as $sender)\n-                                                            <option value=\"{{ $sender->id }}\"\n-                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n-                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$sender->name ?? ''}}\"\n-                                                        data-email=\"{{$sender->email ?? ''}}\"\n-                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n-                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n-                                                        </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('sender_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                <button type=\"button\" id=\"AddSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                 class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                             class=\"fa fa-pen\"></i></button>\n                                                 </div>\n \n                                             </div>\n@@ -1178,2992 +570,8 @@\n                                             \n                                             <div class=\" row\">\n                                                 <div class=\"form-group col-md-10\">\n                                                     <label>Receiver/Customer</label>\n-                                                    <select name=\"receiver_id[]\" id=\"receiver_id[]\"\n-                                                            class=\"form-control select2\">\n-                                                        @foreach (get_customers('receiver') as $receiver)\n-                                                            <option value=\"{{ $receiver->id }}\"\n-                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n-                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$receiver->name ?? ''}}\"\n-                                                        data-email=\"{{$receiver->email ?? ''}}\"\n-                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n-                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n-                                                            </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('receiver_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddReceiver[]\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditReceiver[]\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-                                            </div>\n-                                            \n-                                        </div>\n-                                    </div> \n-                                              \n-                                                <div class=\"body box_und_calc\" id=\"packageinfo\">\n-\n-                                                    <table class=\"table table-bordered packageinfo\">\n-                                                        <tr>\n-                                                        <td width=\"2%\">\n-                                                              <span class=\"form-control border-0\">1</span>\n-                                                            </td>\n-\n-                                                            <td width=\"40%\">\n-                                                                <input type=\"text\" placeholder=\"Enter description\"\n-                                                                    name=\"description[]\"\n-                                                                    class=\"form-control descriptions\">\n-                                                            </td>\n-                                                            <td>\n-                                                                <input type=\"number\" placeholder=\"Enter quantity\"\n-                                                                    name=\"qty[]\"\n-                                                                    class=\"form-control qty\">\n-                                                            </td>\n-                                                            <td>\n-                                                                <input type=\"number\" placeholder=\"Enter unit price\"\n-                                                                    name=\"unit[]\"\n-                                                                    class=\"form-control unit\" step=\"0.01\">\n-                                                            </td>\n-                                                            <td>\n-                                                                <input type=\"text\" name=\"subtotal[]\" readonly\n-                                                                    class=\"form-control value pkg-subtotal\">\n-                                                            </td>\n-                                                            <td>\n-                                                                <button type=\"button\"  name=\"remove[]\" class=\"remove btn btn-danger\" data-remove=\"\">X</button>\n-                                                            </td>\n-\n-                                                        </tr>\n-                                                    </table>\n-\n-                                                </div>\n-\n-                                                <div class=\"body\">\n-                                                    <table class=\"table table-bordered\">\n-                                                        <tr>\n-                                                            <td width=\"20%\"> </td>\n-                                                            <td width=\"20%\"><h6>Total Quantity: </h6></td>\n-                                                            <td width=\"20%\"><h6><span id=\"totalqty\"></span></h6></td>\n-                                                            <td width=\"20%\"><h6>Total Value: </h6></td>\n-                                                            <td width=\"20%\"><h6><span id=\"totalAmt\" class=\"package-total-amount\"></span></h6></td>\n-                                                        </tr>\n-                                                    </table>\n-\n-                                                </div>\n-\n-\n-                                                <div class=\"body\" id=\"boxDimension\">\n-                                                <div class=\"row\">\n-                                                    <div class=\"col-md-2 box-title\">\n-                                                        <!-- <h6>Box</h6> -->\n-                                                    </div>\n-                                                    </div>\n-                                                    <div class=\"row\" style=\"display: none;\">\n-                                                    <!-- <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Length</label>\n-                                                            <input type=\"text\" name=\"length\" value=\"\" class=\"form-control box-length\">\n-                                                        </div>\n-                                                    </div>\n-                                                    <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Width</label>\n-                                                            <input type=\"text\" name=\"width\" value=\"\" class=\"form-control box-width\">\n-                                                        </div>\n-                                                    </div>\n-                                                    <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Height</label>\n-                                                            <input type=\"text\" name=\"height\" value=\"\" class=\"form-control box-height\">\n-                                                        </div>\n-                                                    </div> -->\n-\n-                                                    <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Length x Width x Height</label>\n-                                                            <select name='dimension' data-no='' class='form-control box-dimension' required   onchange=\"getval(this);\">\n-                                                                <option value=''>select</option>\n-                                                                <option value='2' selected>45 x 45 x 45</option>\n-                                                                {{-- @foreach($dimensions as $dimension)\n-                                                                <option value='{{$dimension->id}}' data-id='{{$dimension->id}}'>{{$dimension->length}} x {{$dimension->width}} x {{$dimension->height}}</option>\n-                                                                @endforeach --}}\n-                                                                <option value='0'>Other</option>\n-                                                            </select>\n-                                                        </div>\n-                                                    </div>\n-\n-                                                    <div class=\"col-md-1 d-none\" id=\"other_length\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Length</label>\n-                                                            <input type=\"text\" name=\"other_length\" value=\"\" class=\"form-control other_length\"   onkeyup=\"getValOther(this);\">\n-                                                        </div>\n-                                                    </div>\n-                                                    <div class=\"col-md-1 d-none\" id=\"other_width\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Width</label>\n-                                                            <input type=\"text\" name=\"other_width\" value=\"\" class=\"form-control other_width\"   onkeyup=\"getValOther(this);\">\n-                                                        </div>\n-                                                    </div>\n-                                                    <div class=\"col-md-1 d-none\" id=\"other_height\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Height</label>\n-                                                            <input type=\"text\" name=\"other_height\" value=\"\" class=\"form-control other_height\"   onkeyup=\"getValOther(this);\">\n-                                                        </div>\n-                                                    </div>\n-\n-                                                    <div class=\"col-md-1 d-none\" id=\"other_select\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Select</label>\n-                                                            <input type=\"text\" name=\"other_select\" value=\"\" class=\"form-control other_select\"   onkeyup=\"getValOther(this);\">\n-                                                        </div>\n-                                                    </div>\n-\n-                                                    <div class=\"col-md-2\" id=\"packing\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Packing</label>\n-                                                            <select name='packing' data-no='' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n-                                                                <option value=''>Select</option>\n-                                                                <option value='2' selected >Cargo Packing</option>\n-                                                                {{-- <option value='1'>Customer Packing</option>\n-                                                                <option value='2'>Cargo Packing</option> --}}\n-                                                            </select>\n-                                                        </div>\n-                                                        <!-- <input type=\"hidden\" name=\"box_packing_charge\"  data-no='' class='form-control box_packing_charge'/> -->\n-                                                    </div>\n-\n-                                                     <div class=\"col-md-2\" id=\"selectVolume\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Select </label>\n-                                                            <select name='volume' data-no='' class='form-control ' required   onchange=\"getval(this);\">\n-                                                                <option selected value='6000'  >6000</option>\n-                                                                {{-- <option value='5000'>5000</option>\n-                                                                <option value='6000' >6000</option>\n-                                                                <option value='1000000' >1000000</option> --}}\n-                                                            </select>\n-                                                        </div>\n-                                                    </div>\n-                                                    <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Volume</label>\n-                                                            <input type=\"text\" name=\"unit_value\" value=\"15.19\" class=\"form-control box-unit-value\">\n-                                                        </div>\n-                                                    </div>\n-\n-\n-\n-\n-\n-                                                    <div class=\"col-md-1\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Rate</label>\n-                                                            <input type=\"text\" name=\"rate\" value=\"20\" class=\"form-control box-rate1\">\n-                                                        </div>\n-                                                    </div>\n-\n-\n-                                                    <div class=\"col-md-2\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Total Amount</label>\n-                                                            <input type=\"text\" name=\"total_value\" value=\"602.00\" class=\"form-control box-total-value total1\" readonly>\n-                                                            <!-- <input type=\"hidden\" name=\"box_name\" value=\"\" class=\"form-control box_name\"> -->\n-                                                        </div>\n-                                                    </div>\n-                                                    <?php /*\n-\n-                                                    <div class=\"col-md-2 d-none\" id=\"other_dimension\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Other</label>\n-                                                            <input type=\"text\" name=\"other_dimension\" value=\"\" class=\"form-control other_dimension\">\n-                                                        </div>\n-                                                    </div>\n-                                                    */?>\n-\n-\n-\n-\n-                                                        <div class=\"col-md-2\" id=\"box_packing_charge\">\n-                                                        <div class=\"form-group\">\n-                                                            <label>Packing charge</label>\n-                                                            <input type=\"text\" name=\"box_packing_charge\" value=\"20\"  data-no='' class='form-control box_packing_charge'/>\n-                                                        </div>\n-                                                        </div>\n-\n-\n-                                                </div>\n-                                            </div>\n-\n-\n-                                            </div>\n-                                        </div>\n-                                    </div>\n-\n-                <!----------------------- div for add more ------------------------>\n-\n-            </div>\n-            <!-- end container-fluid -->\n-\n-        </div>\n-        <!-- end content -->\n-</div>\n-\n-@include('branches.modals.add_client')\n-@endsection\n-@section('styles')\n-@include('layouts.datatables_style')\n-@endsection\n-@section('scripts')\n-{{-- <script src=\"https://code.jquery.com/jquery-3.5.1.min.js\"></script> --}}\n-<!-- Select2 JS -->\n-<script src=\"https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/js/select2.min.js\"></script>\n-<script>\n-\n-\n-    $(window).on('load', function() {\n-        $('.id_img').each(function() {\n-            var img = $(this);\n-            img.attr('src', img.data('src'));\n-        });\n-    });\n-\n-    $(document).ready(function() {\n-    // Check if \"driver\" is already selected initially\n-    if ($('#collected_by').val() === 'driver') {\n-        // toggleBookingNumberInput(false);\n-    }\n-\n-    // Bind change event handler\n-    $('#collected_by').change(function() {\n-        if ($(this).val() === 'driver') {\n-            // toggleBookingNumberInput(true);\n-        } else {\n-            toggleBookingNumberInput(false);\n-        }\n-    });\n-\n-    // Function to toggle input readonly property\n-    function toggleBookingNumberInput(enable) {\n-        $('#bookingNumberSection input[name=\"booking_number\"]').prop('readonly', !enable);\n-    }\n-\n-    $(\"#whatsapp_same\").change(function() {\n-        var phone = document.querySelector('input[name=\"phone\"]');\n-        var whatsapp_number = document.querySelector('input[name=\"whatsapp_number\"]');\n-        var wp_no = whatsapp_number.value;\n-\n-        if (this.checked) {\n-            phone.value = wp_no;\n-        } else { // Changed elseif to else\n-            phone.value = ''; // Setting phone value to an empty string instead of null\n-        }\n-    });\n-\n-\n-\n-});\n-\n-document.addEventListener('DOMContentLoaded', function() {\n-\n-    $(document).on('change', '.sender_id_type', function() {\n-        $('.sender_id_no').trigger('input');\n-    });\n-\n-    $(document).on('input', '.sender_id_no', function() {\n-        var dataIndex = $(this).attr('data-index');\n-        var selectValue = $(`select[name=\"sender_id_type${dataIndex}\"]`).val();\n-        console.log(dataIndex);\n-\n-        // Select the <p> tag that follows the current input\n-        var $existingP = $(this).next('p');\n-\n-        // Determine the new content for the <p> tag and validation message\n-        var newContent = '';\n-        var isValid = true; // Flag to check if the input is valid\n-        var inputValue = $(this).val(); // Get the current input value\n-\n-        if (selectValue == 'Passport Number') {\n-            if (inputValue.length > 0 && inputValue.length !== 8) {\n-                newContent = 'Passport Number should be 8 characters. Please enter exactly 8 characters.';\n-                isValid = false;\n-            } else if (inputValue.length === 8) {\n-                newContent = selectValue + ' is Correct';\n-            } else {\n-                newContent = 'Passport Number should be 8 characters.';\n-            }\n-        } else if (selectValue == 'Aadhaar Number' || selectValue == 'Aadhar') {\n-            if (inputValue.length > 0 && inputValue.length !== 12) {\n-                newContent = 'Aadhaar Number should be 12 digits. Please enter exactly 12 digits.';\n-                isValid = false;\n-            } else if (inputValue.length === 12) {\n-                newContent = selectValue + ' is Correct';\n-            } else {\n-                newContent = 'Aadhaar Number should be 12 digits.';\n-            }\n-        }\n-\n-        // Set the color based on validity\n-        var color = isValid ? 'green' : 'red';\n-\n-        // Update the existing <p> tag or add a new one if it doesn't exist\n-        if ($existingP.length) {\n-            $existingP.text(newContent).css('color', color);\n-        } else {\n-            $(this).after(`<p style=\"color: ${color};\">${newContent}</p>`);\n-        }\n-    });\n-\n-\n-    $(document).on('change', '.receiver_id_type', function() {\n-        $('.receiver_id_no').trigger('input');\n-    });\n-\n-    $(document).on('input', '.receiver_id_no', function() {\n-        var dataIndex = $(this).attr('data-index');\n-        var selectValue = $(`select[name=\"receiver_id_type${dataIndex}\"]`).val();\n-        console.log(dataIndex);\n-\n-        // Select the <p> tag that follows the current input\n-        var $existingP = $(this).next('p');\n-\n-        // Determine the new content for the <p> tag and validation message\n-        var newContent = '';\n-        var isValid = true; // Flag to check if the input is valid\n-        var inputValue = $(this).val(); // Get the current input value\n-\n-        if (selectValue == 'Passport Number') {\n-            if (inputValue.length > 0 && inputValue.length !== 8) {\n-                newContent = 'Passport Number should be 8 characters. Please enter exactly 8 characters.';\n-                isValid = false;\n-            } else if (inputValue.length === 8) {\n-                newContent = selectValue + ' is Correct';\n-            } else {\n-                newContent = 'Passport Number should be 8 characters.';\n-            }\n-        } else if (selectValue == 'Aadhaar Number' || selectValue == 'Aadhar') {\n-            if (inputValue.length > 0 && inputValue.length !== 12) {\n-                newContent = 'Aadhaar Number should be 12 digits. Please enter exactly 12 digits.';\n-                isValid = false;\n-            } else if (inputValue.length === 12) {\n-                newContent = selectValue + ' is Correct';\n-            } else {\n-                newContent = 'Aadhaar Number should be 12 digits.';\n-            }\n-        }\n-\n-        // Set the color based on validity\n-        var color = isValid ? 'green' : 'red';\n-\n-        // Update the existing <p> tag or add a new one if it doesn't exist\n-        if ($existingP.length) {\n-            $existingP.text(newContent).css('color', color);\n-        } else {\n-            $(this).after(`<p style=\"color: ${color};\">${newContent}</p>`);\n-        }\n-    });\n-\n-\n-\n-\n-\n-\n-\n-        function matchCustom(params, data) {\n-            // If there are no search terms, return all of the data\n-            if ($.trim(params.term) === '') {\n-                return data;\n-            }\n-\n-            // Check if the term matches the 'data-phone' or 'data-whatsapp' attributes\n-            if (data.element) {\n-                var phone = $(data.element).data('phone') ? $(data.element).data('phone').toString().toLowerCase() : '';\n-                var whatsapp = $(data.element).data('whatsapp') ? $(data.element).data('whatsapp').toString().toLowerCase() : '';\n-\n-                var term = params.term.toLowerCase();\n-\n-                if (phone.indexOf(term) > -1 || whatsapp.indexOf(term) > -1) {\n-                    return data;\n-                }\n-            }\n-\n-            // Check if the term matches the text\n-            if (data.text.toLowerCase().indexOf(params.term.toLowerCase()) > -1) {\n-                return data;\n-            }\n-\n-            // Return `null` if the term should not be displayed\n-            return null;\n-        }\n-\n-        $('#sender_id').select2({\n-            placeholder: \"Select a sender\",\n-            allowClear: true,\n-            matcher: matchCustom\n-        });\n-\n-        $('#receiver_id').select2({\n-            placeholder: \"Select a sender\",\n-            allowClear: true,\n-            matcher: matchCustom\n-        });\n-\n-\n-    const grand_total = document.querySelector('input[name=\"grand_total_weight\"]');\n-    const rate_normal_weight = document.querySelector('input[name=\"rate_normal_weight\"]');\n-    const amount_normal_weight = document.querySelector('input[name=\"amount_normal_weight\"]');\n-\n-    const rate_electronics_weight = document.querySelector('input[name=\"rate_electronics_weight\"]');\n-    const amount_electronics_weight = document.querySelector('input[name=\"amount_electronics_weight\"]');\n-\n-    const msic = document.querySelector('input[name=\"msic_weight\"]');\n-    const rate_msic_weight = document.querySelector('input[name=\"rate_msic_weight\"]');\n-    const amount_msic_weight = document.querySelector('input[name=\"amount_msic_weight\"]');\n-\n-    const add_pack_charge = document.querySelector('input[name=\"add_pack_charge\"]');\n-    const rate_add_pack_charge = document.querySelector('input[name=\"rate_add_pack_charge\"]');\n-    const amount_add_pack_charge = document.querySelector('input[name=\"amount_add_pack_charge\"]');\n-\n-    const insurance = document.querySelector('input[name=\"insurance\"]');\n-    const rate_insurance = document.querySelector('input[name=\"rate_insurance\"]');\n-    const amount_insurance = document.querySelector('input[name=\"amount_insurance\"]');\n-\n-    const awbfee = document.querySelector('input[name=\"awbfee\"]');\n-    const rate_awbfee = document.querySelector('input[name=\"rate_awbfee\"]');\n-    const amount_awbfee = document.querySelector('input[name=\"amount_awbfee\"]');\n-\n-    const vat_amount = document.querySelector('input[name=\"vat_amount\"]');\n-    const rate_vat_amount = document.querySelector('input[name=\"rate_vat_amount\"]');\n-    const amount_vat_amount = document.querySelector('input[name=\"amount_vat_amount\"]');\n-\n-    const volume_weight = document.querySelector('input[name=\"volume_weight\"]');\n-    const rate_volume_weight = document.querySelector('input[name=\"rate_volume_weight\"]');\n-    const amount_volume_weight = document.querySelector('input[name=\"amount_volume_weight\"]');\n-\n-    const discount_weight = document.querySelector('input[name=\"discount_weight\"]');\n-    const rate_discount_weight = document.querySelector('input[name=\"rate_discount_weight\"]');\n-    const amount_discount_weight = document.querySelector('input[name=\"amount_discount_weight\"]');\n-\n-    const normal_weight = document.querySelector('input[name=\"normal_weight\"]');\n-\n-    const grand_total_weight = document.querySelector('input[name=\"grand_total_weight\"]');\n-    const electronics_weight = document.querySelector('input[name=\"electronics_weight\"]');\n-    const msic_weight = document.querySelector('input[name=\"msic_weight\"]');\n-\n-    const amount_grand_total = document.querySelector('input[name=\"amount_grand_total\"]');\n-\n-\n-\n-    function multiplyAddPackCharge() {\n-        const val1 = parseFloat(add_pack_charge.value);\n-        const val2 = parseFloat(rate_add_pack_charge.value);\n-        if (!isNaN(val1) && !isNaN(val2)) {\n-            var result = (val1 * val2);\n-            if (Number.isInteger(result)){\n-                amount_add_pack_charge.value =result.toFixed(0);\n-            }\n-            else{\n-                amount_add_pack_charge.value =result.toFixed(2);\n-            }\n-        } else {\n-            result.value = '';\n-        }\n-    }\n-\n-    function multiplyInsurance() {\n-        const val1 = parseFloat(insurance.value);\n-        const val2 = parseFloat(rate_insurance.value);\n-        if (!isNaN(val1) && !isNaN(val2)) {\n-            var result = (val1 * val2);\n-            if (Number.isInteger(result)){\n-                amount_insurance.value =result.toFixed(0);\n-            }\n-            else{\n-                amount_insurance.value =result.toFixed(2);\n-            }\n-        } else {\n-            result.value = '';\n-        }\n-    }\n-\n-    function multiplyVolume() {\n-        const val1 = parseFloat(volume_weight.value);\n-        const val2 = parseFloat(rate_volume_weight.value);\n-        if (!isNaN(val1) && !isNaN(val2)) {\n-            var result = (val1 * val2);\n-            if (Number.isInteger(result)){\n-                amount_volume_weight.value =result.toFixed(0);\n-            }\n-            else{\n-                amount_volume_weight.value =result.toFixed(2);\n-            }\n-        } else {\n-            result.value = '';\n-        }\n-    }\n-\n-    function multiplyAwbFee() {\n-        const val1 = parseFloat(awbfee.value);\n-        const val2 = parseFloat(rate_awbfee.value);\n-        if (!isNaN(val1) && !isNaN(val2)) {\n-            var result = (val1 * val2);\n-            if (Number.isInteger(result)){\n-                amount_awbfee.value =result.toFixed(0);\n-            }\n-            else{\n-                amount_awbfee.value = result.toFixed(2);\n-            }\n-        } else {\n-            result.value = '';\n-        }\n-    }\n-\n-    function multiplyVatAmount() {\n-        const val1 = parseFloat(vat_amount.value);\n-        const val2 = parseFloat(rate_vat_amount.value);\n-        if (!isNaN(val1) && !isNaN(val2)) {\n-            var result = (val1 * val2);\n-            if (Number.isInteger(result)){\n-                amount_vat_amount.value =result.toFixed(0);\n-            }\n-            else{\n-                amount_vat_amount.value =result.toFixed(2);\n-            }\n-        } else {\n-            result.value = '';\n-        }\n-    }\n-\n-    function multiplyDiscount() {\n-        const val1 = parseFloat(discount_weight.value);\n-        const val2 = parseFloat(rate_discount_weight.value);\n-        if (!isNaN(val1) && !isNaN(val2)) {\n-            var result = (val1 * val2);\n-            if (Number.isInteger(result)){\n-                amount_discount_weight.value =result.toFixed(0);\n-            }\n-            else{\n-                amount_discount_weight.value = result.toFixed(2);\n-            }\n-        } else {\n-            result.value = '';\n-        }\n-    }\n-\n-    function multiplyDuty() {\n-        const val1 = parseFloat(electronics_weight.value);\n-        const val2 = parseFloat(rate_electronics_weight.value);\n-        if (!isNaN(val1) && !isNaN(val2)) {\n-            var result = (val1 * val2);\n-            if (Number.isInteger(result)){\n-                amount_electronics_weight.value =result.toFixed(0);\n-            }\n-            else{\n-                amount_electronics_weight.value = result.toFixed(2);\n-            }\n-        } else {\n-            result.value = '';\n-        }\n-    }\n-\n-    function multiplyPackingCharge() {\n-        const val1 = parseFloat(msic_weight.value);\n-        const val2 = parseFloat(rate_msic_weight.value);\n-        if (!isNaN(val1) && !isNaN(val2)) {\n-            var result = (val1 * val2);\n-            if (Number.isInteger(result)){\n-                amount_msic_weight.value =result.toFixed(0);\n-            }\n-            else{\n-                amount_msic_weight.value = result.toFixed(2);\n-            }\n-        } else {\n-            result.value = '';\n-        }\n-    }\n-    function totalQuantity() {\n-        // const val1 = parseFloat(amount_normal_weight.value) || 0;\n-        // const val2 = parseFloat(amount_electronics_weight.value) || 0;\n-        // const val3 = parseFloat(amount_msic_weight.value) || 0;\n-\n-\n-        // const val1 = parseFloat(insurance.value) || 0;\n-        // const val2 = parseFloat(volume_weight.value) || 0;\n-        // const val3 = parseFloat(awbfee.value) || 0;\n-        // const val4 = parseFloat(vat_amount.value) || 0;\n-        // const val5 = parseFloat(grand_total_weight.value) || 0;\n-        // const val6 = parseFloat(electronics_weight.value) || 0;\n-        // const val7 = parseFloat(msic_weight.value) || 0;\n-        // const val8 = parseFloat(amount_discount_weight.value) || 0;\n-        // const val9 = parseFloat(amount_add_pack_charge.value) || 0;\n-\n-\n-        // if ([val1, val2, val3, val4, val5, val6, val7,val9 ].every(val => !isNaN(val))) {\n-        //     var result = val1 + val2 + val3 + val4 + val5 + val6 + val7 + val9;\n-        //     var grant_tot = result - val8;\n-        //     console.log(result);\n-        //     console.log(grant_tot);\n-        //     amount_grand_total.value = grant_tot.toFixed(2);\n-        // }\n-\n-\n-\n-        const val1 = parseFloat(amount_normal_weight.value) || 0;\n-        const val2 = parseFloat(amount_electronics_weight.value) || 0;\n-        const val3 = parseFloat(amount_msic_weight.value) || 0;\n-        const val4 = parseFloat(amount_insurance.value) || 0;\n-        const val5 = parseFloat(amount_awbfee.value) || 0;\n-        const val6 = parseFloat(amount_vat_amount.value) || 0;\n-        const val7 = parseFloat(amount_volume_weight.value) || 0;\n-        const val8 = parseFloat(amount_discount_weight.value) || 0;\n-        const val9 = parseFloat(amount_add_pack_charge.value) || 0;\n-\n-\n-        if ([val1, val2, val3, val4, val5, val6, val7,val9].every(val => !isNaN(val))) {\n-            var result = val1 + val2 + val3 + val4 + val5 + val6 + val7 + val9;\n-            var grant_tot = result - val8;\n-            amount_grand_total.value = grant_tot.toFixed(2);\n-        }\n-\n-    }\n-\n-    // function totalQuantityss() {\n-    //     const val1 = parseFloat(amount_normal_weight.value) || 0;\n-    //     const val2 = parseFloat(amount_electronics_weight.value) || 0;\n-    //     const val3 = parseFloat(amount_msic_weight.value) || 0;an serve\n-\n-    //     const val4 = parseFloat(amount_insurance.value) || 0;\n-    //     const val5 = parseFloat(amount_awbfee.value) || 0;\n-    //     const val6 = parseFloat(amount_vat_amount.value) || 0;\n-    //     const val7 = parseFloat(amount_volume_weight.value) || 0;\n-    //     const val8 = parseFloat(amount_discount_weight.value) || 0;\n-\n-\n-    //     if ([val1, val2, val3, val4, val5, val6, val7].every(val => !isNaN(val))) {\n-    //         var result = val1 + val2 + val3 + val4 + val5 + val6 + val7;\n-    //         var grant_tot = result - val8;\n-    //         amount_grand_total.value = grant_tot.toFixed(2);\n-    //     }\n-    // }\n-\n-    // function discountQuantity() {\n-    //     totalQuantityss()\n-    //     const val1 = parseFloat(amount_discount_weight.value) || 0;\n-    //     const total = parseFloat(amount_grand_total.value) || 0;\n-    //     if (!isNaN(val1)) {\n-    //         var result = total - val1;\n-    //         // amount_grand_total.value = result.toFixed(2);\n-    //     }\n-    // }\n-    electronics_weight.addEventListener('input', multiplyDuty);\n-    rate_electronics_weight.addEventListener('input', multiplyDuty);\n-\n-    msic_weight.addEventListener('input', multiplyPackingCharge);\n-    rate_msic_weight.addEventListener('input', multiplyPackingCharge);\n-\n-    insurance.addEventListener('input', multiplyInsurance);\n-    rate_insurance.addEventListener('input', multiplyInsurance);\n-\n-    volume_weight.addEventListener('input', multiplyVolume);\n-    rate_volume_weight.addEventListener('input', multiplyVolume);\n-\n-    awbfee.addEventListener('input', multiplyAwbFee);\n-    rate_awbfee.addEventListener('input', multiplyAwbFee);\n-\n-    vat_amount.addEventListener('input', multiplyVatAmount);\n-    rate_vat_amount.addEventListener('input', multiplyVatAmount);\n-\n-    discount_weight.addEventListener('input', multiplyDiscount);\n-    rate_discount_weight.addEventListener('input', multiplyDiscount);\n-\n-    add_pack_charge.addEventListener('input', multiplyAddPackCharge);\n-    rate_add_pack_charge.addEventListener('input', multiplyAddPackCharge);\n-\n-    insurance.addEventListener('input', totalQuantity);\n-    volume_weight.addEventListener('input', totalQuantity);\n-    awbfee.addEventListener('input', totalQuantity);\n-    vat_amount.addEventListener('input', totalQuantity);\n-    grand_total_weight.addEventListener('input', totalQuantity);\n-    electronics_weight.addEventListener('input', totalQuantity);\n-    msic_weight.addEventListener('input', totalQuantity);\n-    add_pack_charge.addEventListener('input', totalQuantity);\n-\n-\n-\n-    amount_normal_weight.addEventListener('input', totalQuantity);\n-    amount_electronics_weight.addEventListener('input', totalQuantity);\n-    amount_msic_weight.addEventListener('input', totalQuantity);\n-    amount_insurance.addEventListener('input', totalQuantity);\n-    amount_awbfee.addEventListener('input', totalQuantity);\n-    amount_vat_amount.addEventListener('input', totalQuantity);\n-    amount_volume_weight.addEventListener('input', totalQuantity);\n-    amount_add_pack_charge.addEventListener('input', totalQuantity);\n-\n-    rate_normal_weight.addEventListener('input', totalQuantity);\n-    rate_electronics_weight.addEventListener('input', totalQuantity);\n-    rate_msic_weight.addEventListener('input', totalQuantity);\n-    rate_insurance.addEventListener('input', totalQuantity);\n-    rate_volume_weight.addEventListener('input', totalQuantity);\n-    rate_awbfee.addEventListener('input', totalQuantity);\n-    rate_vat_amount.addEventListener('input', totalQuantity);\n-    rate_add_pack_charge.addEventListener('input', totalQuantity);\n-\n-    discount_weight.addEventListener('input', totalQuantity);\n-    rate_discount_weight.addEventListener('input', totalQuantity);\n-    amount_discount_weight.addEventListener('input', totalQuantity);\n-\n-    $(document).ready(function() {\n-        totalQuantity();\n-        $('#edititemsstore').on('submit', function(event) {\n-            totalQuantity();\n-        });\n-    });\n-\n-});\n-\n-\n-$(document).ready(function() {\n-    $(window).keydown(function(event){\n-        if(event.keyCode == 13) {\n-        event.preventDefault();\n-        return false;\n-        }\n-    });\n-\n-    $('input.timepicker').timepicker({\n-        timeFormat: 'h:mm p',\n-        interval: 1,\n-        dynamic: false,\n-        dropdown: true,\n-        scrollbar: true\n-    });\n-\n-\n-\n-});\n-\n-\n-\n-$(\"#saveDraft\").on('click',function(e){\n-    e.preventDefault();\n-\n-        $.ajax({\n-                url: `{{ route('branch.shipment.saveAsDraft') }}`,\n-                type: \"GET\",\n-                data:  $(\"#edititemsstore\").serialize(),\n-                cache: false,\n-                contentType: false,\n-                processData: false,\n-                success: function (result) {\n-                        toastr.success( result );\n-                    },\n-                error:function(error){\n-                        console.log(error)\n-                        alert(\"not send\");\n-                    }\n-        });\n-\n-});\n-\n-\n-\n-\n-\n-\n-\n-        $(function () {\n-                var no_of_pcs = $('#number_of_pcs').val();\n-                if(no_of_pcs == 0){\n-                    count = 0;\n-                } else {\n-                    count = parseInt(no_of_pcs);\n-                    $(\"#total-package\").css({'display':'block'});\n-                    $(\"#TotalDiv\").css({'display':'block'});\n-                }\n-\n-                addItems(count);\n-                getValOther();\n-\n-                document.getElementById(\"edititemsstore\").onkeypress = function(e) {\n-                    alert('hello');\n-                    var key = e.charCode || e.keyCode || 0;\n-                    if (key == 13) {\n-\n-                        e.preventDefault();\n-                    }\n-                    else {\n-                        addItems(count);\n-                    }\n-                }\n-\n-                $(document).ready(function () {\n-                    $('.select2').select2();\n-                        addremoveClass();\n-                    })\n-\n-\n-            });\n-\n-\n-\n-\n-            $('#addBox').on('click', function () {\n-                var no_of_box = parseInt($('#number_of_pcs').val());\n-                if( no_of_box == 0 ){\n-                    count = 0;\n-                    $('#total-package').css({'display':'block'});\n-\n-                    // $(\"input[name='msic_weight']\").val('');\n-                    $(\"input[name='normal_weight']\").val('');\n-                    // $(\"input[name='grand_total_weight']\").val('');\n-                    $(\"input[name='grand_total_box_value']\").val('');\n-                    $(\"input[name='total_freight']\").val('');\n-                    $(\"input[name='misc_freight']\").val('');\n-                    $(\"input[name='packing_charge']\").val('');\n-                    $(\"input[name='grand_total']\").val('');\n-\n-                }\n-\n-                count = no_of_box + 1;\n-                var number_of_pcs =count;\n-                 $('#number_of_pcs').val(count);\n-\n-                for (i = 0; i <1; i++) {\n-\n-                       var myClone =  $('#newBoxContainer').clone().attr('id', 'newBoxContainer'+ count);\n-\n-                        var k =  count;\n-                        var j =  count;\n-\n-                        myClone.find('#newBoxContainer').attr('id','newBoxContainer'+k);\n-                        myClone.find('.box-length').attr('name','length'+k);\n-                        myClone.find('.box-height').attr('name','height'+k);\n-                        myClone.find('.box-width').attr('name','width'+k);\n-                        myClone.find('.box-dimension').attr('name','dimension'+k);\n-                        myClone.find('.box-dimension').attr('data-no',k);\n-                        myClone.find('.box-unit-value').attr('name','unit_value'+k);\n-                        myClone.find('.box-weight1').attr('data-weight', k);\n-                        myClone.find('.box-weight1').attr('name','weight'+ k);\n-                        myClone.find('.box-weight1').attr('class', 'form-control box-weight');\n-\n-                        myClone.find('.receiver_name_1').attr('name','receiver_name'+ k);\n-                        myClone.find('.receiver_address_1').attr('name','receiver_address'+ k);\n-                        myClone.find('.receiver_mob_1').attr('name','receiver_mob'+ k);\n-                        myClone.find('.receiver_id_no_1').attr('name','receiver_id_no'+ k);\n-                        myClone.find('.receiver_id_type').attr('name','receiver_id_type'+ k);\n-                        myClone.find('.sender_id_type').attr('name','sender_id_type'+ k);\n-                        myClone.find('.sender_pin_1').attr('name','sender_pin'+ k);\n-                        myClone.find('.receiver_pin_1').attr('name','receiver_pin'+ k);\n-\n-                        myClone.find('.sender_id_img_1').attr('name','sender_id_image'+ k + '[]');\n-                        myClone.find('.receiver_id_img_1').attr('name','receiver_id_image'+ k + '[]');\n-\n-                        myClone.find('.sender_name_1').attr('name','sender_name'+ k);\n-                        myClone.find('.sender_address_1').attr('name','sender_address'+ k);\n-                        myClone.find('.sender_mob_1').attr('name','sender_mob'+ k);\n-                        myClone.find('.sender_id_no_1').attr('name','sender_id_no'+ k);\n-                        myClone.find('.sender_id_type').attr('name','sender_id_type'+ k);\n-\n-                        myClone.find('.oldBoxNo').attr('class','form-control col-3 oldBoxNo'+ k);\n-                        myClone.find('#noBoxFound').attr('id','noBoxFound'+ k);\n-                        myClone.find('.oldBoxFill').attr('data-boxId', k);\n-                        myClone.find('.oldBoxFill').attr('class','btn btn-primary fillAdress col-1 ml-2 oldBoxFill'+ k);\n-\n-                        myClone.find('#box_sender_id').attr('name','box_sender_id'+ k);\n-                        myClone.find('#box_receiver_id').attr('name','box_receiver_id'+ k);\n-\n-                        myClone.find('.box-rate1').attr('data-rate', k);\n-                        myClone.find('.box-rate1').attr('name','rate'+ k);\n-                        myClone.find('.box-rate1').attr('class', 'form-control box-rate');\n-\n-                        myClone.find('.box-packing').attr('data-packing', k);\n-                        myClone.find('.box-packing').attr('data-no', k);\n-                        myClone.find('.box-packing').attr('name','packing'+ k);\n-                        myClone.find('.box-packing').attr('class', 'form-control box-packing');\n-                        myClone.find('#packing').attr('id', 'packing'+k);\n-\n-\n-                        myClone.find('#selectVolume').attr('id', 'selectVolume'+k);\n-\n-                        myClone.find('#box_packing_charge').attr('id', 'box_packing_charge'+k);\n-                        myClone.find('.box_packing_charge').attr('data-no', k);\n-                        myClone.find('.box_packing_charge').attr('name','box_packing_charge'+ k);\n-                        myClone.find('.box_packing_charge').attr('class', 'form-control box_packing_charge');\n-\n-\n-                        myClone.find('.box-unit-value').attr('data-unit-value', k);\n-                        myClone.find('.box-total-value').attr('name','total_value'+k);\n-                        // myClone.find('.volume').attr('data-volume', k);\n-                        myClone.find('.volume').attr('name','volume'+ k);\n-                        myClone.find('.volume').attr('data-no',k);\n-\n-                        myClone.find('#other_length').attr('id', 'other_length'+k);\n-                        myClone.find('.other_length').attr('name','other_length'+ k);\n-                        myClone.find('.other_length').attr('data-no',k);\n-\n-\n-                        myClone.find('#other_width').attr('id', 'other_width'+k);\n-                        myClone.find('.other_width').attr('name','other_width'+ k);\n-                        myClone.find('.other_width').attr('data-no',k);\n-\n-                        myClone.find('#other_height').attr('id', 'other_height'+k);\n-                        myClone.find('.other_height').attr('name','other_height'+ k);\n-                        myClone.find('.other_height').attr('data-no',k);\n-\n-                        myClone.find('#other_select').attr('id', 'other_select'+k);\n-                        myClone.find('.other_select').attr('name','other_select'+ k);\n-                        myClone.find('.other_select').attr('data-no',k);\n-\n-                        var myName = $(this).text();\n-                        const booking_number = document.querySelector('input[name=\"booking_number\"]');\n-                        myClone.find('.packageinfo-head1').text('Box - '+j+ booking_number.value );\n-                        myClone.find('.packageinfo-head1').attr('data-myattri', j);\n-                        myClone.find('.packageinfo-head1').attr('class', 'packageinfo-head');\n-\n-                        myClone.find('.box_name1').val(j+ booking_number.value );\n-                        myClone.find('.box_name1').attr('data-myattri', j);\n-                        myClone.find('.box_name1').attr('name', 'box_name'+k);\n-                        myClone.find('.box_name1').attr('class', 'box_name');\n-\n-\n-\n-                        myClone.find('#addpackage').attr('data-myattri', j);\n-                        myClone.find('#addpackage').attr('id', 'addpackage'+j);\n-                        console.log(j);\n-                        console.log(k);\n-                        myClone.find('#removeBox').attr('data-myattri', j);\n-                        myClone.find('#removeBox').attr('id', 'removeBox'+j);\n-                        myClone.find('#additems').attr('id', 'additems'+j);\n-                        myClone.find('#packageinfo').attr('id', 'packageinfo'+j);\n-                        myClone.find('.packageinfo').attr('class', 'table table-bordered packageinfo'+j);\n-                        myClone.find('input[name=\"description[]\"]').attr('name', 'description'+j+'[]');\n-                        myClone.find('input[name=\"qty[]\"]').attr('name', 'qty'+j+'[]');\n-                        myClone.find('input[name=\"unit[]\"]').attr('name', 'unit'+j+'[]');\n-                        myClone.find('input[name=\"unit'+j+'[]\"]').attr('data-myAttri', j);\n-                        myClone.find('input[name=\"subtotal[]\"]').attr('name', 'subtotal'+j+'[]');\n-                        myClone.find('button[name=\"remove[]\"]').attr('data-remove', j);\n-                        myClone.find('button[name=\"remove[]\"]').attr('data-myAttri', j);\n-                        myClone.find('#totalAmt').attr('id', 'totalAmt'+j);\n-                        myClone.find('#totalqty').attr('id', 'totalqty'+j);\n-                        // myClone.find('.box_name').attr('value', '<?=branch()->branch_code?branch()->branch_code:''?>' + j+<?=$bookingNum?>);\n-\n-                        myClone.clone().appendTo(\"#Container\");\n-                        // myClone.clone().prependTo(\"#Container\");\n-                        // myClone.clone().prependTo(\"#Container\").find('input:visible:enabled:first').focus();\n-                        updateBoxName(j, <?=$bookingNum?>);\n-                }\n-\n-                    $(\"#shiping_method\").trigger(\"change\");\n-\n-\n-                if(number_of_pcs > 0) {\n-                    $(\"#TotalDiv\").css({'display':'block'});\n-                    $(\"#total-package\").css({'display':'block'});\n-                    addItems( count);\n-                    // inputChange();\n-                    addremoveClass();\n-\n-                }\n-\n-                $(\".tot_wgt, .tot_rate, .tot_amt\").trigger(\"input\");\n-\n-\n-\n-\n-            });\n-\n-\n-\n-            function updateBoxName(count, bookingNumber ){\n-\n-                const booking_number = document.querySelector('input[name=\"booking_number\"]');\n-\n-                // $(\".box_name\"+i+1).each(function (boxnum) {\n-\n-                //     var boxnum= boxnum+1;\n-                //     console.log(''+ boxnum + booking_number.value);\n-                //     $(this).val(''+ boxnum + booking_number.value);\n-\n-                // });\n-\n-\n-                // $(\".packageinfo-head\").each(function (index) {\n-                //     var index =  $(\".packageinfo-head\").length -index;\n-                //     // var index= index-1;\n-                //     $(this).text('Box - '+ index + booking_number.value );\n-\n-\n-                // });\n-\n-                $(\".box_name\").each(function (boxnum) {\n-                    var no_of_box = parseInt($('#number_of_pcs').val());\n-                    var boxnum= boxnum+1;\n-                   \n-                  //  $(this).val(''+ boxnum + booking_number.value);\n-                  $(this).val(''+ booking_number.value+'-'+ boxnum +'/'+no_of_box);\n-                    $(this).attr('name', `box_name${boxnum}`);\n-\n-\n-                });\n-\n-                $(\".packageinfo-head\").each(function (index) {\n-                    var no_of_box = parseInt($('#number_of_pcs').val());\n-                    var index= index+1;\n-                    $(this).text('Box - '+ booking_number.value +' - '  + index +'/'+ no_of_box );\n-                });\n-\n-\n-                $(\".sender_name\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `sender_name${index}`);\n-                });\n-\n-                $(\".sender_address\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `sender_address${index}`);\n-                });\n-\n-                $(\".sender_pin\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `sender_pin${index}`);\n-                });\n-\n-                $(\".sender_mob\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `sender_mob${index}`);\n-                });\n-\n-                $(\".sender_id_no\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `sender_id_no${index}`);\n-                    $(this).attr('data-index', `${index}`);\n-                });\n-\n-                $(\".sender_id_image_value\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `sender_id_image_value${index}`);\n-                });\n-\n-                $(\".sender_id_image\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `sender_id_image${index}`);\n-                });\n-\n-\n-\n-\n-\n-\n-                $(\".receiver_name\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `receiver_name${index}`);\n-                });\n-\n-                $(\".receiver_address\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `receiver_address${index}`);\n-                });\n-\n-                $(\".receiver_pin\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `receiver_pin${index}`);\n-                });\n-\n-                $(\".receiver_mob\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `receiver_mob${index}`);\n-                });\n-\n-                $(\".receiver_id_no\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `receiver_id_no${index}`);\n-                    $(this).attr('data-index', `${index}`)\n-                });\n-\n-                $(\".sender_id_type\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `sender_id_type${index}`);\n-                });\n-\n-                $(\".receiver_id_image_value\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `receiver_id_image_value${index}`);\n-                });\n-\n-                $(\".receiver_id_image\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `receiver_id_image${index}`);\n-                });\n-\n-                $(\".weight\").each(function (index) {\n-                    var index= index+1;\n-                    $(this).attr('name', `weight${index}`);\n-                });\n-\n-\n-\n-\n-                $(\".boxcount\").each(function (index) {\n-                    var index= index+1;\n-\n-                    $(this).find(\".descriptions\").each(function() {\n-                         $(this).attr(\"name\", `description${index}[]`);\n-                    });\n-\n-                    $(this).find(\".qty\").each(function() {\n-                         $(this).attr(\"name\", `qty${index}[]`);\n-                    });\n-\n-                    $(this).find(\".unit\").each(function() {\n-                         $(this).attr(\"name\", `unit${index}[]`);\n-                    });\n-\n-                    $(this).find(\".pkg-subtotal\").each(function() {\n-                         $(this).attr(\"name\", `subtotal${index}[]`);\n-                    });\n-                });\n-\n-            }\n-\n-\n-\n-            $('#sender_id').on('change', function () {\n-                var address = $(this).find(\":selected\").data('address');\n-                var phone = $(this).find(\":selected\").data('phone');\n-                $(\"#sender_address\").val(address);\n-                $(\"#sender_phone\").val(phone);\n-\n-            });\n-            $('#receiver_id').on('change', function () {\n-                var address = $(this).find(\":selected\").data('address');\n-                var phone = $(this).find(\":selected\").data('phone');\n-                $(\"#receiver_address\").val(address);\n-                $(\"#receiver_phone\").val(phone);\n-            });\n-\n-            $.ajaxSetup({\n-                headers: {\n-                    'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n-                }\n-            });\n-\n-\n-             $('#AddSender').click(function () {\n-\n-                $('#AddClient h4.modal-title').text(\"Add Sender\");\n-                $('#AddClient #clientType').val(\"sender\");\n-                $('.id_no label').text(\"Sender Id\");\n-                $('.id_type label').text(\"Sender Identification Type\");\n-                // $(\"select[name='client_identification_type']\").val('<?=$previous_sender->identification_type?>');\n-                $(\"select[name='country_id']\").val(<?=$previous_sender->address->country_id?>);\n-                console.log(<?=$previous_sender->address->country_id?>);\n-                $('#state_id').html('');\n-                <?php foreach ($previous_sender_state as $key => $value) { ?>\n-                      $('#state_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n-                <?php } ?>\n-\n-                $('#city_id').html('');\n-                <?php foreach ($previous_sender_city as $key => $value) { ?>\n-                      $('#city_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n-                <?php } ?>\n-\n-\n-                $(\"#phone\").attr(\"maxlength\", <?=$prev_sender_phon_length->phone_no_length?>);\n-                $(\"#whatsapp_number\").attr(\"maxlength\", <?=$prev_sender_phon_length->phone_no_length?>);\n-\n-                $(\"#phone\").attr(\"placeholder\", \"Enter \"+<?=$prev_sender_phon_length->phone_no_length?$prev_sender_phon_length->phone_no_length:'-'?>+\" digits\");\n-                $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+<?=$prev_sender_phon_length->phone_no_length?$prev_sender_phon_length->phone_no_length:'-'?>+\" digits\");\n-\n-                $(\"select[name='state_id']\").val(<?=$previous_sender->address->state_id?>);\n-                $(\"select[name='city_id']\").val(<?=$previous_sender->address->city_id?>);\n-                $(\"select[name='country_code_whatsapp']\").val(<?=$previous_sender->country_code_whatsapp?>);\n-                $(\"select[name='country_code_phone']\").val(<?=$previous_sender->country_code_phone?>);\n-\n-                $('#mobile2').text(\"Whatsapp\");\n-\n-                $('#AddClient').modal('show');\n-\n-            });\n-            $('#EditSender').click(function () {\n-        var selectedOption = $('#sender_id').find('option:selected');\n-        var senderId = selectedOption.val();\n-        isEditMode = true;\n-       // alert(senderId);\n-        if (senderId) {\n-            $('#AddClient .modal-title').text(\"Edit Sender\");\n-            $('#sender_id_input').val(senderId); // Set ID field for editing\n-            $('#AddClient').modal('show');\n-            $('#save_data_user').hide();\n-            $('#update_data_receiver').hide();\n-            $('#update_data_user').show();\n-           \n-            // Populate fields with selected receiver data\n-            populateFieldsForEdit(selectedOption);\n-        } else {\n-            alert('Please select a sender to edit.');\n-        }\n-\n-\n-                    // JavaScript code to dynamically enable/disable the forward button\n-            document.addEventListener('DOMContentLoaded', () => {\n-                const forwardButton = document.getElementById('forwardButton');\n-\n-                // Check initial history length and update button state\n-                updateForwardButtonState();\n-\n-                // Listen for history changes and update button state accordingly\n-                window.addEventListener('popstate', () => {\n-                    updateForwardButtonState();\n-                });\n-            });\n-\n-            function updateForwardButtonState() {\n-                const forwardButton = document.getElementById('forwardButton');\n-                forwardButton.disabled = history.length <= 1;\n-            }\n-    });\n-      // Function to populate fields for Edit\n-      function populateFieldsForEdit(option) {\n-        $('#name').val(option.data('name'));\n-        $('#email').val(option.data('email'));\n-        $('#phone').val(option.data('phone'));\n-        $('#address').val(option.data('address'));\n-        $('#whatsapp_number').val(option.data('whatsapp_number'));\n-       // $('#country_id').val(option.data('country_id'));\n-        //$('#state_id').val(option.data('state_id'));\n-        //$('#district_id').val(option.data('district_id'));\n-        $('#cities').val(option.data('cities'));\n-        $('#post').val(option.data('post'));\n-        $('#zip_code').val(option.data('zip_code'));\n-        $('#country_code_phone').val(option.data('country_code_phone'));\n-        $('#country_code_whatsapp').val(option.data('country_code_whatsapp'));\n-        $('#client_identification_type').val(option.data('identification_type'));\n-        $('#client_identification_number').val(option.data('identification_number'));\n-     $('#country_id').val(option.data('country_id')).trigger('change'); // Trigger change to load states\n-     $('#state_id').val(option.data('state_id')).trigger('change'); \n-     $('#district_id').val(option.data('district_id')).trigger('change');\n-   \n-            }\n-            $('#update_data_user').click(function () {\n-    var selectedOption = $('#sender_id').find('option:selected');\n-    var senderId = selectedOption.val();\n-    var formData = new FormData($('#add_client_shipments')[0]); // Collect form data\n-\n-    $.ajax({\n-        url: '/branch/shipment/update-sender/' + senderId,\n-        type: 'POST',\n-        data: formData,\n-        contentType: false,\n-        processData: false,\n-        headers: {\n-            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') // Add CSRF token header\n-        },\n-        success: function(response) {\n-            if (response.success) {\n-                // Hide the modal\n-                $('#AddClient').modal('hide');\n-\n-                // Log the response to see if data is coming as expected\n-                console.log(response.data);\n-\n-                // Remove the existing option and add a new one\n-                $('#sender_id option[value=\"' + senderId + '\"]').remove();\n-                $('#sender_id').append(\n-                    '<option value=\"' + senderId + '\" ' +\n-                    'data-identification_type=\"' + response.data.identification_type + '\" ' +\n-                    'data-identification_number=\"' + response.data.identification_number + '\" ' +\n-                    'data-name=\"' + response.data.name + '\" ' +\n-                    'data-email=\"' + response.data.email + '\" ' +\n-                    'data-phone=\"' + response.data.phone + '\" ' +\n-                    'data-address=\"' + response.data.address + '\" ' +\n-                    'data-whatsapp_number=\"' + response.data.whatsapp_number + '\" ' +\n-                    'data-country_code_phone=\"' + response.data.country_code_phone + '\" ' +\n-                    'data-country_code_whatsapp=\"' + response.data.country_code_whatsapp + '\" ' +\n-                    'data-country_id=\"' + response.data.country_id + '\" ' +\n-                    'data-state_id=\"' + response.data.state_id + '\" ' +\n-                    'data-district_id=\"' + response.data.district_id + '\" ' +\n-                    'data-city_id=\"' + response.data.city_id + '\" ' +\n-                    'data-zip_code=\"' + response.data.zip_code + '\">' +\n-                    response.data.name.toUpperCase() + ' - ' + response.data.phone +\n-                    '</option>'\n-                );\n-\n-                // Set the updated option as selected\n-                $('#sender_id').val(senderId);\n-                 // Update the readonly fields with the new data\n-                 $('#sender_address').val(response.data.address);\n-                $('#sender_phone').val(response.data.phone);\n-            } else {\n-                alert('Failed to update sender details.');\n-            }\n-        },\n-        error: function(xhr) {\n-            alert('Failed to update sender details.');\n-        }\n-    });\n-});\n-\n-            $('#AddReceiver').click(function () {\n-                $('#AddClient h4.modal-title').text(\"Add Receiver <?=$previous_receiver->address->state_id?>\");\n-                $('#AddClient #clientType').val(\"receiver\");\n-                $('.id_no label').text(\"Receiver Id\");\n-                $('.id_type label').text(\"Receiver Identification Type\");\n-                // $(\"select[name='client_identification_type']\").val('<?=$previous_receiver->identification_type?>');\n-                $(\"select[name='country_id']\").val(<?=$previous_receiver->address->country_id?>);\n-                $('#state_id').html('');\n-                <?php foreach ($previous_receiver_state as $key => $value) { ?>\n-                      $('#state_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n-                <?php } ?>\n-\n-                $('#city_id').html('');\n-                <?php foreach ($previous_receiver_city as $key => $value) { ?>\n-                      $('#city_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n-                <?php } ?>\n-\n-\n-                $(\"#phone\").attr(\"maxlength\", <?=$prev_receiver_phon_length->phone_no_length?>);\n-                $(\"#whatsapp_number\").attr(\"maxlength\", <?=$prev_receiver_phon_length->phone_no_length?>);\n-\n-                $(\"#phone\").attr(\"placeholder\", \"Enter \"+<?=$prev_receiver_phon_length->phone_no_length?$prev_receiver_phon_length->phone_no_length:'-'?>+\" digits\");\n-                $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+<?=$prev_receiver_phon_length->phone_no_length?$prev_receiver_phon_length->phone_no_length:'-'?>+\" digits\");\n-\n-                $(\"select[name='state_id']\").val(<?=$previous_receiver->address->state_id?>);\n-                $(\"select[name='city_id']\").val(<?=$previous_receiver->address->city_id?>);\n-                $(\"select[name='country_code_whatsapp']\").val(<?=$previous_receiver->country_code_whatsapp?>);\n-                $(\"select[name='country_code_phone']\").val(<?=$previous_receiver->country_code_phone?>);\n-\n-\n-                $('#AddClient').modal('show');\n-\n-                 $('#mobile2').text(\"Mobile 2\");\n-\n-                $('#AddClient').modal('show');\n-                $('#country_id').trigger('change');\n-            });\n-\n-      // Update receiver\n-      $('#EditReceiver').click(function () {\n-        var selectedOption = $('#receiver_id').find('option:selected');\n-        var receiverId = selectedOption.val();\n-        isEditMode = true;\n-       // alert(senderId);\n-        if (receiverId) {\n-            $('#AddClient .modal-title').text(\"Edit Receiver\");\n-            $('#sender_id_input').val(receiverId); // Set ID field for editing\n-            $('#AddClient').modal('show');\n-            $('#save_data_user').hide();\n-            $('#update_data_receiver').show();\n-            $('#update_data_user').hide();\n-           \n-            // Populate fields with selected receiver data\n-            populateFieldsForEditReceiver(selectedOption);\n-        } else {\n-            alert('Please select a receiver to edit.');\n-        }\n-    });\n-    function populateFieldsForEditReceiver(option) {\n-        $('#name').val(option.data('name'));\n-        $('#email').val(option.data('email'));\n-        $('#phone').val(option.data('phone'));\n-        $('#address').val(option.data('address'));\n-        $('#whatsapp_number').val(option.data('whatsapp_number'));\n-        $('#country_id').val(option.data('country_id'));\n-        $('#state_id').val(option.data('state_id'));\n-        $('#district_id').val(option.data('district_id'));\n-        $('#cities').val(option.data('cities'));\n-        $('#post').val(option.data('post'));\n-        $('#zip_code').val(option.data('zip_code'));\n-        $('#country_code_phone').val(option.data('country_code_phone'));\n-        $('#country_code_whatsapp').val(option.data('country_code_whatsapp'));\n-        $('#client_identification_type').val(option.data('identification_type'));\n-        $('#client_identification_number').val(option.data('identification_number'));\n-    }\n-    $('#update_data_receiver').click(function () {\n-    var selectedOption = $('#receiver_id').find('option:selected');\n-    var receiverId = selectedOption.val();\n-    var formData = new FormData($('#add_client_shipments')[0]); // Collect form data\n-\n-    $.ajax({\n-        url: '/branch/shipment/update-receiver/' + receiverId,\n-        type: 'POST',\n-        data: formData,\n-        contentType: false,\n-        processData: false,\n-        headers: {\n-            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') // Add CSRF token header\n-        },\n-        success: function(response) {\n-            if (response.success) {\n-                // Hide the modal\n-                $('#AddClient').modal('hide');\n-\n-                // Log the response to see if data is coming as expected\n-                console.log(response.data);\n-\n-                // Remove the existing option and add a new one\n-                $('#receiver_id option[value=\"' + receiverId + '\"]').remove();\n-                $('#receiver_id').append(\n-                    '<option value=\"' + receiverId + '\" ' +\n-                    'data-identification_type=\"' + response.data.identification_type + '\" ' +\n-                    'data-identification_number=\"' + response.data.identification_number + '\" ' +\n-                    'data-name=\"' + response.data.name + '\" ' +\n-                    'data-email=\"' + response.data.email + '\" ' +\n-                    'data-phone=\"' + response.data.phone + '\" ' +\n-                    'data-address=\"' + response.data.address + '\" ' +\n-                    'data-whatsapp_number=\"' + response.data.whatsapp_number + '\" ' +\n-                    'data-country_code_phone=\"' + response.data.country_code_phone + '\" ' +\n-                    'data-country_code_whatsapp=\"' + response.data.country_code_whatsapp + '\" ' +\n-                    'data-country_id=\"' + response.data.country_id + '\" ' +\n-                    'data-state_id=\"' + response.data.state_id + '\" ' +\n-                    'data-district_id=\"' + response.data.district_id + '\" ' +\n-                    'data-city_id=\"' + response.data.city_id + '\" ' +\n-                    'data-zip_code=\"' + response.data.zip_code + '\">' +\n-                    response.data.name.toUpperCase() + ' - ' + response.data.phone +\n-                    '</option>'\n-                );\n-\n-                // Set the updated option as selected\n-                $('#receiver_id').val(receiverId);\n-                 // Update the readonly fields with the new data\n-                 $('#receiver_address').val(response.data.address);\n-                $('#receiver_phone').val(response.data.phone);\n-            } else {\n-                alert('Failed to update receiver details.');\n-            }\n-        },\n-        error: function(xhr) {\n-            alert('Failed to update receiver details.');\n-        }\n-    });\n-});\n-\n-\n-            $('.modal').on('hidden.bs.modal', function (e) {\n-                $(this).find(\"input,textarea,select\").val('').end()\n-                .find(\"input[type=checkbox], input[type=file], input[type=radio]\")\n-                .prop(\"checked\", \"\")\n-                .end();\n-            })\n-\n-\n-            var index = 1;\n-\n-            function addItems(number_of_pcs) {\n-                for( let i = 1; i <= number_of_pcs; i++) {\n-                    $(document).on(\"input\", \".unit\", function () {\n-                        $(\"input[name='unit\"+i+\"[]']\").each(function () {\n-                            var qty = $(this).parent('td').prev('td').find('input').val()\n-                            var unit = $(this).val();\n-                            $(this).parent('td').next('td').find('input').val((qty * unit).toFixed(2));\n-                            console.log((qty * unit).toFixed(2));\n-                        });\n-\n-                        var sum = 0;\n-                        $(\"input[name='subtotal\"+i+\"[]']\").each(function () {\n-                            sum += +$(this).val();\n-                        });\n-                        $(\"#totalAmt\"+i).text(sum);\n-                        $(\"#inp_totalAmt\"+i).text(sum);\n-                    })\n-\n-\n-                    $(document).on(\"input\", \".qty\", function () {\n-                        var sum = 0;\n-                        $(\"input[name='qty\"+i+\"[]']\").each(function () {\n-                            var qty = $(this).val();\n-                            var unit = $(this).parent('td').next('td').find('input').val();\n-                            $(this).closest('tr').find('td:nth-child(5) input').val((qty * unit).toFixed(2));\n-                            sum += +$(this).val();\n-                        });\n-                        $(\"#totalqty\"+i).text(sum);\n-                        var sum = 0;\n-                        $(\"input[name='subtotal\"+i+\"[]']\").each(function () {\n-                            sum += +$(this).val();\n-                        });\n-                        $(\"#totalAmt\"+i).text(sum);\n-                    })\n-                }\n-\n-            }\n-\n-\n-                $(document).on(\"input\", \".box-weight\", function () {\n-                        var sum_value = 0;\n-                        $('.box-weight').each(function(){\n-                            sum_value += +$(this).val();\n-                            $(\"input[name='normal_weight']\").val(sum_value);\n-                            $(\"input[name='normal_weight_temp']\").val(sum_value);\n-                            // $(\"input[name='grand_total_weight']\").val(sum_value);\n-                        })\n-                        $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n-                        var wgt = $(this).attr(\"data-weight\");\n-                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n-                        var rate = parseFloat($(\"input[name='rate\"+wgt+\"']\").val());\n-                        $(\"input[name='total_value\"+wgt+\"']\").val( (total_weight * rate).toFixed(2));\n-                        $(\"input[name='electronics_weight']\").trigger(\"keyup\");\n-                })\n-\n-                $(document).on(\"input\", \".box-rate\", function () {\n-                        var wgt = $(this).attr(\"data-rate\");\n-                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n-                        var rate = parseFloat($(\"input[name='rate\"+wgt+\"']\").val());\n-                        $(\"input[name='total_value\"+wgt+\"']\").val((total_weight * rate).toFixed(2));\n-                        $(\"input[name='electronics_weight']\").trigger(\"keyup\");\n-                })\n-\n-                $(document).on(\"input\", \".box-unit-value\", function () {\n-                        var wgt = $(this).attr(\"data-unit-value\");\n-                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n-                        var total_unit_value = parseFloat($(\"input[name='unit_value\"+wgt+\"']\").val());\n-                })\n-\n-\n-                $(document).on(\"input\", \".box_packing_charge\", function () {\n-                    var sum_value = 0;\n-                        $('.box_packing_charge').each(function(){\n-                            sum_value += +$(this).val();\n-                            $(\"input[name='packing_charge']\").val(sum_value);\n-                        })\n-\n-                        $(\".gtotal\").trigger(\"input\");\n-                })\n-\n-\n-\n-            $(document).on(\"input\", \".gtotal\", function () {\n-                var sum_value = 0;\n-                $('.gtotal').each(function(){\n-\n-                    sum_value += +$(this).val();\n-                    if($(\"#discount\").val() != '') {\n-                        var discount =  parseFloat($(\"#discount\").val());\n-                    } else {\n-                        var discount = 0;\n-                    }\n-                    $(\"input[name='grand_total']\").val(parseFloat(sum_value) - discount );\n-\n-                })\n-            })\n-\n-\n-            $(document).on(\"input\", \"#discount\", function () {\n-                $(\".discount\").val( $('#discount').val());\n-                var sum_value = 0;\n-                $('.gtotal').each(function(){\n-                    sum_value += +$(this).val();\n-                    if($(\"#discount\").val() != '') {\n-                        var discount =  parseFloat($(\"#discount\").val());\n-                    } else {\n-                        var discount = 0;\n-                    }\n-                    $(\"input[name='grand_total']\").val(parseFloat(sum_value) - discount );\n-                });\n-            })\n-\n-            $(\".grand_total_weight, .rate_normal_weight \").keyup(function(){\n-                var wgt = $(this).attr(\"data-unit-value\");\n-                var total_weight = parseFloat($(\"input[name='grand_total_weight']\").val());\n-                var total_rate_value = parseFloat($(\"input[name='rate_normal_weight']\").val());\n-                $(\"input[name='amount_normal_weight']\").val( (total_weight * total_rate_value).toFixed(2));\n-                $(\".tot_amt\").trigger(\"keyup\");\n-                $(\".gtotal\").trigger(\"input\");\n-            })\n-\n-\n-            //     $(\".electronics_weight, .rate_electronics_weight \").keyup(function(){\n-            //         var wgt = $(this).attr(\"data-unit-value\");\n-            //         var total_weight = parseFloat($(\"input[name='electronics_weight']\").val());\n-            //         var total_rate_value = parseFloat($(\"input[name='rate_electronics_weight']\").val());\n-            //         $(\"input[name='amount_electronics_weight']\").val( total_weight * total_rate_value);\n-\n-            //         var normal_weight = 0;\n-            //         var msic_weight = 0;\n-            //         var other_weight = 0;\n-            //         var electronics_weight = 0;\n-            //         var amount_other_weight =0;\n-            //         // var insurance = 0;\n-            //         // var awbfee = 0;\n-            //         // var vat_amount = 0;\n-            //         // var volume_weight = 0;\n-\n-\n-            //         normal_weight = isNaN(parseFloat($(\"input[name='normal_weight_temp']\").val())) ? 0 : parseFloat($(\"input[name='normal_weight_temp']\").val());\n-            //         msic_weight = isNaN(parseFloat($(\"input[name='msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='msic_weight']\").val());\n-            //         electronics_weight = isNaN(parseFloat($(\"input[name='electronics_weight']\").val()))? 0: parseFloat($(\"input[name='electronics_weight']\").val());\n-            //         other_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val()))? 0: parseFloat($(\"input[name='other_weight']\").val());\n-            //         // insurance = isNaN(parseFloat($(\"input[name='insurance']\").val())) ? 0 : parseFloat($(\"input[name='insurance']\").val());\n-            //         // awbfee = isNaN(parseFloat($(\"input[name='awbfee']\").val())) ? 0 : parseFloat($(\"input[name='awbfee']\").val());\n-            //         // vat_amount = isNaN(parseFloat($(\"input[name='vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='vat_amount']\").val());\n-            //         // volume_weight = isNaN(parseFloat($(\"input[name='volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='volume_weight']\").val());\n-\n-\n-            //         rate_normal_weight = isNaN(parseFloat($(\"input[name='rate_normal_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_normal_weight']\").val());\n-            //         rate_msic_weight = isNaN(parseFloat($(\"input[name='rate_msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_msic_weight']\").val());\n-            //         rate_electronics_weight = isNaN(parseFloat($(\"input[name='rate_electronics_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_electronics_weight']\").val());\n-            //         rate_other_weight = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n-            //         // rate_insurance = isNaN(parseFloat($(\"input[name='rate_insurance']\").val())) ? 0 : parseFloat($(\"input[name='rate_insurance']\").val());\n-            //         // rate_awbfee = isNaN(parseFloat($(\"input[name='rate_awbfee']\").val())) ? 0 : parseFloat($(\"input[name='rate_awbfee']\").val());\n-            //         // rate_vat_amount = isNaN(parseFloat($(\"input[name='rate_vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='rate_vat_amount']\").val());\n-            //         // rate_volume_weight = isNaN(parseFloat($(\"input[name='rate_volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_volume_weight']\").val());\n-\n-\n-            //         amount_normal_weight =  isNaN(normal_weight * rate_normal_weight) ? 0 : normal_weight * rate_normal_weight;\n-            //         amount_msic_weight =  isNaN(msic_weight * rate_msic_weight) ? 0 : msic_weight * rate_msic_weight;\n-            //         amount_electronics_weight =  isNaN(electronics_weight * rate_electronics_weight)? 0 : electronics_weight * rate_electronics_weight;\n-            //         amount_other_weight =  isNaN(other_weight * rate_other_weight)? 0 : other_weight * rate_other_weight;\n-            //         // amount_insurance =  isNaN(insurance * rate_insurance) ? 0 : insurance * rate_insurance;\n-            //         // amount_awbfee =  isNaN(awbfee * rate_awbfee) ? 0 : awbfee * rate_awbfee;\n-            //         // amount_vat_amount =  isNaN(vat_amount * rate_vat_amount) ? 0 : vat_amount * rate_vat_amount;\n-            //         // amount_volume_weight =  isNaN(volume_weight * rate_volume_weight) ? 0 : volume_weight * rate_volume_weight;\n-            //         // var elec_mis_oth_wgt =  parseFloat(msic_weight)   + parseFloat(electronics_weight);\n-\n-            //         $(\"input[name='amount_msic_weight']\").val(amount_msic_weight);\n-            //         $(\"input[name='amount_electronics_weight']\").val(amount_electronics_weight);\n-\n-            //         // $(\"input[name='amount_insurance']\").val(amount_insurance);\n-            //         // $(\"input[name='amount_awbfee']\").val(amount_awbfee);\n-            //         // $(\"input[name='amount_vat_amount']\").val(amount_vat_amount);\n-            //         // $(\"input[name='amount_volume_weight']\").val(amount_volume_weight);\n-\n-            //         //$(\"input[name='amount_grand_total']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n-            //         $(\"input[name='total_freight']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n-            //         console.log(amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight, 'sdfbfjhbsdljh');\n-\n-            //         $(\".grand_total_weight\").trigger(\"keyup\");\n-            //         $(\".rate_electronics_weight\").trigger(\"input\");\n-\n-            // })\n-\n-\n-            // $(\" .msic_weight, .rate_msic_weight \").keyup(function(){\n-            //     var wgt = $(this).attr(\"data-unit-value\");\n-            //     var total_weight = parseFloat($(\"input[name='msic_weight']\").val());\n-            //     var total_rate_value = parseFloat($(\"input[name='rate_msic_weight']\").val());\n-\n-            //     $(\"input[name='amount_msic_weight']\").val( total_weight * total_rate_value);\n-\n-\n-            //     var normal_weight = 0;\n-            //     var msic_weight = 0;\n-            //     var other_weight = 0;\n-            //     var electronics_weight = 0;\n-            //     var amount_other_weight =0;\n-            //     // var insurance = 0;\n-            //     // var awbfee = 0;\n-            //     // var vat_amount = 0;\n-            //     // var volume_weight = 0;\n-\n-            //     normal_weight =  isNaN(parseFloat($(\"input[name='normal_weight']\").val()))? 0 : parseFloat($(\"input[name='normal_weight']\").val());\n-            //     msic_weight = isNaN(parseFloat($(\"input[name='msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='msic_weight']\").val());\n-            //     electronics_weight = isNaN(parseFloat($(\"input[name='electronics_weight']\").val()))? 0: parseFloat($(\"input[name='electronics_weight']\").val());\n-            //     other_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val()))? 0: parseFloat($(\"input[name='other_weight']\").val());\n-            //     // insurance = isNaN(parseFloat($(\"input[name='insurance']\").val())) ? 0 : parseFloat($(\"input[name='insurance']\").val());\n-            //     // awbfee = isNaN(parseFloat($(\"input[name='awbfee']\").val())) ? 0 : parseFloat($(\"input[name='awbfee']\").val());\n-            //     // vat_amount = isNaN(parseFloat($(\"input[name='vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='vat_amount']\").val());\n-            //     // volume_weight = isNaN(parseFloat($(\"input[name='volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='volume_weight']\").val());\n-\n-\n-            //     rate_normal_weight = isNaN(parseFloat($(\"input[name='rate_normal_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_normal_weight']\").val());\n-            //     rate_msic_weight = isNaN(parseFloat($(\"input[name='rate_msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_msic_weight']\").val());\n-            //     rate_electronics_weight = isNaN(parseFloat($(\"input[name='rate_electronics_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_electronics_weight']\").val());\n-            //     rate_other_weight = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n-            //     // rate_insurance = isNaN(parseFloat($(\"input[name='rate_insurance']\").val())) ? 0 : parseFloat($(\"input[name='rate_insurance']\").val());\n-            //     // rate_awbfee = isNaN(parseFloat($(\"input[name='rate_awbfee']\").val())) ? 0 : parseFloat($(\"input[name='rate_awbfee']\").val());\n-            //     // rate_vat_amount = isNaN(parseFloat($(\"input[name='rate_vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='rate_vat_amount']\").val());\n-            //     // rate_volume_weight = isNaN(parseFloat($(\"input[name='rate_volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_volume_weight']\").val());\n-\n-            //     amount_normal_weight =  isNaN(normal_weight * rate_normal_weight) ? 0 : normal_weight * rate_normal_weight;\n-            //     amount_msic_weight =  isNaN(msic_weight * rate_msic_weight) ? 0 : msic_weight * rate_msic_weight;\n-            //     amount_electronics_weight =  isNaN(electronics_weight * rate_electronics_weight)? 0 : electronics_weight * rate_electronics_weight;\n-            //     amount_other_weight =  isNaN(other_weight * rate_other_weight)? 0 : other_weight * rate_other_weight;\n-            //     // amount_insurance =  isNaN(insurance * rate_insurance) ? 0 : insurance * rate_insurance;\n-            //     // amount_awbfee =  isNaN(awbfee * rate_awbfee) ? 0 : awbfee * rate_awbfee;\n-            //     // amount_vat_amount =  isNaN(vat_amount * rate_vat_amount) ? 0 : vat_amount * rate_vat_amount;\n-            //     // amount_volume_weight =  isNaN(volume_weight * rate_volume_weight) ? 0 : volume_weight * rate_volume_weight;\n-\n-\n-            //     var elec_mis_oth_wgt =  parseFloat(msic_weight)  + parseFloat(electronics_weight)\n-\n-            //     $(\"input[name='amount_msic_weight']\").val(amount_msic_weight);\n-            //     $(\"input[name='amount_electronics_weight']\").val(amount_electronics_weight);\n-            //     // $(\"input[name='amount_insurance']\").val(amount_insurance);\n-            //     // $(\"input[name='amount_awbfee']\").val(amount_awbfee);\n-            //     // $(\"input[name='amount_vat_amount']\").val(amount_vat_amount);\n-            //     // $(\"input[name='amount_volume_weight']\").val(amount_volume_weight);\n-            //     // $(\"input[name='grand_total_weight']\").val( parseFloat(normal_weight) - parseFloat(elec_mis_oth_wgt));\n-\n-\n-            //     $(\"input[name='amount_grand_total']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n-            //     $(\"input[name='total_freight']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n-\n-            //     $(\".grand_total_weight\").trigger(\"keyup\");\n-            //     $(\".tot_amt\").trigger(\"keyup\");\n-            //      $(\".gtotal\").trigger(\"input\");\n-\n-\n-            //     })\n-\n-\n-\n-                $(\".other_weight, .rate_other_weight\").keyup(function(){\n-\n-                var total_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val())) ? 0 : parseFloat($(\"input[name='other_weight']\").val());\n-                var total_rate_value = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n-\n-                var normal_weight = isNaN(parseFloat($(\"input[name='normal_weight_temp']\").val())) ? 0 : parseFloat($(\"input[name='normal_weight_temp']\").val());\n-                $(\"input[name='normal_weight']\").val(normal_weight +total_weight );\n-\n-                $(\"input[name='amount_other_weight']\").val( total_weight * total_rate_value);\n-                $(\".tot_amt\").trigger(\"keyup\");\n-                $(\".gtotal\").trigger(\"input\");\n-            });\n-\n-\n-\n-\n-\n-            $(\".tot_amt\").keyup(function(){\n-                var sum_value = 0;\n-                $('.tot_amt').each(function(){\n-                    sum_value += +$(this).val();\n-                    $(\"input[name='amount_grand_total']\").val( sum_value);\n-                    $(\"input[name='total_freight']\").val( sum_value );\n-                })\n-            })\n-\n-\n-            $(document).on(\"click\", \".fillAdress\", function (event) {\n-                var boxId = $(this).attr('data-boxid');\n-                var boxName = $('.oldBoxNo' + boxId).val();\n-\n-                $.ajax({\n-                    url: '/branch/get_box_data',\n-                    type: 'GET',\n-                    data: { box_name: boxName },\n-                    success: function(response) {\n-                        if (response.success) {\n-                            console.log(response.data);\n-                            $('#noBoxFound' + boxId).html(response.message);\n-\n-                            var data = response.data;\n-                            $('input[name=\"sender_name' + boxId + '\"]').val(data.sender_name);\n-                            $('textarea[name=\"sender_address' + boxId + '\"]').val(data.sender_address);\n-                            $('input[name=\"sender_pin' + boxId + '\"]').val(data.sender_pin);\n-                            $('input[name=\"sender_mob' + boxId + '\"]').val(data.sender_mob);\n-                            $('select[name=\"sender_id_type' + boxId + '\"]').val(data.sender_id_type);\n-                            $('input[name=\"sender_id_no' + boxId + '\"]').val(data.sender_id_no);\n-                            // $('input[name=\"sender_id_image' + boxId + '\"]').val(data.sender_id_image);\n-                            $('input[name=\"receiver_name' + boxId + '\"]').val(data.receiver_name);\n-                            $('input[name=\"receiver_id_no' + boxId + '\"]').val(data.receiver_id_no);\n-                            $('textarea[name=\"receiver_address' + boxId + '\"]').val(data.receiver_address);\n-                            $('input[name=\"receiver_pin' + boxId + '\"]').val(data.receiver_pin);\n-                            $('input[name=\"receiver_mob' + boxId + '\"]').val(data.receiver_mob);\n-                            $('select[name=\"receiver_id_type' + boxId + '\"]').val(data.receiver_id_type);\n-                            // $('input[name=\"receiver_id_image' + boxId + '\"]').val(data.receiver_id_image);\n-                        } else {\n-                            $('#noBoxFound' + boxId).html(response.message);\n-                            console.log(response.message);\n-                        }\n-                    },\n-                    error: function(xhr, status, error) {\n-                        console.error('AJAX Error: ' + status + ' ' + error);\n-                    }\n-                });\n-            });\n-\n-\n-\n-            $(document).on(\"click\", \".addpackage\", function (event) {\n-                var i = $(this).attr(\"data-myattri\");\n-                var si = parseInt($(':input[name=\"description'+i+'[]\"]').length)+1;\n-                var tr = $('#tr').html();\n-                        var html = `<tr>\n-                                    <td style=\"padding:10px\" width=\"2%\"><span class=\"form-control border-0\">`+si+`</span></td>\n-                                    <td style=\"padding:10px\" width=\"40%\"><input placeholder=\"Enter description\" type=\"text\" name=\"description`+i+`[]\" class=\"form-control descriptions\"></td>\n-                                        <td style=\"padding:10px\"><input placeholder=\"Enter quantity\" type=\"number\" name=\"qty`+i+`[]\"  class=\"form-control qty\"></td>\n-                                        <td style=\"padding:10px\"><input type=\"number\"  data-myAttri=\"`+i+`\" placeholder=\"Enter unit price\" name=\"unit`+i+`[]\" class=\"form-control unit\" step=\"0.01\"></td>\n-                                        <td style=\"padding:10px\"><input type=\"text\" readonly name=\"subtotal`+i+`[]\" class=\"form-control value pkg-subtotal\"></td>\n-                                        <td>\n-                                        <button type=\"button\"  name=\"remove`+i+`[]\" class=\"remove btn btn-danger\" data-remove=\"`+i+`\">X</button>\n-                                        </td>\n-                                    </tr>`;\n-                        $('#packageinfo'+i+' table').append(html);\n-                        addremoveClass();\n-                        $(\"input[name='description\"+i+\"[]']\").focus();\n-\n-            });\n-\n-\n-            $(document).on(\"click\", \".removeBox\", function (event) {\n-                    var boxNo = $(this).attr(\"data-myattri\");\n-                    var boxCount = $('#number_of_pcs').val();\n-                    boxCount = boxCount -1;\n-\n-\n-                    $('#number_of_pcs').val(boxCount);\n-                    $('#number_of_pcs').val(boxCount);\n-                    $(\"#newBoxContainer\"+boxNo).remove();\n-                        if( boxCount == 0){\n-                            $(\"#TotalDiv\").css({'display':'none'});\n-                            $(\"#total-package\").css({'display':'none'});\n-                        }\n-\n-                        $(\".box-weight\").trigger(\"input\");\n-                        $(\".box-unit-value\").trigger(\"input\");\n-                        // $(\".msic_weight\").trigger(\"input\");\n-                        $(\".gtotal\").trigger(\"input\");\n-                        $(\"#discount\").trigger(\"input\");\n-                        $(\".qty\").trigger(\"keyup\");\n-                        $(\".unit\").trigger(\"keyup\");\n-\n-                        // addItems(boxCount);\n-                        $(\".tot_wgt, .tot_rate, .tot_amt\").trigger(\"input\");\n-\n-\n-                        updateBoxName(boxCount, boxNo );\n-            });\n-\n-\n-\n-            $(document).on(\"keyup\", \".qty\", function (event) {\n-\n-                var box_total = 0;\n-                $('.pkg-subtotal').each(function(){\n-                    box_total += +$(this).val();\n-                    $(\"#totalPackageAmt\").html(box_total);\n-                    $(\"input[name='package_total_amount']\").val(box_total );\n-                });\n-\n-                var box_qty_total = 0;\n-                $('.qty').each(function(){\n-                    box_qty_total += +$(this).val();\n-                    $(\"#totalPackageqty\").html(box_qty_total);\n-                    $(\"input[name='package_total_quantity']\").val( box_qty_total );\n-                });\n-\n-\n-                var box_total = 0;\n-                $('.pkg-subtotal').each(function(){\n-                    box_total += +$(this).val();\n-                    $(\"#totalPackageAmt\").html(box_total);\n-                    $(\"input[name='package_total_amount']\").val(box_total  );\n-\n-                });\n-\n-\n-            });\n-\n-            $(document).on(\"keyup\", \".unit\", function (event) {\n-                var keyPressed = event.keyCode || event.which;\n-                if (keyPressed == 13) {\n-                    var packageNo = $(this).attr(\"data-myAttri\");\n-                    $(\"#addpackage\"+packageNo).click();\n-                    event.preventDefault();\n-                    return false;\n-                }\n-\n-                var box_total = 0;\n-                $('.pkg-subtotal').each(function(){\n-                    box_total += +$(this).val();\n-                    $(\"#totalPackageAmt\").html(box_total);\n-                    $(\"input[name='package_total_amount']\").val(box_total  );\n-                });\n-            });\n-\n-\n-\n-            function addremoveClass() {\n-\n-                $('.remove').click(function(){\n-\n-                    var no_of_box = $('.body .boxcount').length;\n-\n-                    var boxNo = $(this).attr(\"data-myAttri\");\n-                    var totalRowCount = $(\".packageinfo\"+boxNo+\" tr\").length;\n-\n-                    if(no_of_box == 1 ){\n-                        $('#total-package').css({'display':'none'});\n-                    }\n-\n-\n-                    $(this).closest(\"tr\").remove();\n-                    var rm_id = $(this).attr(\"data-remove\");\n-                        var sum = 0;\n-                        $(\"input[name='subtotal\"+rm_id+\"[]']\").each(function () {\n-                            sum += +$(this).val();\n-                        });\n-                        $(\"#totalAmt\"+rm_id+\"\").text(sum);\n-\n-                        var qtysum = 0;\n-                        $(\"input[name='qty\"+rm_id+\"[]']\").each(function () {\n-                            qtysum += +$(this).val();\n-                        });\n-                        $(\"#totalqty\"+rm_id+\"\").text(qtysum);\n-\n-                        var rtotamtsum =0;\n-                        $(\".rtotamt\").each(function () {\n-                            rtotamtsum += parseFloat($(this).text());\n-\n-                        });\n-\n-                        $(\"#totalPackageAmt\").text(rtotamtsum);\n-                        $(\"input[name='package_total_amount']\").val(rtotamtsum);\n-\n-                        var rtotqtysum = 0;\n-                        $(\".rtotqty\").each(function () {\n-                            rtotqtysum += parseFloat($(this).text());\n-                        });\n-                        $(\"#totalPackageqty\").text(rtotqtysum);\n-                        $(\"input[name='package_total_quantity']\").val(rtotqtysum);\n-\n-                    });\n-            }\n-\n-            $('#country_id').change(function () {\n-                var country_id = $(this).val();\n-                $('#loader').removeClass('d-none');\n-                const url = \"{{route('states')}}?country_id=\" + country_id;\n-                // console.log(url);\n-                $.ajax({\n-                    url: url,\n-                    type: \"GET\",\n-                    dataType: \"json\",\n-                    success: function (result) {\n-                        // when call is sucessfull\n-                        // console.log(result);\n-                        $('#loader').addClass('d-none');\n-                        let option = ``;\n-                        $('#state_id').html('<option value=\"\">Select State</option>');\n-                        $.each(result.states, function (key, value) {\n-                            $(\"#state_id\").append('<option value=\"' + value\n-                                .id + '\">' + value.name + '</option>');\n-                        });\n-\n-                        $('.country_code').val(result.phonecode);\n-                        if(result.phone_no_length!= null)\n-                        {\n-                            $(\"#phone\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n-                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n-                            $(\"#phone\").attr(\"maxlength\", result.phone_no_length);\n-                            $(\"#whatsapp_number\").attr(\"maxlength\", result.phone_no_length);\n-                        } else {\n-                            $(\"#phone\").attr(\"placeholder\", \"Enter phone\");\n-                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter phone\");\n-                        }\n-\n-                    }, error: function (er) {\n-                        console.log(er);\n-                    }\n-\n-                }); // ajax call closing\n-            })\n-\n-            $(\"#country_code_whatsapp\").change(function () {\n-                 var country_code = $(this).val();\n-                $('#loader').removeClass('d-none');\n-                const url = \"{{route('getCountry')}}?country_code=\" + country_code;\n-                $.ajax({\n-                    url: url,\n-                    type: \"GET\",\n-                    dataType: \"json\",\n-                    success: function (result) {\n-                        // when call is sucessfull\n-\n-                        $('#loader').addClass('d-none');\n-                        if(result.phone_no_length!= null)\n-                        {\n-                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n-                            $(\"#whatsapp_number\").attr(\"maxlength\", result.phone_no_length);\n-                        } else {\n-                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter phone\");\n-                        }\n-\n-                    }, error: function (er) {\n-                        console.log(er);\n-                    }\n-                }); // ajax call closing\n-            });\n-\n-\n-\n-            $(\"#country_code_phone\").change(function () {\n-\n-                var country_code = $(this).val();\n-                $('#loader').removeClass('d-none');\n-                const url = \"{{route('getCountry')}}?country_code=\" + country_code;\n-                $.ajax({\n-                    url: url,\n-                    type: \"GET\",\n-                    dataType: \"json\",\n-                    success: function (result) {\n-                        // when call is sucessfull\n-                        console.log(result);\n-                        // return false;\n-                        $('#loader').addClass('d-none');\n-\n-                        if(result.phone_no_length!= null)\n-                        {\n-                            $(\"#phone\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n-                            $(\"#phone\").attr(\"maxlength\", result.phone_no_length);\n-                        } else {\n-                            $(\"#phone\").attr(\"placeholder\", \"Enter phone\");\n-\n-                        }\n-\n-                    }, error: function (er) {\n-                        console.log(er);\n-                    }\n-                }); // ajax call closing\n-\n-\n-            });\n-\n-\n-\n-            $('#state_id').change(function () {\n-                var state_id = $(this).val();\n-                $('#loader').removeClass('d-none');\n-                const url = \"{{route('cities')}}?state_id=\" + state_id;\n-                console.log(url);\n-                $.ajax({\n-                    url: url,\n-                    type: \"GET\",\n-                    dataType: \"json\",\n-                    success: function (result) {\n-                        // when call is sucessfull\n-                        console.log(result);\n-                        $('#loader').addClass('d-none');\n-                        let option = ``;\n-                        $('#city_id').html('<option value=\"\">Select City</option>');\n-                        $.each(result, function (key, value) {\n-                            $(\"#city_id\").append('<option value=\"' + value\n-                                .id + '\">' + value.name + '</option>');\n-                        });\n-\n-                    }, error: function (er) {\n-                        console.log(er);\n-                    }\n-\n-                }); // ajax call closing\n-            })\n-\n-\n-            $('#state_id').change(function () {\n-                var state_id = $(this).val();\n-                $('#loader').removeClass('d-none');\n-                const url = \"{{route('districts')}}?state_id=\" + state_id;\n-                console.log(url);\n-                $.ajax({\n-                    url: url,\n-                    type: \"GET\",\n-                    dataType: \"json\",\n-                    success: function (result) {\n-                        // when call is sucessfull\n-                        console.log(result);\n-                        $('#loader').addClass('d-none');\n-                        let option = ``;\n-                        $('#district_id').html('<option value=\"\">Select District</option>');\n-                        $.each(result, function (key, value) {\n-                            $(\"#district_id\").append('<option value=\"' + value\n-                                .id + '\">' + value.name + '</option>');\n-                        });\n-\n-                    }, error: function (er) {\n-                        console.log(er);\n-                    }\n-\n-                }); // ajax call closing\n-            })\n-\n-\n-\n-            $('#collected_by').change(function () {\n-                var collected = $(this).val();\n-                $('#loader').removeClass('d-none');\n-                const url = \"{{route('branch.collectedBy')}}?collected=\" + collected;\n-                console.log(url);\n-                $.ajax({\n-                    url: url,\n-                    type: \"GET\",\n-                    dataType: \"json\",\n-                    success: function (result) {\n-                        // when call is sucessfull\n-                        $('#loader').addClass('d-none');\n-\n-                        $('#driver_or_staff').html(result.res);\n-\n-                    }, error: function (er) {\n-                        console.log(er);\n-                    }\n-\n-                }); // ajax call closing\n-            })\n-\n-\n-            function calculateTotal() {\n-                let weight = $('#weight').val()\n-                let rate = $('#rate').val();\n-                let packing_charge = $('#packing_charge').val();\n-                let other_charges = $('#other_charges').val();\n-                let discount = $('#discount').val();\n-                console.log(weight * rate);\n-                if (typeof weight === \"undefined\" || weight == null) {\n-                    weight = 0;\n-                }\n-                if (typeof rate === \"undefined\" || rate == null) {\n-                    rate = 0;\n-                }\n-                if (typeof packing_charge === \"undefined\" || packing_charge == null) {\n-                    packing_charge = 0;\n-                }\n-                if (typeof other_charges === \"undefined\" || other_charges == null) {\n-                    other_charges = 0;\n-                }\n-                if (typeof discount === \"undefined\" || discount == null) {\n-                    discount = 0;\n-                }\n-                let am = (weight * rate);\n-                let grossTotal = am + parseFloat(packing_charge) + parseFloat(other_charges)\n-                let total = grossTotal - discount;\n-                $('#total_amount').val(total);\n-            }\n-\n-            $(\"#add_client_shipments\").submit(function (e) {\n-                e.preventDefault();\n-                $('.valid-err').hide()\n-                $('#loader').removeClass('d-none');\n-                var formData = new FormData(this);\n-                for (var p of formData) {\n-                    let name = p[0];\n-                    let value = p[1];\n-\n-                    console.log(name, value)\n-                }\n-                $.ajax({\n-                    url: `{{ route('branch.customers.store') }}`,\n-                    type: \"POST\",\n-                    data: formData,\n-                    cache: false,\n-                    contentType: false,\n-                    processData: false,\n-                    success: function (result) {\n-                        // when call is sucessfull\n-                        if (result.success === true) {\n-                            clearForm()\n-                            $('#loader').addClass('d-none');\n-                            var message = `<span class=\"alert alert-success\">` + result.message + `</span>`;\n-                            console.log(result);\n-                            $('#msg').html(message)\n-                            $('#' + result.data.type + '_id').append(`<option value=\"` + result.data.id + `\" selected>` + result.data.name + `<option>`);\n-                            toastr.info(result.data.address.address);\n-                            $('#' + result.data.type + '_address').val(result.data.address.address)\n-                            setTimeout(() => {\n-                                $('.modal').modal('hide');\n-                                $('.alert').hide();\n-                            }, 2000);\n-                        } else {\n-                            toastr.error(result.message);\n-                        }\n-\n-                    },\n-                    error: function (err) {\n-                        // check the err for error details\n-                        console.log(err);\n-                        $('#loader').addClass('d-none');\n-                        $.each(err.responseJSON.errors, function (key, item) {\n-                            $('#' + key).after('<label class=\"valid-err text-danger\">' + item + '</label>')\n-                        });\n-                    }\n-                }); // ajax call closing\n-\n-            });\n-\n-\n-\n-        function clearForm() {\n-            $('#name').val(\"\");\n-            $('#email').val(\"\");\n-            $('#phone').val(\"\");\n-            $('#zip_code').val(\"\");\n-            $('#address').val(\"\");\n-            $('#client_identification_number').val(\"\");\n-        }\n-\n-\n-        $('.btnAction').click(function () {\n-\n-            $(this).html('<i class=\"fa fa-spinner fa-spin\"></i> Loading...');\n-            $(this).attr('disabled', true);\n-            $('#basic-form').submit();\n-        });\n-\n-\n-function getval(event)\n-{\n-\n-\n-    var boxNo =event.dataset.no;\n-    var weight = $(\"input[name='weight\"+boxNo+\"']\").val();\n-    var volume = $(\"select[name='volume\"+boxNo+\"']\").val();\n-    var packing = $(\"select[name='packing\"+boxNo+\"']\").val();\n-    var dataid = $(\"select[name='dimension\"+boxNo+\"']\").val();\n-    // var dataid = event.options[event.selectedIndex].dataset.id;\n-        if( dataid == 0 ){\n-\n-            $(\"#other_height\"+boxNo).removeClass(\"d-none\");\n-            $(\"#other_length\"+boxNo).removeClass(\"d-none\");\n-            $(\"#other_width\"+boxNo).removeClass(\"d-none\");\n-            $(\"#other_select\"+boxNo).removeClass(\"d-none\");\n-            $(\"input[name='box_packing_charge\"+boxNo+\"']\").val('');\n-\n-            $(\"#packing\"+boxNo).addClass(\"d-none\");\n-            $(\"#selectVolume\"+boxNo).addClass(\"d-none\");\n-\n-            $(\"input[name='weight\"+boxNo+\"']\").trigger(\"input\");\n-            $(\"select[name='packing\"+boxNo+\"']\").trigger(\"change\");\n-\n-\n-        } else {\n-\n-            $(\"#other_height\"+boxNo).addClass(\"d-none\");\n-            $(\"#other_length\"+boxNo).addClass(\"d-none\");\n-            $(\"#other_width\"+boxNo).addClass(\"d-none\");\n-            $(\"#other_select\"+boxNo).addClass(\"d-none\");\n-\n-            $(\"#packing\"+boxNo).removeClass(\"d-none\");\n-            $(\"#selectVolume\"+boxNo).removeClass(\"d-none\");\n-\n-                $('#loader').removeClass('d-none');\n-                const url = \"{{route('getUnitValue')}}?id=\" + dataid+\"&boxNo=\"+boxNo+\"&volume=\"+volume+\"&packing=\"+packing;\n-                console.log(url);\n-                $.ajax({\n-                    url: url,\n-                    type: \"GET\",\n-                    dataType: \"json\",\n-                    success: function (result) {\n-                        // when call is sucessfull\n-                        $('#loader').addClass('d-none');\n-\n-                        $(\"input[name='unit_value\"+result.boxno+\"']\").val((result.value).toFixed(2));\n-                        $(\"input[name='weight\"+result.boxno+\"']\").trigger(\"input\");\n-                        $(\"select[name='packing\"+result.boxno+\"']\").trigger(\"change\");\n-\n-                    }, error: function (er) {\n-                        console.log(er);\n-                    }\n-\n-                }); // ajax call closing\n-        }\n-\n-}\n-\n-\n-function getValOther(event) {\n-    var boxNo =event.dataset.no;\n-\n-\n-    var height = parseFloat($(\"input[name='other_height\"+boxNo+\"']\").val());\n-    var length = parseFloat($(\"input[name='other_length\"+boxNo+\"']\").val());\n-    var width = parseFloat($(\"input[name='other_width\"+boxNo+\"']\").val());\n-    var select = parseFloat($(\"input[name='other_select\"+boxNo+\"']\").val());\n-\n-    var volume = (height * length * width )/ select;\n-\n-    var select = $(\"input[name='unit_value\"+boxNo+\"']\").val(volume.toFixed(2));\n-\n-\n-}\n-\n-\n-function getVolume(event){\n-    var selected_volume  =   event.value;\n-    $('.volume').val(selected_volume);\n-\n-    var shiping_method =  $(\"#shiping_method option:selected\").attr('data-shiptypeid');\n-    var collected_by = $(\"#collected_by\").val();\n-\n-    $(\"#shipping_method_id\").val(shiping_method);\n-\n-        $('#loader').removeClass('d-none');\n-        const url = \"{{route('getRate')}}?collected_by=\" + collected_by+\"&shiping_method=\"+shiping_method;\n-        console.log(url);\n-        $.ajax({\n-            url: url,\n-            type: \"GET\",\n-            dataType: \"json\",\n-            success: function (result) {\n-                // when call is sucessfull\n-                $(\".box-rate\").val( result.rate);\n-                // $(\"input[name='rate_normal_weight']\").val(result.rate);\n-\n-                $(\".box-rate\").trigger(\"input\");\n-                // $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n-\n-\n-\n-            }, error: function (er) {\n-                console.log(er);\n-            }\n-\n-        }); // ajax call closing\n-\n-}\n-\n-\n-function getRate(event){\n-\n-    var shiping_method =  $(\"#shiping_method option:selected\").attr('data-shiptypeid');\n-    var collected_by = $(\"#collected_by\").val();\n-\n-        $('#loader').removeClass('d-none');\n-        const url = \"{{route('getRate')}}?collected_by=\" + collected_by+\"&shiping_method=\"+shiping_method;\n-        console.log(url);\n-        $.ajax({\n-            url: url,\n-            type: \"GET\",\n-            dataType: \"json\",\n-            success: function (result) {\n-                // when call is sucessfull\n-                $(\".box-rate\").val( result.rate);\n-                $(\"input[name='rate_normal_weight']\").val(result.rate);\n-\n-                $(\".box-rate\").trigger(\"input\");\n-                $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n-\n-\n-\n-            }, error: function (er) {\n-                console.log(er);\n-            }\n-\n-        }); // ajax call closing\n-\n-}\n-\n-function getBoxPackingVal(event) {\n-\n-    var pack_charge = isNaN(parseFloat($(\"#packing_charge\").val()))? 0 : parseFloat($(\"#packing_charge\").val());\n-\n-    var boxNo = event.dataset.no;\n-\n-    var dimension_id = parseFloat($(\"select[name='dimension\"+boxNo+\"']\").val());\n-    var packing_id = parseFloat($(\"select[name='packing\"+boxNo+\"']\").val());\n-\n-     $('#loader').removeClass('d-none');\n-        const url = \"{{route('getBoxPackingCharge')}}?dimension_id=\" + dimension_id+\"&packing_id=\"+packing_id;\n-        console.log(url);\n-        $.ajax({\n-            url: url,\n-            type: \"GET\",\n-            dataType: \"json\",\n-            success: function (result) {\n-                // when call is sucessfull\n-                console.log(result, result.packing_rate);\n-                console.log( pack_charge + parseFloat(result.packing_rate) );\n-\n-                $(\"input[name='box_packing_charge\"+boxNo+\"']\").val(result.packing_rate);\n-                $(\".box_packing_charge\").trigger(\"input\");\n-\n-            }, error: function (er) {\n-                console.log(er);\n-            }\n-\n-        }); // ajax call closing\n-\n-\n-\n-}\n-\n-\n-</script>\n-\n-@endsection\n-@extends('layouts.app')\n-\n-@section('content')\n-@section('styles')\n-    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/css/select2.min.css\" rel=\"stylesheet\" />\n-@endsection\n-<style>\n-.boxContainer{\n-    border:1px solid black;\n-    padding:5px;\n-    margin-top:5px;\n-}\n-\n-\n-*{padding:0;margin:0;}\n-\n-body{\n-\tfont-family:Verdana, Geneva, sans-serif;\n-\tfont-size:18px;\n-}\n-\n-.float{\n-\tposition:fixed;\n-\twidth:60px;\n-\theight:60px;\n-\tbottom:220px;\n-\t/* left:320px;*/\n-\tright:20px;\n-\tbackground-color:#0C9;\n-\tcolor:#FFF;\n-\t/* border-radius:50px; */\n-\ttext-align:center;\n-\tbox-shadow: 2px 2px 3px #999;\n-}\n-\n-.my-float{\n-\tmargin-top:22px;\n-}\n-\n-.save{\n-    position:fixed;\n-\twidth:60px;\n-\theight:60px;\n-\tbottom:300px;\n-\t/* left:320px; */\n-\tright:20px;\n-\tbackground-color:#cc5100;\n-\tcolor:#FFF;\n-\t/* border-radius:50px; */\n-\ttext-align:center;\n-\tbox-shadow: 2px 2px 3px #999;\n-}\n-\n-.my-save{\n-\tmargin-top:22px;\n-}\n-.box_details .form-group{\n-        margin-bottom: 0rem;\n-}\n-/* Increase the height of the dropdown */\n-.select2-results__options {\n-            max-height: 200px; /* Adjust this value as needed */\n-        }\n-\n-        /* Increase the height of the select box */\n-        .select2-container--default .select2-selection--single {\n-            height: 40px; /* Adjust this value as needed */\n-            display: flex;\n-            align-items: center;\n-        }\n-\n-        .select2-container--default .select2-selection--single .select2-selection__rendered {\n-            line-height: 40px; /* Adjust this value as needed */\n-        }\n-\n-        .select2-container--default .select2-selection--single .select2-selection__arrow {\n-            height: 38px; /* Adjust this value as needed */\n-        }\n-</style>\n-    <div class=\"content-page\" id=\"content-page\">\n-        <div class=\"content\">\n-\n-            <!-- Start Content-->\n-            <div class=\"container-fluid\">\n-\n-                <!-- start page title -->\n-                <div class=\"row\">\n-                    <div class=\"col-12\">\n-                        <div class=\"page-title-box\">\n-                            <div class=\"page-title-right\">\n-                                {!! breadcrumbs() !!}\n-                            </div>\n-                            <h4 class=\"page-title\">{{page_title()}}</h4>\n-                        </div>\n-                    </div>\n-                </div>\n-                <!-- end page title -->\n-\n-<a href=\"javascript:void();\" class=\"float\" id=\"addBox\" title=\"Add Box\">\n-<i class=\"fa fa-plus my-float\"></i>\n-</a>\n-\n-<a href=\"javascript:void();\" class=\"save\" id=\"saveDraft\" title=\"Save as Draft\">\n-<i class=\"fa fa-save my-save\"></i>\n-</a>\n-\n-                <div class=\"row\">\n-                    <div class=\"col-md-12\">\n-                        <div class=\"card-box\">\n-\n-                        <form action=\"{{update_url($shipment->id)}}\" id=\"edititemsstore\" method=\"post\" enctype=\"multipart/form-data\" >\n-                                @method('PUT')\n-                                @csrf\n-                                <div class=\"col-md-12\">  <!--  col-12- start-->\n-                                    <div class=\"header\">\n-                                        <h4>Basic Info</h4>\n-                                    </div>\n-                                    <div class=\"row\">\n-                                        <div class=\"col-md-6\" id=\"bookingNumberSection\">\n-                                            <div class=\"form-group\">\n-                                                <label>Booking No.</label>\n-                                                <input type=\"text\" name=\"booking_number\"\n-                                                       value=\"{{ $shipment->booking_number }}\" class=\"form-control\"\n-                                                       required readonly\n-                                                       id=\"booking_no_uniq\"\n-                                                       style=\"readonly !important; }}\">\n-                                                @error('booking_number')\n-                                                <span class=\"text-danger\">{{ $message }}</span>\n-                                                @enderror\n-                                            </div>\n-                                        </div>\n-                                        <div class=\"col-md-6\">\n-                                            <div class=\"form-group\">\n-                                                <label>Branch List</label>\n-                                                <select autofocus name=\"branch_id\" id=\"branch_id\"\n-                                                        class=\"form-control\">\n-                                                        @foreach ($branches as $branch)\n-                                                        <option\n-                                                            {{   ($shipment->branch_id==$branch->id ) ? 'selected' : \"\" }} value=\"{{ $branch->id }}\">{{ $branch->name }}</option>\n-                                                    @endforeach\n-                                                </select>\n-                                            </div>\n-                                        </div>\n-                                    </div>\n-\n-                                    <div class=\"row\">\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                            <h4>Sender Info</h4>\n-                                            <div class=\"row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Sender/Customer</label>\n-                                                    <select name=\"sender_id\" id=\"sender_id\" class=\"form-control select2\" required>\n-                                                        <option value='' selected=\"selected\">Select</option>\n-                                                        @foreach (get_customers('sender')->where('branch_id', branch()->id) as $sender)\n-                                                        <option value=\"{{ $sender->id }}\"\n-                                                        {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }}\n-                                                        data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$sender->name ?? ''}}\"\n-                                                        data-email=\"{{$sender->email ?? ''}}\"\n-                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n-                                                         data-post=\"{{$sender->post ?? ''}}\"\n-                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n-                                                </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('sender_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-\n-                                                </div>\n-\n-\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-\n-                                            </div>\n-                                            <div class=\"row form-group col-md-12\">\n-                                                <label>Sender Address</label>\n-                                                <input readonly type=\"text\" id=\"sender_address\" value=\"{{$shipment->sender->address->address??\"\"}}\" class=\"form-control\">\n-                                            </div>\n-\n-                                            <div class=\"row form-group col-md-12\">\n-                                                <label>Sender Phone</label>\n-                                                <input readonly type=\"text\" id=\"sender_phone\" value=\"{{$shipment->sender->phone??\"\"}}\" class=\"form-control\">\n-                                            </div>\n-                                        </div>\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                            <div class=\"header\">\n-                                                <h4>Receiver Info</h4>\n-                                            </div>\n-                                            <div class=\" row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Receiver/Customer</label>\n-                                                    <select name=\"receiver_id\" id=\"receiver_id\" class=\"form-control select2\" required>\n-                                                    <option value='' selected=\"selected\">Select</option>\n-                                                    @foreach (get_customers('receiver')->where('branch_id', branch()->id) as $receiver)\n-                                                    <option value=\"{{ $receiver->id }}\"\n-                                                    {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n-                                                        data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$receiver->name ?? ''}}\"\n-                                                        data-email=\"{{$receiver->email ?? ''}}\"\n-                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n-                                                          data-post=\"{{$receiver->post ?? ''}}\"\n-                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n-                                                </option>\n-                                                    @endforeach\n-                                                </select>\n-                                                    @error('receiver_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddReceiver\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditReceiver\" class=\"btn btn-primary mt-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>   \n-                                                </div>\n-                                            </div>\n-                                            <div class=\"row form-group col-md-12\">\n-                                                <label>Receiver Address</label>\n-                                                <input readonly type=\"text\"  value=\"{{$shipment->receiver->address->address??\"\"}}\" id=\"receiver_address\" class=\"form-control\">\n-                                            </div>\n-\n-                                            <div class=\"row form-group col-md-12\">\n-                                                <label>Receiver Phone</label>\n-                                                <input readonly type=\"text\"  value=\"{{$shipment->receiver->phone??\"\"}}\" id=\"receiver_phone\" class=\"form-control\">\n-                                            </div>\n-                                        </div>\n-                                    </div>\n-\n-                                    <div class=\"col-md-12\">\n-                                        <div class=\"header\">\n-                                            <h4>Shipping Info</h4>\n-                                        </div>\n-                                        <div class=\"body\">\n-                                            <div class=\"row\">\n-                                                <!-- <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>Receipt Number</label>\n-                                                        <input type=\"text\"   class=\"form-control\"\n-                                                            name=\"receipt_number\" value=\"{{$shipment->receipt_number}}\">\n-                                                    </div>\n-                                                </div> -->\n-                                                <!-- <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>Packaging Type</label>\n-                                                        <input type=\"text\"   name=\"packing_type\"\n-                                                            class=\"form-control\" value=\"{{$shipment->packing_type}}\">\n-                                                    </div>\n-                                                </div> -->\n-                                                <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>Courier Company</label>\n-                                                        <select name=\"agency_id\"  class=\"form-control\">\n-                                                        @foreach ($agencies as $agency)\n-                                                        <option\n-                                                            {{   ($shipment->agency_id==$agency->id ) ? 'selected' : \"\" }} value=\"{{ $agency->id }}\">{{ $agency->name }}</option>\n-                                                        @endforeach\n-                                                        <!-- <option value=\"Best Express\"> Best Express</option> -->\n-                                                    </select>\n-\n-                                                    </div>\n-                                                </div>\n-                                                <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>Shipping Methods</label>\n-                                                        <select name=\"shiping_method\" class=\"form-control\" id=\"shiping_method\"  onchange=\"getVolume(this);\" required>\n-                                                        <option value=\"\" data-shipTypeId=\"\"> Select </option>\n-                                                            @foreach( $ship_types as $key => $shipping_type )\n-                                                            <option {{ ($shipment->shipping_method_id==$shipping_type->id ) ? 'selected' : \"\" }}  value=\"{{$shipping_type->id}}\" data-shipTypeId=\"{{$shipping_type->id}}\">{{$shipping_type->name}}</option>\n-                                                            @endforeach\n-                                                        </select>\n-\n-                                                        <input type=\"hidden\" name=\"shipping_method_id\" value=\"\"  id=\"shipping_method_id\"/>\n-\n-                                                           <?php /*\n-\n-                                                            {{ ($shipment->shiping_method== $shipping_type->value) ? 'selected' : \"\" }}\n-\n-                                                            <option\n-                                                                {{ ($shipping_type->shiping_method=='Air') ? 'selected' : \"\" }} value=\"Air\">\n-                                                                Air\n-                                                            </option>\n-                                                            <option\n-                                                                {{ ($shipping_type->shiping_method=='Sea') ? 'selected' : \"\" }} value=\"Sea\">\n-                                                                Sea\n-                                                            </option>\n-                                                            <option\n-                                                                {{ ($shipping_type->shiping_method=='Road') ? 'selected' : \"\" }} value=\"Road\">\n-                                                                Road\n-                                                            </option>\n-                                                            */?>\n-\n-\n-\n-                                                    </div>\n-                                                </div>\n-                                                <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>Payment Method</label>\n-                                                        <select name=\"payment_method\" class=\"form-control\" id=\"\">\n-                                                            <option\n-                                                                {{ ($shipment->payment_method=='cash_payment') ? 'selected' : \"\" }} value=\"cash_payment\">\n-                                                                Cash Payment\n-                                                            </option>\n-                                                            <option\n-                                                                {{ ($shipment->payment_method=='credit') ? 'selected' : \"\" }} value=\"credit\">\n-                                                                Credit\n-                                                            </option>\n-                                                            <option\n-                                                                {{ ($shipment->payment_method=='bank') ? 'selected' : \"\" }} value=\"bank\">\n-                                                                Bank\n-                                                            </option>\n-                                                        </select>\n-\n-                                                    </div>\n-                                                </div>\n-\n-                                                <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>Status</label>\n-                                                        <select name=\"status_id\" class=\"form-control\" id=\"\" required>\n-                                                        <option value=\"\">--- Select Status ---</option>\n-                                                            @foreach ( status_list_admin() as $item)\n-                                                                <option\n-                                                                    {{ ($shipment->status_id==$item->id) ? 'selected' : \"\" }} value=\"{{ $item->id }}\">{{ $item->name }}</option>\n-                                                            @endforeach\n-                                                        </select>\n-                                                        @error('status_id')\n-                                                        <span class=\"text-danger\">{{ $message }}</span>\n-                                                        @enderror\n-                                                    </div>\n-                                                </div>\n-\n-                                            </div>\n-\n-                                            <div class=\"row\">\n-\n-\n-\n-                                                <div class=\"col-md-3\">\n-                                                <div class=\"form-group\">\n-                                                <label>Date</label>\n-                                                        <input type=\"date\" value=\"{{ isset($shipment->created_date) ? date('Y-m-d', strtotime($shipment->created_date)) : ''}}\" max=\"\"\n-                                                            class=\"form-control\" id=\"propertyname\" name=\"created_date\"\n-                                                            placeholder=\"Enter title\">\n-                                                </div>\n-                                               </div>\n-\n-\n-                                               <div class=\"col-md-3\">\n-                                                <div class=\"form-group\">\n-                                                    <label   for=\"collected_by\"  >Collected By</label>\n-                                                    <select class=\"form-control\" name=\"collected_by\" id=\"collected_by\" required  onchange=\"getRate(this);\">\n-                                                        <option value>Select</option>\n-                                                            <option value=\"driver\"  {{ ($shipment->collected_by== 'driver') ? 'selected' : \"\" }} >Driver</option>\n-                                                            <option value=\"staff\"  {{ ($shipment->collected_by== 'staff') ? 'selected' : \"\" }}>Office</option>\n-\n-                                                    </select>\n-                                                </div>\n-                                            </div>\n-                                            <div class=\"col-md-3\" id=\"driver_or_staff\">\n-                                            @if($shipment->collected_by== 'driver')\n-                                                    <div class=\"form-group\">\n-                                                        <label>Driver Name</label>\n-                                                        <select class=\"form-control\" name=\"driver_id\" required>\n-                                                            <option value=\"\">Selct Driver</option>\n-                                                            @foreach($drivers as $driver)\n-                                                                <option value=\"{{$driver->id}}\" {{ ($shipment->driver_id== $driver->id) ? 'selected' : \"\" }} >{{$driver->name}}</option>\n-                                                            @endforeach\n-                                                        </select>\n-                                                    </div>\n-                                            @else\n-                                                     <div class=\"form-group\">\n-                                                        <label>Staff Name</label>\n-                                                        <select class=\"form-control\" name=\"staff_id\"  required>\n-                                                            <option value=\"\">Selct Driver</option>\n-                                                            @foreach($staffs as $staff)\n-                                                                <option value=\"{{$staff->id}}\" {{ ($shipment->staff_id== $staff->id) ? 'selected' : \"\" }} >{{$staff->full_name}}</option>\n-                                                            @endforeach\n-                                                        </select>\n-                                                    </div>\n-\n-                                            @endif\n-                                            </div>\n-\n-\n-                                                 <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>LRL Tracking Code</label>\n-                                                        <input type=\"text\" name=\"lrl_tracking_code\" value=\"{{$shipment->lrl_tracking_code}}\"\n-                                                            class=\"form-control\">\n-                                                    </div>\n-                                                </div>\n-                                            </div>\n-\n-                                            <div class=\"row\">\n-                                                <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>Delivery Type</label>\n-                                                        <select class=\"form-control\" name=\"delivery_type\" id=\"delivery_type\" required>\n-                                                            <option value>Select</option>\n-                                                                <option value=\"door_to_door\" {{ ($shipment->delivery_type== 'door_to_door') ? 'selected' : \"\" }} >Door To Door</option>\n-                                                                <option value=\"door_to_port\" {{ ($shipment->delivery_type==  'door_to_port') ? 'selected' : \"\" }}>Door To Port</option>\n-\n-                                                        </select>\n-\n-\n-                                                    </div>\n-                                                </div>\n-\n-\n-                                                <div class=\"col-lg-2\">\n-                                                    <div class=\"form-group\">\n-                                                        <label for=\"propertyname\">Time</label>\n-                                                        <input type=\"time\" name=\"time\" value=\"{{!empty($shipment)?$shipment->time:'' }}\" class=\" form-control\"\n-                                                            id=\"propertyname1\" required\n-                                                            placeholder=\"Select Time\" autocomplete=\"off\" id=\"setTimeExample\">\n-                                                    </div>\n-\n-\n-                                                </div>\n-\n-                                                <div class=\"col-lg-2\">\n-                                                    <div class=\"form-group\">\n-                                                        <label for=\"propertyname\">Value of Goods</label>\n-                                                        <input type=\"text\" name=\"value_of_goods\"  class=\"  form-control\"\n-                                                            id=\"propertyname1\"\n-                                                            placeholder=\"Value of Goods\"\n-                                                            value=\"{{$shipment->value_of_goods}}\"\n-                                                            >\n-                                                    </div>\n-                                                </div>\n-\n-                                                <div class=\"col-lg-4\">\n-                                                    <div class=\"form-group\">\n-                                                        <label for=\"propertyname\">Special remarks</label>\n-                                                        <textarea type=\"text\" name=\"special_remarks\"  class=\"  form-control\"\n-                                                            id=\"propertyname1\"\n-                                                            style=\"height: 38px;\"\n-                                                            maxlength=\"400\"\n-                                                            placeholder=\"Special remarks\"\n-                                                            >{{$shipment->special_remarks}}</textarea>\n-                                                    </div>\n-                                                </div>\n-\n-                                            </div>\n-\n-\n-\n-\n-                                            <div class=\"row mb-5\">\n-                                                <!-- <div class=\"col-md-3\">\n-                                                    <div class=\"form-group\">\n-                                                        <label>LRL Tracking Code</label>\n-                                                        <input type=\"text\" name=\"lrl_tracking_code\" value=\"{{$shipment->lrl_tracking_code}}\"\n-                                                            class=\"form-control\">\n-                                                    </div>\n-                                                </div>  -->\n-                                            </div>\n-\n-                                            {{-- <div id=\"Container\"> </div> --}}\n-\n-                                            <!-- <button type=\"button\" id=\"addBox\" class=\"btn btn-success\">Add Box\n-                                                        </button>  -->\n-\n-\n-                                                <?php\n-                                                    $grand_total_qty = 0;\n-                                                    $grand_total_amount =0;\n-                                                    $box_total_value = 0;\n-                                                    $ik = count($boxes);\n-                                                ?>\n-                                                @foreach($boxes as $i => $box)\n-                                                <?php\n-                                                        $total_qty = 0;\n-                                                        $total_amount =0;\n-                                                        $box_total_value = $box->total_value;\n-\n-                                                ?>\n-\n-                                                <div id=\"newBoxContainer{{$i+1}}\" class=\"boxcount\">\n-                                                <div class=\"package col-md-12\"  id=\"package_ID\" >\n-                                                    <div class=\"header row\">\n-                                                        <div class=\"col-md-6\"  style=\"float:left\">\n-                                                        <h5 class=\"packageinfo-head\"  data-myattri=\"{{$i+1}}\">Box - {{$box->box_name}}</h5>\n-                                                        <input type=\"hidden\" name=\"box_name{{$i+1}}\"   data-myattri=\"{{$i+1}}\" class=\"box_name\" value=\"{{$box->box_name}}\" />\n-                                                        </div>\n-                                                        <div class=\"col-md-6 text-right pb-2\" style=\"float:left\">\n-                                                        <button type=\"button\" id=\"addpackage{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-success addpackage\">Add Items</button>\n-                                                        <button type=\"button\" id=\"removeBox{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-danger removeBox\">Delete Box</button>\n-\n-                                                        </div>\n-                                                    </div>\n-                                                    <div class=\"col-md-2\">\n-                                                            <div class=\"form-group\">\n-                                                                <label>Weight</label>\n-                                                                <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{ $box->weight }}\" class=\"form-control weight\">\n-                                                                {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n-                                                            </div>\n-                                                        </div>\n-                                                        <div class=\"row\">\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                         \n-                                            <div class=\"row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Sender/Customer</label>\n-                                                    <select name=\"box_sender_id{{$i+1}}\" id=\"box_sender_id{{$i+1}}\" class=\"form-control select2\">\n-                                                        @foreach (get_customers('sender') as $sender)\n-                                                            <option value=\"{{ $sender->id }}\"\n-                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n-                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n-                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n-                                                        data-name=\"{{$sender->name ?? ''}}\"\n-                                                        data-email=\"{{$sender->email ?? ''}}\"\n-                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n-                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n-                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n-                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n-                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n-                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n-                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n-                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n-                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n-                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n-                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n-                                                        </option>\n-                                                        @endforeach\n-                                                    </select>\n-                                                    @error('sender_id')\n-                                                    <span class=\"text-danger\">{{ $message }}</span>\n-                                                    @enderror\n-\n-                                                </div>\n-                                                <div class=\"col-md-2\">\n-                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n-                                                </div>\n-\n-                                            </div>\n-                 \n-                                        </div>\n-                                        <div class=\"col-lg-6 col-md-12\">\n-                                            \n-                                            <div class=\" row\">\n-                                                <div class=\"form-group col-md-10\">\n-                                                    <label>Receiver/Customer</label>\n                                                     <select name=\"box_receiver_id{{$i+1}}\" id=\"box_receiver_id{{$i+1}}\"\n                                                             class=\"form-control select2\">\n                                                         @foreach (get_customers('receiver') as $receiver)\n                                                             <option value=\"{{ $receiver->id }}\"\n"
                },
                {
                    "date": 1733311697742,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -556,13 +556,16 @@\n                                                     @enderror\n \n                                                 </div>\n                                                 <div class=\"col-md-2\">\n-                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                class=\"fa fa-plus\"></i></button>\n-                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n-                                                            class=\"fa fa-pen\"></i></button>\n+                                                    <a href=\"{{ route('addSender', ['id' => $i+1]) }}\" id=\"AddSender{{ $i+1 }}\" class=\"btn btn-primary mt-sm-4\">\n+                                                        <i class=\"fa fa-plus\"></i>\n+                                                    </a>\n+                                                    <a href=\"{{ route('editSender', ['id' => $i+1]) }}\" id=\"EditSender{{ $i+1 }}\" class=\"btn btn-primary mt-sm-4\">\n+                                                        <i class=\"fa fa-pen\"></i>\n+                                                    </a>\n                                                 </div>\n+                                                \n \n                                             </div>\n                  \n                                         </div>\n"
                },
                {
                    "date": 1733311713117,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -556,16 +556,13 @@\n                                                     @enderror\n \n                                                 </div>\n                                                 <div class=\"col-md-2\">\n-                                                    <a href=\"{{ route('addSender', ['id' => $i+1]) }}\" id=\"AddSender{{ $i+1 }}\" class=\"btn btn-primary mt-sm-4\">\n-                                                        <i class=\"fa fa-plus\"></i>\n-                                                    </a>\n-                                                    <a href=\"{{ route('editSender', ['id' => $i+1]) }}\" id=\"EditSender{{ $i+1 }}\" class=\"btn btn-primary mt-sm-4\">\n-                                                        <i class=\"fa fa-pen\"></i>\n-                                                    </a>\n+                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                class=\"fa fa-plus\"></i></button>\n+                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n+                                                            class=\"fa fa-pen\"></i></button>\n                                                 </div>\n-                                                \n \n                                             </div>\n                  \n                                         </div>\n"
                }
            ],
            "date": 1733309624070,
            "name": "Commit-0",
            "content": "@extends('layouts.app')\n\n@section('content')\n@section('styles')\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/css/select2.min.css\" rel=\"stylesheet\" />\n@endsection\n<style>\n.boxContainer{\n    border:1px solid black;\n    padding:5px;\n    margin-top:5px;\n}\n\n\n*{padding:0;margin:0;}\n\nbody{\n\tfont-family:Verdana, Geneva, sans-serif;\n\tfont-size:18px;\n}\n\n.float{\n\tposition:fixed;\n\twidth:60px;\n\theight:60px;\n\tbottom:220px;\n\t/* left:320px;*/\n\tright:20px;\n\tbackground-color:#0C9;\n\tcolor:#FFF;\n\t/* border-radius:50px; */\n\ttext-align:center;\n\tbox-shadow: 2px 2px 3px #999;\n}\n\n.my-float{\n\tmargin-top:22px;\n}\n\n.save{\n    position:fixed;\n\twidth:60px;\n\theight:60px;\n\tbottom:300px;\n\t/* left:320px; */\n\tright:20px;\n\tbackground-color:#cc5100;\n\tcolor:#FFF;\n\t/* border-radius:50px; */\n\ttext-align:center;\n\tbox-shadow: 2px 2px 3px #999;\n}\n\n.my-save{\n\tmargin-top:22px;\n}\n.box_details .form-group{\n        margin-bottom: 0rem;\n}\n/* Increase the height of the dropdown */\n.select2-results__options {\n            max-height: 200px; /* Adjust this value as needed */\n        }\n\n        /* Increase the height of the select box */\n        .select2-container--default .select2-selection--single {\n            height: 40px; /* Adjust this value as needed */\n            display: flex;\n            align-items: center;\n        }\n\n        .select2-container--default .select2-selection--single .select2-selection__rendered {\n            line-height: 40px; /* Adjust this value as needed */\n        }\n\n        .select2-container--default .select2-selection--single .select2-selection__arrow {\n            height: 38px; /* Adjust this value as needed */\n        }\n</style>\n    <div class=\"content-page\" id=\"content-page\">\n        <div class=\"content\">\n\n            <!-- Start Content-->\n            <div class=\"container-fluid\">\n\n                <!-- start page title -->\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"page-title-box\">\n                            <div class=\"page-title-right\">\n                                {!! breadcrumbs() !!}\n                            </div>\n                            <h4 class=\"page-title\">{{page_title()}}</h4>\n                        </div>\n                    </div>\n                </div>\n                <!-- end page title -->\n\n<a href=\"javascript:void();\" class=\"float\" id=\"addBox\" title=\"Add Box\">\n<i class=\"fa fa-plus my-float\"></i>\n</a>\n\n<a href=\"javascript:void();\" class=\"save\" id=\"saveDraft\" title=\"Save as Draft\">\n<i class=\"fa fa-save my-save\"></i>\n</a>\n\n                <div class=\"row\">\n                    <div class=\"col-md-12\">\n                        <div class=\"card-box\">\n\n                        <form action=\"{{update_url($shipment->id)}}\" id=\"edititemsstore\" method=\"post\" enctype=\"multipart/form-data\" >\n                                @method('PUT')\n                                @csrf\n                                <div class=\"col-md-12\">  <!--  col-12- start-->\n                                    <div class=\"header\">\n                                        <h4>Basic Info</h4>\n                                    </div>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-6\" id=\"bookingNumberSection\">\n                                            <div class=\"form-group\">\n                                                <label>Booking No.</label>\n                                                <input type=\"text\" name=\"booking_number\"\n                                                       value=\"{{ $shipment->booking_number }}\" class=\"form-control\"\n                                                       required readonly\n                                                       id=\"booking_no_uniq\"\n                                                       style=\"readonly !important; }}\">\n                                                @error('booking_number')\n                                                <span class=\"text-danger\">{{ $message }}</span>\n                                                @enderror\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div class=\"form-group\">\n                                                <label>Branch List</label>\n                                                <select autofocus name=\"branch_id\" id=\"branch_id\"\n                                                        class=\"form-control\">\n                                                        @foreach ($branches as $branch)\n                                                        <option\n                                                            {{   ($shipment->branch_id==$branch->id ) ? 'selected' : \"\" }} value=\"{{ $branch->id }}\">{{ $branch->name }}</option>\n                                                    @endforeach\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"row\">\n                                        <div class=\"col-lg-6 col-md-12\">\n                                            <h4>Sender Info</h4>\n                                            <div class=\"row\">\n                                                <div class=\"form-group col-md-10\">\n                                                    <label>Sender/Customer</label>\n                                                    <select name=\"sender_id\" id=\"sender_id\" class=\"form-control select2\" required>\n                                                        <option value='' selected=\"selected\">Select</option>\n                                                        @foreach (get_customers('sender')->where('branch_id', branch()->id) as $sender)\n                                                        <option value=\"{{ $sender->id }}\"\n                                                        {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }}\n                                                        data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n                                                        data-name=\"{{$sender->name ?? ''}}\"\n                                                        data-email=\"{{$sender->email ?? ''}}\"\n                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n                                                         data-post=\"{{$sender->post ?? ''}}\"\n                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n                                                </option>\n                                                        @endforeach\n                                                    </select>\n                                                    @error('sender_id')\n                                                    <span class=\"text-danger\">{{ $message }}</span>\n                                                    @enderror\n\n                                                </div>\n\n\n                                                <div class=\"col-md-2\">\n                                                    <button type=\"button\" id=\"AddSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                            class=\"fa fa-plus\"></i></button>\n                                                            <button type=\"button\" id=\"EditSender\" class=\"btn btn-primary mt-sm-4\"><i\n                                                            class=\"fa fa-pen\"></i></button>\n                                                </div>\n\n                                            </div>\n                                            <div class=\"row form-group col-md-12\">\n                                                <label>Sender Address</label>\n                                                <input readonly type=\"text\" id=\"sender_address\" value=\"{{$shipment->sender->address->address??\"\"}}\" class=\"form-control\">\n                                            </div>\n\n                                            <div class=\"row form-group col-md-12\">\n                                                <label>Sender Phone</label>\n                                                <input readonly type=\"text\" id=\"sender_phone\" value=\"{{$shipment->sender->phone??\"\"}}\" class=\"form-control\">\n                                            </div>\n                                        </div>\n                                        <div class=\"col-lg-6 col-md-12\">\n                                            <div class=\"header\">\n                                                <h4>Receiver Info</h4>\n                                            </div>\n                                            <div class=\" row\">\n                                                <div class=\"form-group col-md-10\">\n                                                    <label>Receiver/Customer</label>\n                                                    <select name=\"receiver_id\" id=\"receiver_id\" class=\"form-control select2\" required>\n                                                    <option value='' selected=\"selected\">Select</option>\n                                                    @foreach (get_customers('receiver')->where('branch_id', branch()->id) as $receiver)\n                                                    <option value=\"{{ $receiver->id }}\"\n                                                    {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n                                                        data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n                                                        data-name=\"{{$receiver->name ?? ''}}\"\n                                                        data-email=\"{{$receiver->email ?? ''}}\"\n                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n                                                          data-post=\"{{$receiver->post ?? ''}}\"\n                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n                                                </option>\n                                                    @endforeach\n                                                </select>\n                                                    @error('receiver_id')\n                                                    <span class=\"text-danger\">{{ $message }}</span>\n                                                    @enderror\n                                                </div>\n                                                <div class=\"col-md-2\">\n                                                    <button type=\"button\" id=\"AddReceiver\" class=\"btn btn-primary mt-4\"><i\n                                                            class=\"fa fa-plus\"></i></button>\n                                                            <button type=\"button\" id=\"EditReceiver\" class=\"btn btn-primary mt-4\"><i\n                                                            class=\"fa fa-pen\"></i></button>   \n                                                </div>\n                                            </div>\n                                            <div class=\"row form-group col-md-12\">\n                                                <label>Receiver Address</label>\n                                                <input readonly type=\"text\"  value=\"{{$shipment->receiver->address->address??\"\"}}\" id=\"receiver_address\" class=\"form-control\">\n                                            </div>\n\n                                            <div class=\"row form-group col-md-12\">\n                                                <label>Receiver Phone</label>\n                                                <input readonly type=\"text\"  value=\"{{$shipment->receiver->phone??\"\"}}\" id=\"receiver_phone\" class=\"form-control\">\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"col-md-12\">\n                                        <div class=\"header\">\n                                            <h4>Shipping Info</h4>\n                                        </div>\n                                        <div class=\"body\">\n                                            <div class=\"row\">\n                                                <!-- <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>Receipt Number</label>\n                                                        <input type=\"text\"   class=\"form-control\"\n                                                            name=\"receipt_number\" value=\"{{$shipment->receipt_number}}\">\n                                                    </div>\n                                                </div> -->\n                                                <!-- <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>Packaging Type</label>\n                                                        <input type=\"text\"   name=\"packing_type\"\n                                                            class=\"form-control\" value=\"{{$shipment->packing_type}}\">\n                                                    </div>\n                                                </div> -->\n                                                <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>Courier Company</label>\n                                                        <select name=\"agency_id\"  class=\"form-control\">\n                                                        @foreach ($agencies as $agency)\n                                                        <option\n                                                            {{   ($shipment->agency_id==$agency->id ) ? 'selected' : \"\" }} value=\"{{ $agency->id }}\">{{ $agency->name }}</option>\n                                                        @endforeach\n                                                        <!-- <option value=\"Best Express\"> Best Express</option> -->\n                                                    </select>\n\n                                                    </div>\n                                                </div>\n                                                <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>Shipping Methods</label>\n                                                        <select name=\"shiping_method\" class=\"form-control\" id=\"shiping_method\"  onchange=\"getVolume(this);\" required>\n                                                        <option value=\"\" data-shipTypeId=\"\"> Select </option>\n                                                            @foreach( $ship_types as $key => $shipping_type )\n                                                            <option {{ ($shipment->shipping_method_id==$shipping_type->id ) ? 'selected' : \"\" }}  value=\"{{$shipping_type->id}}\" data-shipTypeId=\"{{$shipping_type->id}}\">{{$shipping_type->name}}</option>\n                                                            @endforeach\n                                                        </select>\n\n                                                        <input type=\"hidden\" name=\"shipping_method_id\" value=\"\"  id=\"shipping_method_id\"/>\n\n                                                           <?php /*\n\n                                                            {{ ($shipment->shiping_method== $shipping_type->value) ? 'selected' : \"\" }}\n\n                                                            <option\n                                                                {{ ($shipping_type->shiping_method=='Air') ? 'selected' : \"\" }} value=\"Air\">\n                                                                Air\n                                                            </option>\n                                                            <option\n                                                                {{ ($shipping_type->shiping_method=='Sea') ? 'selected' : \"\" }} value=\"Sea\">\n                                                                Sea\n                                                            </option>\n                                                            <option\n                                                                {{ ($shipping_type->shiping_method=='Road') ? 'selected' : \"\" }} value=\"Road\">\n                                                                Road\n                                                            </option>\n                                                            */?>\n\n\n\n                                                    </div>\n                                                </div>\n                                                <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>Payment Method</label>\n                                                        <select name=\"payment_method\" class=\"form-control\" id=\"\">\n                                                            <option\n                                                                {{ ($shipment->payment_method=='cash_payment') ? 'selected' : \"\" }} value=\"cash_payment\">\n                                                                Cash Payment\n                                                            </option>\n                                                            <option\n                                                                {{ ($shipment->payment_method=='credit') ? 'selected' : \"\" }} value=\"credit\">\n                                                                Credit\n                                                            </option>\n                                                            <option\n                                                                {{ ($shipment->payment_method=='bank') ? 'selected' : \"\" }} value=\"bank\">\n                                                                Bank\n                                                            </option>\n                                                        </select>\n\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>Status</label>\n                                                        <select name=\"status_id\" class=\"form-control\" id=\"\" required>\n                                                        <option value=\"\">--- Select Status ---</option>\n                                                            @foreach ( status_list_admin() as $item)\n                                                                <option\n                                                                    {{ ($shipment->status_id==$item->id) ? 'selected' : \"\" }} value=\"{{ $item->id }}\">{{ $item->name }}</option>\n                                                            @endforeach\n                                                        </select>\n                                                        @error('status_id')\n                                                        <span class=\"text-danger\">{{ $message }}</span>\n                                                        @enderror\n                                                    </div>\n                                                </div>\n\n                                            </div>\n\n                                            <div class=\"row\">\n\n\n\n                                                <div class=\"col-md-3\">\n                                                <div class=\"form-group\">\n                                                <label>Date</label>\n                                                        <input type=\"date\" value=\"{{ isset($shipment->created_date) ? date('Y-m-d', strtotime($shipment->created_date)) : ''}}\" max=\"\"\n                                                            class=\"form-control\" id=\"propertyname\" name=\"created_date\"\n                                                            placeholder=\"Enter title\">\n                                                </div>\n                                               </div>\n\n\n                                               <div class=\"col-md-3\">\n                                                <div class=\"form-group\">\n                                                    <label   for=\"collected_by\"  >Collected By</label>\n                                                    <select class=\"form-control\" name=\"collected_by\" id=\"collected_by\" required  onchange=\"getRate(this);\">\n                                                        <option value>Select</option>\n                                                            <option value=\"driver\"  {{ ($shipment->collected_by== 'driver') ? 'selected' : \"\" }} >Driver</option>\n                                                            <option value=\"staff\"  {{ ($shipment->collected_by== 'staff') ? 'selected' : \"\" }}>Office</option>\n\n                                                    </select>\n                                                </div>\n                                            </div>\n                                            <div class=\"col-md-3\" id=\"driver_or_staff\">\n                                            @if($shipment->collected_by== 'driver')\n                                                    <div class=\"form-group\">\n                                                        <label>Driver Name</label>\n                                                        <select class=\"form-control\" name=\"driver_id\" required>\n                                                            <option value=\"\">Selct Driver</option>\n                                                            @foreach($drivers as $driver)\n                                                                <option value=\"{{$driver->id}}\" {{ ($shipment->driver_id== $driver->id) ? 'selected' : \"\" }} >{{$driver->name}}</option>\n                                                            @endforeach\n                                                        </select>\n                                                    </div>\n                                            @else\n                                                     <div class=\"form-group\">\n                                                        <label>Staff Name</label>\n                                                        <select class=\"form-control\" name=\"staff_id\"  required>\n                                                            <option value=\"\">Selct Driver</option>\n                                                            @foreach($staffs as $staff)\n                                                                <option value=\"{{$staff->id}}\" {{ ($shipment->staff_id== $staff->id) ? 'selected' : \"\" }} >{{$staff->full_name}}</option>\n                                                            @endforeach\n                                                        </select>\n                                                    </div>\n\n                                            @endif\n                                            </div>\n\n\n                                                 <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>LRL Tracking Code</label>\n                                                        <input type=\"text\" name=\"lrl_tracking_code\" value=\"{{$shipment->lrl_tracking_code}}\"\n                                                            class=\"form-control\">\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"row\">\n                                                <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>Delivery Type</label>\n                                                        <select class=\"form-control\" name=\"delivery_type\" id=\"delivery_type\" required>\n                                                            <option value>Select</option>\n                                                                <option value=\"door_to_door\" {{ ($shipment->delivery_type== 'door_to_door') ? 'selected' : \"\" }} >Door To Door</option>\n                                                                <option value=\"door_to_port\" {{ ($shipment->delivery_type==  'door_to_port') ? 'selected' : \"\" }}>Door To Port</option>\n\n                                                        </select>\n\n\n                                                    </div>\n                                                </div>\n\n\n                                                <div class=\"col-lg-2\">\n                                                    <div class=\"form-group\">\n                                                        <label for=\"propertyname\">Time</label>\n                                                        <input type=\"time\" name=\"time\" value=\"{{!empty($shipment)?$shipment->time:'' }}\" class=\" form-control\"\n                                                            id=\"propertyname1\" required\n                                                            placeholder=\"Select Time\" autocomplete=\"off\" id=\"setTimeExample\">\n                                                    </div>\n\n\n                                                </div>\n\n                                                <div class=\"col-lg-2\">\n                                                    <div class=\"form-group\">\n                                                        <label for=\"propertyname\">Value of Goods</label>\n                                                        <input type=\"text\" name=\"value_of_goods\"  class=\"  form-control\"\n                                                            id=\"propertyname1\"\n                                                            placeholder=\"Value of Goods\"\n                                                            value=\"{{$shipment->value_of_goods}}\"\n                                                            >\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"col-lg-4\">\n                                                    <div class=\"form-group\">\n                                                        <label for=\"propertyname\">Special remarks</label>\n                                                        <textarea type=\"text\" name=\"special_remarks\"  class=\"  form-control\"\n                                                            id=\"propertyname1\"\n                                                            style=\"height: 38px;\"\n                                                            maxlength=\"400\"\n                                                            placeholder=\"Special remarks\"\n                                                            >{{$shipment->special_remarks}}</textarea>\n                                                    </div>\n                                                </div>\n\n                                            </div>\n\n\n\n\n                                            <div class=\"row mb-5\">\n                                                <!-- <div class=\"col-md-3\">\n                                                    <div class=\"form-group\">\n                                                        <label>LRL Tracking Code</label>\n                                                        <input type=\"text\" name=\"lrl_tracking_code\" value=\"{{$shipment->lrl_tracking_code}}\"\n                                                            class=\"form-control\">\n                                                    </div>\n                                                </div>  -->\n                                            </div>\n\n                                            {{-- <div id=\"Container\"> </div> --}}\n\n                                            <!-- <button type=\"button\" id=\"addBox\" class=\"btn btn-success\">Add Box\n                                                        </button>  -->\n\n\n                                                <?php\n                                                    $grand_total_qty = 0;\n                                                    $grand_total_amount =0;\n                                                    $box_total_value = 0;\n                                                    $ik = count($boxes);\n                                                ?>\n                                                @foreach($boxes as $i => $box)\n                                                <?php\n                                                        $total_qty = 0;\n                                                        $total_amount =0;\n                                                        $box_total_value = $box->total_value;\n\n                                                ?>\n\n                                                <div id=\"newBoxContainer{{$i+1}}\" class=\"boxcount\">\n                                                <div class=\"package col-md-12\"  id=\"package_ID\" >\n                                                    <div class=\"header row\">\n                                                        <div class=\"col-md-6\"  style=\"float:left\">\n                                                        <h5 class=\"packageinfo-head\"  data-myattri=\"{{$i+1}}\">Box - {{$box->box_name}}</h5>\n                                                        <input type=\"hidden\" name=\"box_name{{$i+1}}\"   data-myattri=\"{{$i+1}}\" class=\"box_name\" value=\"{{$box->box_name}}\" />\n                                                        </div>\n                                                        <div class=\"col-md-6 text-right pb-2\" style=\"float:left\">\n                                                        <button type=\"button\" id=\"addpackage{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-success addpackage\">Add Items</button>\n                                                        <button type=\"button\" id=\"removeBox{{$i+1}}\" data-myattri=\"{{$i+1}}\"  class=\"btn btn-danger removeBox\">Delete Box</button>\n\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-2\">\n                                                            <div class=\"form-group\">\n                                                                <label>Weight</label>\n                                                                <input type=\"text\" name=\"weight{{$i+1}}\" value=\"{{ $box->weight }}\" class=\"form-control weight\">\n                                                                {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"row\">\n                                        <div class=\"col-lg-6 col-md-12\">\n                                         \n                                            <div class=\"row\">\n                                                <div class=\"form-group col-md-10\">\n                                                    <label>Sender/Customer</label>\n                                                    <select name=\"box_sender_id{{$i+1}}\" id=\"box_sender_id{{$i+1}}\" class=\"form-control select2\">\n                                                        @foreach (get_customers('sender') as $sender)\n                                                            <option value=\"{{ $sender->id }}\"\n                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n                                                        data-name=\"{{$sender->name ?? ''}}\"\n                                                        data-email=\"{{$sender->email ?? ''}}\"\n                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n                                                        </option>\n                                                        @endforeach\n                                                    </select>\n                                                    @error('sender_id')\n                                                    <span class=\"text-danger\">{{ $message }}</span>\n                                                    @enderror\n\n                                                </div>\n                                                <div class=\"col-md-2\">\n                                                <button type=\"button\" id=\"AddSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                class=\"fa fa-plus\"></i></button>\n                                                            <button type=\"button\" id=\"EditSender{{$i+1}}\" class=\"btn btn-primary mt-sm-4\"><i\n                                                            class=\"fa fa-pen\"></i></button>\n                                                </div>\n\n                                            </div>\n                 \n                                        </div>\n                                        <div class=\"col-lg-6 col-md-12\">\n                                            \n                                            <div class=\" row\">\n                                                <div class=\"form-group col-md-10\">\n                                                    <label>Receiver/Customer</label>\n                                                    <select name=\"box_receiver_id{{$i+1}}\" id=\"box_receiver_id{{$i+1}}\"\n                                                            class=\"form-control select2\">\n                                                        @foreach (get_customers('receiver') as $receiver)\n                                                            <option value=\"{{ $receiver->id }}\"\n                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n                                                        data-name=\"{{$receiver->name ?? ''}}\"\n                                                        data-email=\"{{$receiver->email ?? ''}}\"\n                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n                                                            </option>\n                                                        @endforeach\n                                                    </select>\n                                                    @error('receiver_id')\n                                                    <span class=\"text-danger\">{{ $message }}</span>\n                                                    @enderror\n                                                </div>\n                                                <div class=\"col-md-2\">\n                                                    <button type=\"button\" id=\"AddReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n                                                            class=\"fa fa-plus\"></i></button>\n                                                            <button type=\"button\" id=\"EditReceiver{{$i+1}}\" class=\"btn btn-primary mt-4\"><i\n                                                            class=\"fa fa-pen\"></i></button>\n                                                </div>\n                                            </div>\n                                            \n                                        </div>\n                                    </div> \n                                                    <div class=\"body box_und_calc\" id=\"packageinfo{{$i+1}}\" >\n                                                        <table class=\"table table-bordered packageinfo{{$i+1}}\">\n                                                            @foreach($box->packages as $j => $package)\n\n                                                            <tr>\n                                                            <td width=\"2%\">\n                                                              <span class=\"form-control border-0\">{{$j+1}}</span>\n                                                            </td>\n                                                                <td width=\"40%\">\n                                                                    <input type=\"text\" placeholder=\"Enter description\"\n                                                                        name=\"description{{$i+1}}[]\" value=\"{{$package->description}}\"\n                                                                        class=\"form-control descriptions\" >\n                                                                </td>\n                                                                <td>\n                                                                    <input type=\"number\" placeholder=\"Enter quantity\"\n                                                                        name=\"qty{{$i+1}}[]\" value=\"{{$package->quantity}}\"\n                                                                        class=\"form-control qty\">\n\n\n                                                                </td>\n                                                                <td>\n                                                                    <input type=\"number\" placeholder=\"Enter unit price\"\n                                                                        name=\"unit{{$i+1}}[]\" value=\"{{$package->unit_price}}\"\n                                                                        class=\"form-control unit\" data-myattri=\"{{$i+1}}\" step=\"0.01\">\n\n                                                                </td>\n                                                                <td>\n                                                                    <input type=\"text\" name=\"subtotal{{$i+1}}[]\" readonly\n                                                                        class=\"form-control value pkg-subtotal\"  value=\"{{$package->subtotal}}\">\n                                                                </td>\n\n                                                                <td><button type=\"button\"  class=\"remove btn btn-danger\" data-remove=\"{{$i+1}}\" data-myAttri=\"{{$i+1}}\" >X</button></td>\n\n                                                            </tr>\n                                                            <?php\n                                                            $total_qty += $package->quantity;\n                                                            $total_amount += $package->subtotal;\n\n                                                            $grand_total_qty  += $package->quantity;\n                                                            $grand_total_amount += $package->subtotal;\n                                                            ?>\n                                                            @endforeach\n                                                        </table>\n                                                    </div>\n\n                                                    <div class=\"body\">\n                                                        <table class=\"table table-bordered\">\n                                                            <tr>\n                                                                <td width=\"20%\"> </td>\n                                                                <td width=\"20%\"><h6>Total Quantity: </h6></td>\n                                                                <td width=\"20%\"><h6><span id=\"totalqty{{$i+1}}\" class=\"rtotqty\">{{$total_qty }}</span></h6></td>\n\n                                                                <td width=\"20%\"><h6>Total Value : </h6></td>\n                                                                <td width=\"20%\"><h6><span id=\"totalAmt{{$i+1}}\" class=\"package-total-amount  rtotamt\">{{ $total_amount }}</span></h6></td>\n\n                                                            </tr>\n                                                        </table>\n                                                    </div>\n\n\n                                                    <div class=\"body\" id=\"boxDimension\">\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-2 box-title\">\n                                                            <h5></h5>\n                                                        </div>\n                                                        </div>\n                                                        <div class=\"row\" style=\"display: none;\">\n                                                            <input type=\"hidden\" name=\"box_id{{$i+1}}\" value=\"{{$box->id}}\" />\n\n                                                            <div class=\"col-md-2\" >\n                                                                <div class=\"form-group\">\n                                                                    <label>Length x Width x Height</label>\n                                                                    <select name='dimension{{$i+1}}' data-no='{{$i+1}}' class='form-control box-dimension' required   onchange=\"getval(this);\">\n                                                                        <option value=''>select</option>\n                                                                        <option value='2' selected>45 x 45 x 45</option>\n                                                                        {{-- @foreach($dimensions as $dimension)\n                                                                        <option value='{{$dimension->id}}'\n                                                                        {{ ($box->box_dimension_id== $dimension->id) ? 'selected' : \"\" }}\n                                                                        data-id='{{$dimension->id}}'>{{$dimension->length}} x {{$dimension->width}} x {{$dimension->height}}</option>\n                                                                        @endforeach --}}\n                                                                        <option {{ ($box->box_dimension_id == 0 ) ? 'selected' : \"\" }} value='0'>Other</option>\n\n                                                                    </select>\n                                                                </div>\n                                                            </div>\n\n                                                            <!-- Start other -->\n                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_length{{$i+1}}\">\n                                                                <div class=\"form-group\">\n                                                                    <label>Length</label>\n                                                                    <input type=\"text\" name=\"other_length{{$i+1}}\" data-no=\"{{$i+1}}\" value=\"{{$box->other_length}}\" class=\"form-control other_length\"   onkeyup=\"getValOther(this);\">\n                                                                </div>\n                                                                </div>\n                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_width{{$i+1}}\">\n                                                                <div class=\"form-group\">\n                                                                    <label>Width</label>\n                                                                    <input type=\"text\" name=\"other_width{{$i+1}}\" data-no=\"{{$i+1}}\" value=\"{{$box->other_width}}\" class=\"form-control other_width\"   onkeyup=\"getValOther(this);\">\n                                                                </div>\n                                                                </div>\n                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_height{{$i+1}}\">\n                                                                <div class=\"form-group\">\n                                                                    <label>Height</label>\n                                                                    <input type=\"text\" name=\"other_height{{$i+1}}\"  data-no=\"{{$i+1}}\" value=\"{{$box->other_height}}\" class=\"form-control other_height\"   onkeyup=\"getValOther(this);\">\n                                                                </div>\n                                                                </div>\n\n                                                                <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? '' : 'd-none' }}\" id=\"other_select{{$i+1}}\">\n                                                                <div class=\"form-group\">\n                                                                    <label>Select</label>\n                                                                    <input type=\"text\" name=\"other_select{{$i+1}}\"  data-no=\"{{$i+1}}\" value=\"{{$box->other_select}}\" class=\"form-control other_select\"   onkeyup=\"getValOther(this);\">\n                                                                </div>\n                                                                </div>   `\n                                                            <!-- End other -->\n\n                                                            <div class=\"col-md-2 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }} \" id=\"packing{{$i+1}}\">\n                                                                <div class=\"form-group\">\n                                                                    <label>Packing</label>\n                                                                    <select name='packing{{$i+1}}' data-no='{{$i+1}}' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n                                                                      \n                                                                        <option value='2' selected >Cargo Packing</option>\n                                                                    </select>\n                                                                </div>\n\n                                                            </div>\n\n                                                            <div class=\"col-md-1 {{ ($box->box_dimension_id == 0)? 'd-none' : '' }}\" id=\"selectVolume{{$i+1}}\">\n                                                                <div class=\"form-group\">\n                                                                    <label>Select</label>\n                                                                        <select name='volume{{$i+1}}' data-no='{{$i+1}}' class='form-control ' required   onchange=\"getval(this);\">\n                                                                            <option value='6000' selected >6000</option>\n                                                                            {{-- <option value='5000'   {{ ($shipment->shiping_method== '5000') ? 'selected' : \"\" }}>5000</option>\n                                                                            <option value='6000'  {{ ($shipment->shiping_method== '6000') ? 'selected' : \"\" }}>6000</option>\n                                                                            <option value='1000000' {{ ($shipment->shiping_method== '1000000') ? 'selected' : \"\" }}>1000000</option> --}}\n                                                                        </select>\n                                                                </div>\n                                                            </div>\n\n                                                        <div class=\"col-md-1\">\n                                                            <div class=\"form-group\">\n                                                                <label>Volume</label>                                                              \n                                                                <input type=\"text\" name=\"unit_value{{$i+1}}\" value=\"15.19\" class=\"form-control box-unit-value\" data-unit-value=\"{{$i+1}}\">\n\n                                                            </div>\n                                                        </div>\n                                                      \n                                                        <div class=\"col-md-1\">\n                                                            <div class=\"form-group\">\n                                                                <label>Rate</label>\n                                                                {{-- <input type=\"text\" name=\"rate{{$i+1}}\" value=\"{{$box->rate}}\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\"> --}}\n                                                                <input type=\"text\" name=\"rate{{$i+1}}\" value=\"20\" class=\"form-control box-rate\"  data-rate=\"{{$i+1}}\">\n                                                            </div>\n                                                        </div>\n\n                                                        <div class=\"col-md-2\">\n                                                            <div class=\"form-group\">\n                                                                <label>Total Amount</label>\n                                                                <input type=\"text\" name=\"total_value{{$i+1}}\" value=\"{{$box->total_value}}\" class=\"form-control box-total-value total\" readonly>\n                                                                <!-- <input type=\"hidden\" name=\"box_name{{$i+1}}\" value=\"{{$box->box_name}}\" class=\"form-control box_name\"> -->\n                                                            </div>\n                                                        </div>\n\n                                                        <div class=\"col-md-2\" id=\"box_packing_charge{{$i+1}}\">\n                                                        <div class=\"form-group\">\n                                                            <label>Packing charge</label>\n                                                            {{-- <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"{{$box->box_packing_charge}}\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/> --}}\n                                                            <input type=\"text\" name=\"box_packing_charge{{$i+1}}\" value=\"20\"  data-no='{{$i+1}}' class='form-control box_packing_charge'/>\n\n                                                        </div>\n                                                        </div>\n\n                                                    </div>\n                                                </div>\n\n\n                                                </div>\n                                                </div>\n                                                <?php $ik = $ik -1; ?>\n                                                @endforeach\n\n                                                <div id=\"Container\"> </div>\n                                            <hr>\n                                            <div class=\"col-md-8\"  id=\"TotalDiv\" style=\"display:none;\">\n                                                <div class=\"body\">\n                                                    <table class=\"table \" >\n                                                        <tr>\n                                                            <td style=\"border:none;\">\n\n                                                            <div class=\"row pt-2\">\n                                                                    <div class=\"col-md-6\"  >\n\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                    <label>Quantity</label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                    <label>Unit Rate</label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                    <label>Amount</label>\n                                                                    </div>\n                                                                </div>\n\n                                                                <div class=\"row pt-2\">\n\n                                                                    <?php\n                                                                     $normal_weight = $shipment->normal_weight - ( ($shipment->msic_weight) + ($shipment->electronics_weight) + ($shipment->other_weight));\n                                                                    ?>\n\n                                                                    <div class=\"col-md-6\" style=\"text-align:right;\" >\n                                                                        <label>Total Weight</label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            {{-- <input type=\"text\" name=\"normal_weight\" value=\"{{$shipment->normal_weight}}\" class=\"form-control \"> --}}\n                                                                            <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $shipment->grand_total_weight }}\" class=\"form-control \" >\n\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"rate_normal_weight\" value=\"{{$shipment->rate_normal_weight}}\" class=\"form-control rate_normal_weight tot_rate\">\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_normal_weight\" value=\"{{$shipment->amount_normal_weight}}\" class=\"form-control tot_amt\" >\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n\n                                                                <div class=\"row pt-2\">\n                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                            <label>Duty</label>\n                                                                        </div>\n                                                                        <div class=\"col-md-2\">\n                                                                            <div class=\"\">\n                                                                                <input type=\"text\" name=\"electronics_weight\"\n                                                                                value=\"{{$shipment->electronics_weight}}\" class=\"form-control electronics_weight tot_wgt\">\n                                                                            </div>\n                                                                        </div>\n                                                                        <div class=\"col-md-2\">\n                                                                            <div class=\"\">\n                                                                                <input type=\"text\" name=\"rate_electronics_weight\" value=\"{{$shipment->rate_electronics_weight}}\" class=\"form-control rate_electronics_weight tot_rate\">\n                                                                            </div>\n                                                                        </div>\n                                                                        <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_electronics_weight\" value=\"{{$shipment->amount_electronics_weight}}\" class=\"form-control tot_amt\">\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n\n                                                                <div class=\"row  pt-2\">\n                                                                        <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                            <label>Packing charge</label>\n                                                                        </div>\n                                                                        <div class=\"col-md-2\"\">\n                                                                            <div class=\"\">\n                                                                                <input type=\"text\" name=\"msic_weight\"\n                                                                                value=\"{{$shipment->msic_weight}}\" class=\"form-control msic_weight tot_wgt\">\n                                                                            </div>\n                                                                        </div>\n\n                                                                        <div class=\"col-md-2\">\n                                                                            <div class=\"\">\n                                                                                <input type=\"text\" name=\"rate_msic_weight\" value=\"{{$shipment->rate_msic_weight}}\" class=\"form-control rate_msic_weight tot_rate\">\n                                                                            </div>\n                                                                        </div>\n                                                                        <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_msic_weight\" value=\"{{$shipment->amount_msic_weight}}\" class=\"form-control tot_amt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                </div>\n\n\n                                                                <div class=\"row  pt-2\">\n                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                        <label>Additional Packing charge</label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\"\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"add_pack_charge\"\n                                                                            value=\"{{$shipment->add_pack_charge}}\" class=\"form-control add_pack_charge tot_wgt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"rate_add_pack_charge\" value=\"{{$shipment->rate_add_pack_charge}}\" class=\"form-control rate_add_pack_charge tot_rate\">\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                    <div class=\"\">\n                                                                        <input type=\"text\" name=\"amount_add_pack_charge\" value=\"{{$shipment->amount_add_pack_charge}}\" class=\"form-control tot_amt\">\n                                                                    </div>\n                                                                </div>\n\n                                                            </div>\n\n                                                                <div class=\"row  pt-2\">\n                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                        <label>Insurance </label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"insurance\"\n                                                                            value=\"{{$shipment->insurance}}\" class=\"form-control insurance_weight tot_wgt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"rate_insurance\" value=\"{{$shipment->rate_insurance}}\" class=\"form-control rate_insurance_weight tot_rate\">\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_insurance\" value=\"{{$shipment->amount_insurance}}\" class=\"form-control tot_amt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                </div>\n\n\n                                                                <div class=\"row  pt-2\">\n                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                        <label>AWB Fee</label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\"\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"awbfee\"\n                                                                            value=\"{{$shipment->awbfee}}\" class=\"form-control awbfee tot_wgt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"rate_awbfee\" value=\"{{$shipment->rate_awbfee}}\" class=\"form-control rate_awbfee tot_rate\">\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_awbfee\" value=\"{{$shipment->amount_awbfee}}\" class=\"form-control tot_amt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                </div>\n\n                                                                <div class=\"row  pt-2\">\n                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                        <label>VAT Amount</label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\"\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"vat_amount\"\n                                                                            value=\"{{$shipment->vat_amount}}\" class=\"form-control vat_amount tot_wgt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"rate_vat_amount\" value=\"{{$shipment->rate_vat_amount}}\" class=\"form-control rate_vat_amount tot_rate\">\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_vat_amount\" value=\"{{$shipment->amount_vat_amount}}\" class=\"form-control tot_amt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                </div>\n\n                                                                <div class=\"row  pt-2\">\n                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                        <label>Volume weight</label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\"\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"volume_weight\"\n                                                                            value=\"{{$shipment->volume_weight}}\" class=\"form-control volume_weight tot_wgt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"rate_volume_weight\" value=\"{{$shipment->rate_volume_weight}}\" class=\"form-control rate_volume_weight tot_rate\">\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_volume_weight\" value=\"{{$shipment->amount_volume_weight}}\" class=\"form-control tot_amt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                </div>\n\n                                                                <div class=\"row  pt-2\">\n                                                                    <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                        <label>Discount</label>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"discount_weight\"\n                                                                            value=\"{{$shipment->discount_weight}}\" class=\"form-control discount_weight tot_wgt\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"rate_discount_weight\" value=\"{{$shipment->rate_discount_weight}}\" class=\"form-control rate_discount_weight tot_rate\">\n                                                                        </div>\n                                                                    </div>\n                                                                    <div class=\"col-md-2\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_discount_weight\" value=\"{{$shipment->amount_discount_weight}}\" class=\"form-control \">\n                                                                        </div>\n                                                                    </div>\n\n                                                                </div>\n                                                            \n\n                                                                <div class=\"row\">\n\n                                                                        <div class=\"col-md-6 pt-2\"  style=\"text-align:right;font-size:18px;font-weight:bold;\">\n\n                                                                        </div>\n                                                                        <div class=\"col-md-2 pt-2\" style=\"border-top:1px solid;\">\n                                                                            <div class=\"\">  <!-- <input type=\"text\" name=\"grand_total_weight\" value=\"{{ $normal_weight }}\" class=\"form-control\" readonly> -->\n                                                                            </div>\n                                                                        </div>\n\n                                                                        <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n                                                                            <div class=\"\">\n                                                                                <!-- <input type=\"text\" name=\"rate_grand_total\" value=\"{{$shipment->rate_grand_total}}\" class=\"form-control\"> -->\n                                                                            </div>\n                                                                        </div>\n                                                                        <div class=\"col-md-2 pt-2\"  style=\"border-top:1px solid;\">\n                                                                        <div class=\"\">\n                                                                            <input type=\"text\" name=\"amount_grand_total\" value=\"{{$shipment->amount_grand_total}}\" class=\"form-control\">\n                                                                        </div>\n                                                                    </div>\n\n                                                                </div>\n                                                                <div class=\"row  pt-2\">\n\n                                                                     <div class=\"col-md-6\"  style=\"text-align:right;\">\n                                                                            <label>No.of Pcs</label>\n                                                                        </div>\n                                                                        <div class=\"col-md-6\">\n                                                                            <div class=\"\">\n                                                                                <input value=\"{{ $shipment->number_of_pcs?$shipment->number_of_pcs:0 }}\" type=\"text\" name=\"number_of_pcs\"\n                                                                                class=\"form-control\" id=\"number_of_pcs\">\n\n                                                                            </div>\n                                                                        </div>\n                                                                </div>\n                                                                <div class=\"row mt-5\">\n                                                                        <div class=\"col-md-12\"  style=\"text-align:left;\">\n                                                                            <!-- <h3>Declared value = Total Weight x 20 </h3> -->\n                                                                        </div>\n                                                                </div>\n\n                                                            </td>\n                                                         \n\n                                                        </tr>\n                                                    </table>\n                                                </div>\n                                            </div>\n\n\n                                        </div> <!-- body -->\n                                    </div>\n\n\n                                    <div class=\"text-center\" style=\"display:block;\">\n                                    <input type=\"hidden\" name=\"id\" value=\"{{$shipment->id}}\" />\n                                        <button type=\"submit\" class=\"btn btn-success waves-effect waves-light\">Submit\n                                        </button>\n                                        <a href=\"{{index_url()}}\" type=\"button\"\n                                        class=\"btn btn-danger waves-effect waves-light\">Cancel\n                                        </a>\n                                    </div>\n\n                                </div>  <!--  col-12- end-->\n                        </form>\n\n\n                        </div>\n                        <!-- end card-box -->\n                    </div>\n                    <!-- end col -->\n                </div>\n                <!-- end row -->\n\n\n                <!----------------------- div for add more ------------------------>\n\n\n                <div style=\"display:none;\" >\n                                        <div id=\"newBoxContainer\" class=\"boxcount\">\n\n\n                                            <div class=\"package col-md-12\"  id=\"package_ID\" >\n                                                <div class=\"header\">\n                                                    <div class=\"col-md-6\"  style=\"float:left\">\n                                                        <h5 class=\"packageinfo-head1\">Package Info </h5>\n                                                        <input type=\"hidden\" name=\"box_name_1\" value=\"\" class=\"box_name1\" />\n                                                    </div>\n                                                    <div class=\"col-md-6 text-right pb-2\" style=\"float:left\">\n                                                        <button type=\"button\" id=\"addpackage\" class=\"btn btn-success addpackage\">Add Items</button>\n                                                        <button type=\"button\" id=\"removeBox\" class=\"btn btn-danger removeBox\">Delete Box</button>\n                                                    </div>\n                                                </div>\n                                                <div class=\"col-md-2\">\n                                                        <div class=\"form-group\">\n                                                            <label>Weight</label>\n                                                            <input type=\"text\" name=\"weight[]\" value=\"\" class=\"form-control box-weight1 weight\">\n                                                            {{-- <input type=\"text\" name=\"weight\" value=\"{{$weight->weight?$weight->weight:''}}\" class=\"form-control box-weight1\"> --}}\n                                                        </div>\n                                                    </div>\n                                                <div class=\"row\">\n                                        <div class=\"col-lg-6 col-md-12\">\n                                         \n                                            <div class=\"row\">\n                                                <div class=\"form-group col-md-10\">\n                                                    <label>Sender/Customer</label>\n                                                    <select name=\"sender_id[]\" id=\"sender_id[]\" class=\"form-control select2\">\n                                                        @foreach (get_customers('sender') as $sender)\n                                                            <option value=\"{{ $sender->id }}\"\n                                                            {{ ($shipment->sender_id== $sender->id) ? 'selected' : \"\" }} \n                                                            data-identification_type=\"{{$sender->identification_type ?? ''}}\"\n                                                        data-identification_number=\"{{$sender->identification_number ?? ''}}\"\n                                                        data-name=\"{{$sender->name ?? ''}}\"\n                                                        data-email=\"{{$sender->email ?? ''}}\"\n                                                        data-phone=\"{{$sender->phone ?? ''}}\"\n                                                          data-address=\"{{$sender->address->address ?? ''}}\"\n                                                         data-whatsapp_number=\"{{$sender->whatsapp_number ?? ''}}\"\n                                                        data-country_code_phone=\"{{$sender->country_code_phone ?? ''}}\"\n                                                        data-country_code_whatsapp=\"{{$sender->country_code_whatsapp ?? ''}}\" \n                                                        data-country_id=\"{{$sender->address->country_id ?? ''}}\"\n                                                        data-state_id=\"{{$sender->address->state_id ?? ''}}\"\n                                                        data-district_id=\"{{$sender->address->district_id ?? ''}}\"\n                                                        data-city_id=\"{{$sender->address->city_id ?? ''}}\"\n                                                        data-zip_code=\"{{$sender->address->zip_code ?? ''}}\">\n                                                    {{ strtoupper($sender->name) }} - {{ $sender->phone }}\n                                                        </option>\n                                                        @endforeach\n                                                    </select>\n                                                    @error('sender_id')\n                                                    <span class=\"text-danger\">{{ $message }}</span>\n                                                    @enderror\n\n                                                </div>\n                                                <div class=\"col-md-2\">\n                                                <button type=\"button\" id=\"AddSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n                                                class=\"fa fa-plus\"></i></button>\n                                                            <button type=\"button\" id=\"EditSender[]\" class=\"btn btn-primary mt-sm-4\"><i\n                                                            class=\"fa fa-pen\"></i></button>\n                                                </div>\n\n                                            </div>\n                 \n                                        </div>\n                                        <div class=\"col-lg-6 col-md-12\">\n                                            \n                                            <div class=\" row\">\n                                                <div class=\"form-group col-md-10\">\n                                                    <label>Receiver/Customer</label>\n                                                    <select name=\"receiver_id[]\" id=\"receiver_id[]\"\n                                                            class=\"form-control select2\">\n                                                        @foreach (get_customers('receiver') as $receiver)\n                                                            <option value=\"{{ $receiver->id }}\"\n                                                            {{ ($shipment->receiver_id== $receiver->id) ? 'selected' : \"\" }}\n                                                            data-identification_type=\"{{$receiver->identification_type ?? ''}}\"\n                                                        data-identification_number=\"{{$receiver->identification_number ?? ''}}\"\n                                                        data-name=\"{{$receiver->name ?? ''}}\"\n                                                        data-email=\"{{$receiver->email ?? ''}}\"\n                                                        data-phone=\"{{$receiver->phone ?? ''}}\"\n                                                          data-address=\"{{$receiver->address->address ?? ''}}\"\n                                                         data-whatsapp_number=\"{{$receiver->whatsapp_number ?? ''}}\"\n                                                        data-country_code_phone=\"{{$receiver->country_code_phone ?? ''}}\"\n                                                        data-country_code_whatsapp=\"{{$receiver->country_code_whatsapp ?? ''}}\" \n                                                        data-country_id=\"{{$receiver->address->country_id ?? ''}}\"\n                                                        data-state_id=\"{{$receiver->address->state_id ?? ''}}\"\n                                                        data-district_id=\"{{$receiver->address->district_id ?? ''}}\"\n                                                        data-city_id=\"{{$receiver->address->city_id ?? ''}}\"\n                                                        data-zip_code=\"{{$receiver->address->zip_code ?? ''}}\">\n                                                    {{ strtoupper($receiver->name) }} - {{ $receiver->phone }}\n                                                            </option>\n                                                        @endforeach\n                                                    </select>\n                                                    @error('receiver_id')\n                                                    <span class=\"text-danger\">{{ $message }}</span>\n                                                    @enderror\n                                                </div>\n                                                <div class=\"col-md-2\">\n                                                    <button type=\"button\" id=\"AddReceiver[]\" class=\"btn btn-primary mt-4\"><i\n                                                            class=\"fa fa-plus\"></i></button>\n                                                            <button type=\"button\" id=\"EditReceiver[]\" class=\"btn btn-primary mt-4\"><i\n                                                            class=\"fa fa-pen\"></i></button>\n                                                </div>\n                                            </div>\n                                            \n                                        </div>\n                                    </div> \n                                              \n                                                <div class=\"body box_und_calc\" id=\"packageinfo\">\n\n                                                    <table class=\"table table-bordered packageinfo\">\n                                                        <tr>\n                                                        <td width=\"2%\">\n                                                              <span class=\"form-control border-0\">1</span>\n                                                            </td>\n\n                                                            <td width=\"40%\">\n                                                                <input type=\"text\" placeholder=\"Enter description\"\n                                                                    name=\"description[]\"\n                                                                    class=\"form-control descriptions\">\n                                                            </td>\n                                                            <td>\n                                                                <input type=\"number\" placeholder=\"Enter quantity\"\n                                                                    name=\"qty[]\"\n                                                                    class=\"form-control qty\">\n                                                            </td>\n                                                            <td>\n                                                                <input type=\"number\" placeholder=\"Enter unit price\"\n                                                                    name=\"unit[]\"\n                                                                    class=\"form-control unit\" step=\"0.01\">\n                                                            </td>\n                                                            <td>\n                                                                <input type=\"text\" name=\"subtotal[]\" readonly\n                                                                    class=\"form-control value pkg-subtotal\">\n                                                            </td>\n                                                            <td>\n                                                                <button type=\"button\"  name=\"remove[]\" class=\"remove btn btn-danger\" data-remove=\"\">X</button>\n                                                            </td>\n\n                                                        </tr>\n                                                    </table>\n\n                                                </div>\n\n                                                <div class=\"body\">\n                                                    <table class=\"table table-bordered\">\n                                                        <tr>\n                                                            <td width=\"20%\"> </td>\n                                                            <td width=\"20%\"><h6>Total Quantity: </h6></td>\n                                                            <td width=\"20%\"><h6><span id=\"totalqty\"></span></h6></td>\n                                                            <td width=\"20%\"><h6>Total Value: </h6></td>\n                                                            <td width=\"20%\"><h6><span id=\"totalAmt\" class=\"package-total-amount\"></span></h6></td>\n                                                        </tr>\n                                                    </table>\n\n                                                </div>\n\n\n                                                <div class=\"body\" id=\"boxDimension\">\n                                                <div class=\"row\">\n                                                    <div class=\"col-md-2 box-title\">\n                                                        <!-- <h6>Box</h6> -->\n                                                    </div>\n                                                    </div>\n                                                    <div class=\"row\" style=\"display: none;\">\n                                                    <!-- <div class=\"col-md-2\">\n                                                        <div class=\"form-group\">\n                                                            <label>Length</label>\n                                                            <input type=\"text\" name=\"length\" value=\"\" class=\"form-control box-length\">\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-2\">\n                                                        <div class=\"form-group\">\n                                                            <label>Width</label>\n                                                            <input type=\"text\" name=\"width\" value=\"\" class=\"form-control box-width\">\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-2\">\n                                                        <div class=\"form-group\">\n                                                            <label>Height</label>\n                                                            <input type=\"text\" name=\"height\" value=\"\" class=\"form-control box-height\">\n                                                        </div>\n                                                    </div> -->\n\n                                                    <div class=\"col-md-2\">\n                                                        <div class=\"form-group\">\n                                                            <label>Length x Width x Height</label>\n                                                            <select name='dimension' data-no='' class='form-control box-dimension' required   onchange=\"getval(this);\">\n                                                                <option value=''>select</option>\n                                                                <option value='2' selected>45 x 45 x 45</option>\n                                                                {{-- @foreach($dimensions as $dimension)\n                                                                <option value='{{$dimension->id}}' data-id='{{$dimension->id}}'>{{$dimension->length}} x {{$dimension->width}} x {{$dimension->height}}</option>\n                                                                @endforeach --}}\n                                                                <option value='0'>Other</option>\n                                                            </select>\n                                                        </div>\n                                                    </div>\n\n                                                    <div class=\"col-md-1 d-none\" id=\"other_length\">\n                                                        <div class=\"form-group\">\n                                                            <label>Length</label>\n                                                            <input type=\"text\" name=\"other_length\" value=\"\" class=\"form-control other_length\"   onkeyup=\"getValOther(this);\">\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-1 d-none\" id=\"other_width\">\n                                                        <div class=\"form-group\">\n                                                            <label>Width</label>\n                                                            <input type=\"text\" name=\"other_width\" value=\"\" class=\"form-control other_width\"   onkeyup=\"getValOther(this);\">\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-1 d-none\" id=\"other_height\">\n                                                        <div class=\"form-group\">\n                                                            <label>Height</label>\n                                                            <input type=\"text\" name=\"other_height\" value=\"\" class=\"form-control other_height\"   onkeyup=\"getValOther(this);\">\n                                                        </div>\n                                                    </div>\n\n                                                    <div class=\"col-md-1 d-none\" id=\"other_select\">\n                                                        <div class=\"form-group\">\n                                                            <label>Select</label>\n                                                            <input type=\"text\" name=\"other_select\" value=\"\" class=\"form-control other_select\"   onkeyup=\"getValOther(this);\">\n                                                        </div>\n                                                    </div>\n\n                                                    <div class=\"col-md-2\" id=\"packing\">\n                                                        <div class=\"form-group\">\n                                                            <label>Packing</label>\n                                                            <select name='packing' data-no='' class='form-control box-packing' onchange=\"getBoxPackingVal(this);\">\n                                                                <option value=''>Select</option>\n                                                                <option value='2' selected >Cargo Packing</option>\n                                                                {{-- <option value='1'>Customer Packing</option>\n                                                                <option value='2'>Cargo Packing</option> --}}\n                                                            </select>\n                                                        </div>\n                                                        <!-- <input type=\"hidden\" name=\"box_packing_charge\"  data-no='' class='form-control box_packing_charge'/> -->\n                                                    </div>\n\n                                                     <div class=\"col-md-2\" id=\"selectVolume\">\n                                                        <div class=\"form-group\">\n                                                            <label>Select </label>\n                                                            <select name='volume' data-no='' class='form-control ' required   onchange=\"getval(this);\">\n                                                                <option selected value='6000'  >6000</option>\n                                                                {{-- <option value='5000'>5000</option>\n                                                                <option value='6000' >6000</option>\n                                                                <option value='1000000' >1000000</option> --}}\n                                                            </select>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-2\">\n                                                        <div class=\"form-group\">\n                                                            <label>Volume</label>\n                                                            <input type=\"text\" name=\"unit_value\" value=\"15.19\" class=\"form-control box-unit-value\">\n                                                        </div>\n                                                    </div>\n\n\n\n\n\n                                                    <div class=\"col-md-1\">\n                                                        <div class=\"form-group\">\n                                                            <label>Rate</label>\n                                                            <input type=\"text\" name=\"rate\" value=\"20\" class=\"form-control box-rate1\">\n                                                        </div>\n                                                    </div>\n\n\n                                                    <div class=\"col-md-2\">\n                                                        <div class=\"form-group\">\n                                                            <label>Total Amount</label>\n                                                            <input type=\"text\" name=\"total_value\" value=\"602.00\" class=\"form-control box-total-value total1\" readonly>\n                                                            <!-- <input type=\"hidden\" name=\"box_name\" value=\"\" class=\"form-control box_name\"> -->\n                                                        </div>\n                                                    </div>\n                                                    <?php /*\n\n                                                    <div class=\"col-md-2 d-none\" id=\"other_dimension\">\n                                                        <div class=\"form-group\">\n                                                            <label>Other</label>\n                                                            <input type=\"text\" name=\"other_dimension\" value=\"\" class=\"form-control other_dimension\">\n                                                        </div>\n                                                    </div>\n                                                    */?>\n\n\n\n\n                                                        <div class=\"col-md-2\" id=\"box_packing_charge\">\n                                                        <div class=\"form-group\">\n                                                            <label>Packing charge</label>\n                                                            <input type=\"text\" name=\"box_packing_charge\" value=\"20\"  data-no='' class='form-control box_packing_charge'/>\n                                                        </div>\n                                                        </div>\n\n\n                                                </div>\n                                            </div>\n\n\n                                            </div>\n                                        </div>\n                                    </div>\n\n                <!----------------------- div for add more ------------------------>\n\n            </div>\n            <!-- end container-fluid -->\n\n        </div>\n        <!-- end content -->\n</div>\n\n@include('branches.modals.add_client')\n@endsection\n@section('styles')\n@include('layouts.datatables_style')\n@endsection\n@section('scripts')\n{{-- <script src=\"https://code.jquery.com/jquery-3.5.1.min.js\"></script> --}}\n<!-- Select2 JS -->\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/js/select2.min.js\"></script>\n<script>\n\n\n    $(window).on('load', function() {\n        $('.id_img').each(function() {\n            var img = $(this);\n            img.attr('src', img.data('src'));\n        });\n    });\n\n    $(document).ready(function() {\n    // Check if \"driver\" is already selected initially\n    if ($('#collected_by').val() === 'driver') {\n        // toggleBookingNumberInput(false);\n    }\n\n    // Bind change event handler\n    $('#collected_by').change(function() {\n        if ($(this).val() === 'driver') {\n            // toggleBookingNumberInput(true);\n        } else {\n            toggleBookingNumberInput(false);\n        }\n    });\n\n    // Function to toggle input readonly property\n    function toggleBookingNumberInput(enable) {\n        $('#bookingNumberSection input[name=\"booking_number\"]').prop('readonly', !enable);\n    }\n\n    $(\"#whatsapp_same\").change(function() {\n        var phone = document.querySelector('input[name=\"phone\"]');\n        var whatsapp_number = document.querySelector('input[name=\"whatsapp_number\"]');\n        var wp_no = whatsapp_number.value;\n\n        if (this.checked) {\n            phone.value = wp_no;\n        } else { // Changed elseif to else\n            phone.value = ''; // Setting phone value to an empty string instead of null\n        }\n    });\n\n\n\n});\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\n    $(document).on('change', '.sender_id_type', function() {\n        $('.sender_id_no').trigger('input');\n    });\n\n    $(document).on('input', '.sender_id_no', function() {\n        var dataIndex = $(this).attr('data-index');\n        var selectValue = $(`select[name=\"sender_id_type${dataIndex}\"]`).val();\n        console.log(dataIndex);\n\n        // Select the <p> tag that follows the current input\n        var $existingP = $(this).next('p');\n\n        // Determine the new content for the <p> tag and validation message\n        var newContent = '';\n        var isValid = true; // Flag to check if the input is valid\n        var inputValue = $(this).val(); // Get the current input value\n\n        if (selectValue == 'Passport Number') {\n            if (inputValue.length > 0 && inputValue.length !== 8) {\n                newContent = 'Passport Number should be 8 characters. Please enter exactly 8 characters.';\n                isValid = false;\n            } else if (inputValue.length === 8) {\n                newContent = selectValue + ' is Correct';\n            } else {\n                newContent = 'Passport Number should be 8 characters.';\n            }\n        } else if (selectValue == 'Aadhaar Number' || selectValue == 'Aadhar') {\n            if (inputValue.length > 0 && inputValue.length !== 12) {\n                newContent = 'Aadhaar Number should be 12 digits. Please enter exactly 12 digits.';\n                isValid = false;\n            } else if (inputValue.length === 12) {\n                newContent = selectValue + ' is Correct';\n            } else {\n                newContent = 'Aadhaar Number should be 12 digits.';\n            }\n        }\n\n        // Set the color based on validity\n        var color = isValid ? 'green' : 'red';\n\n        // Update the existing <p> tag or add a new one if it doesn't exist\n        if ($existingP.length) {\n            $existingP.text(newContent).css('color', color);\n        } else {\n            $(this).after(`<p style=\"color: ${color};\">${newContent}</p>`);\n        }\n    });\n\n\n    $(document).on('change', '.receiver_id_type', function() {\n        $('.receiver_id_no').trigger('input');\n    });\n\n    $(document).on('input', '.receiver_id_no', function() {\n        var dataIndex = $(this).attr('data-index');\n        var selectValue = $(`select[name=\"receiver_id_type${dataIndex}\"]`).val();\n        console.log(dataIndex);\n\n        // Select the <p> tag that follows the current input\n        var $existingP = $(this).next('p');\n\n        // Determine the new content for the <p> tag and validation message\n        var newContent = '';\n        var isValid = true; // Flag to check if the input is valid\n        var inputValue = $(this).val(); // Get the current input value\n\n        if (selectValue == 'Passport Number') {\n            if (inputValue.length > 0 && inputValue.length !== 8) {\n                newContent = 'Passport Number should be 8 characters. Please enter exactly 8 characters.';\n                isValid = false;\n            } else if (inputValue.length === 8) {\n                newContent = selectValue + ' is Correct';\n            } else {\n                newContent = 'Passport Number should be 8 characters.';\n            }\n        } else if (selectValue == 'Aadhaar Number' || selectValue == 'Aadhar') {\n            if (inputValue.length > 0 && inputValue.length !== 12) {\n                newContent = 'Aadhaar Number should be 12 digits. Please enter exactly 12 digits.';\n                isValid = false;\n            } else if (inputValue.length === 12) {\n                newContent = selectValue + ' is Correct';\n            } else {\n                newContent = 'Aadhaar Number should be 12 digits.';\n            }\n        }\n\n        // Set the color based on validity\n        var color = isValid ? 'green' : 'red';\n\n        // Update the existing <p> tag or add a new one if it doesn't exist\n        if ($existingP.length) {\n            $existingP.text(newContent).css('color', color);\n        } else {\n            $(this).after(`<p style=\"color: ${color};\">${newContent}</p>`);\n        }\n    });\n\n\n\n\n\n\n\n        function matchCustom(params, data) {\n            // If there are no search terms, return all of the data\n            if ($.trim(params.term) === '') {\n                return data;\n            }\n\n            // Check if the term matches the 'data-phone' or 'data-whatsapp' attributes\n            if (data.element) {\n                var phone = $(data.element).data('phone') ? $(data.element).data('phone').toString().toLowerCase() : '';\n                var whatsapp = $(data.element).data('whatsapp') ? $(data.element).data('whatsapp').toString().toLowerCase() : '';\n\n                var term = params.term.toLowerCase();\n\n                if (phone.indexOf(term) > -1 || whatsapp.indexOf(term) > -1) {\n                    return data;\n                }\n            }\n\n            // Check if the term matches the text\n            if (data.text.toLowerCase().indexOf(params.term.toLowerCase()) > -1) {\n                return data;\n            }\n\n            // Return `null` if the term should not be displayed\n            return null;\n        }\n\n        $('#sender_id').select2({\n            placeholder: \"Select a sender\",\n            allowClear: true,\n            matcher: matchCustom\n        });\n\n        $('#receiver_id').select2({\n            placeholder: \"Select a sender\",\n            allowClear: true,\n            matcher: matchCustom\n        });\n\n\n    const grand_total = document.querySelector('input[name=\"grand_total_weight\"]');\n    const rate_normal_weight = document.querySelector('input[name=\"rate_normal_weight\"]');\n    const amount_normal_weight = document.querySelector('input[name=\"amount_normal_weight\"]');\n\n    const rate_electronics_weight = document.querySelector('input[name=\"rate_electronics_weight\"]');\n    const amount_electronics_weight = document.querySelector('input[name=\"amount_electronics_weight\"]');\n\n    const msic = document.querySelector('input[name=\"msic_weight\"]');\n    const rate_msic_weight = document.querySelector('input[name=\"rate_msic_weight\"]');\n    const amount_msic_weight = document.querySelector('input[name=\"amount_msic_weight\"]');\n\n    const add_pack_charge = document.querySelector('input[name=\"add_pack_charge\"]');\n    const rate_add_pack_charge = document.querySelector('input[name=\"rate_add_pack_charge\"]');\n    const amount_add_pack_charge = document.querySelector('input[name=\"amount_add_pack_charge\"]');\n\n    const insurance = document.querySelector('input[name=\"insurance\"]');\n    const rate_insurance = document.querySelector('input[name=\"rate_insurance\"]');\n    const amount_insurance = document.querySelector('input[name=\"amount_insurance\"]');\n\n    const awbfee = document.querySelector('input[name=\"awbfee\"]');\n    const rate_awbfee = document.querySelector('input[name=\"rate_awbfee\"]');\n    const amount_awbfee = document.querySelector('input[name=\"amount_awbfee\"]');\n\n    const vat_amount = document.querySelector('input[name=\"vat_amount\"]');\n    const rate_vat_amount = document.querySelector('input[name=\"rate_vat_amount\"]');\n    const amount_vat_amount = document.querySelector('input[name=\"amount_vat_amount\"]');\n\n    const volume_weight = document.querySelector('input[name=\"volume_weight\"]');\n    const rate_volume_weight = document.querySelector('input[name=\"rate_volume_weight\"]');\n    const amount_volume_weight = document.querySelector('input[name=\"amount_volume_weight\"]');\n\n    const discount_weight = document.querySelector('input[name=\"discount_weight\"]');\n    const rate_discount_weight = document.querySelector('input[name=\"rate_discount_weight\"]');\n    const amount_discount_weight = document.querySelector('input[name=\"amount_discount_weight\"]');\n\n    const normal_weight = document.querySelector('input[name=\"normal_weight\"]');\n\n    const grand_total_weight = document.querySelector('input[name=\"grand_total_weight\"]');\n    const electronics_weight = document.querySelector('input[name=\"electronics_weight\"]');\n    const msic_weight = document.querySelector('input[name=\"msic_weight\"]');\n\n    const amount_grand_total = document.querySelector('input[name=\"amount_grand_total\"]');\n\n\n\n    function multiplyAddPackCharge() {\n        const val1 = parseFloat(add_pack_charge.value);\n        const val2 = parseFloat(rate_add_pack_charge.value);\n        if (!isNaN(val1) && !isNaN(val2)) {\n            var result = (val1 * val2);\n            if (Number.isInteger(result)){\n                amount_add_pack_charge.value =result.toFixed(0);\n            }\n            else{\n                amount_add_pack_charge.value =result.toFixed(2);\n            }\n        } else {\n            result.value = '';\n        }\n    }\n\n    function multiplyInsurance() {\n        const val1 = parseFloat(insurance.value);\n        const val2 = parseFloat(rate_insurance.value);\n        if (!isNaN(val1) && !isNaN(val2)) {\n            var result = (val1 * val2);\n            if (Number.isInteger(result)){\n                amount_insurance.value =result.toFixed(0);\n            }\n            else{\n                amount_insurance.value =result.toFixed(2);\n            }\n        } else {\n            result.value = '';\n        }\n    }\n\n    function multiplyVolume() {\n        const val1 = parseFloat(volume_weight.value);\n        const val2 = parseFloat(rate_volume_weight.value);\n        if (!isNaN(val1) && !isNaN(val2)) {\n            var result = (val1 * val2);\n            if (Number.isInteger(result)){\n                amount_volume_weight.value =result.toFixed(0);\n            }\n            else{\n                amount_volume_weight.value =result.toFixed(2);\n            }\n        } else {\n            result.value = '';\n        }\n    }\n\n    function multiplyAwbFee() {\n        const val1 = parseFloat(awbfee.value);\n        const val2 = parseFloat(rate_awbfee.value);\n        if (!isNaN(val1) && !isNaN(val2)) {\n            var result = (val1 * val2);\n            if (Number.isInteger(result)){\n                amount_awbfee.value =result.toFixed(0);\n            }\n            else{\n                amount_awbfee.value = result.toFixed(2);\n            }\n        } else {\n            result.value = '';\n        }\n    }\n\n    function multiplyVatAmount() {\n        const val1 = parseFloat(vat_amount.value);\n        const val2 = parseFloat(rate_vat_amount.value);\n        if (!isNaN(val1) && !isNaN(val2)) {\n            var result = (val1 * val2);\n            if (Number.isInteger(result)){\n                amount_vat_amount.value =result.toFixed(0);\n            }\n            else{\n                amount_vat_amount.value =result.toFixed(2);\n            }\n        } else {\n            result.value = '';\n        }\n    }\n\n    function multiplyDiscount() {\n        const val1 = parseFloat(discount_weight.value);\n        const val2 = parseFloat(rate_discount_weight.value);\n        if (!isNaN(val1) && !isNaN(val2)) {\n            var result = (val1 * val2);\n            if (Number.isInteger(result)){\n                amount_discount_weight.value =result.toFixed(0);\n            }\n            else{\n                amount_discount_weight.value = result.toFixed(2);\n            }\n        } else {\n            result.value = '';\n        }\n    }\n\n    function multiplyDuty() {\n        const val1 = parseFloat(electronics_weight.value);\n        const val2 = parseFloat(rate_electronics_weight.value);\n        if (!isNaN(val1) && !isNaN(val2)) {\n            var result = (val1 * val2);\n            if (Number.isInteger(result)){\n                amount_electronics_weight.value =result.toFixed(0);\n            }\n            else{\n                amount_electronics_weight.value = result.toFixed(2);\n            }\n        } else {\n            result.value = '';\n        }\n    }\n\n    function multiplyPackingCharge() {\n        const val1 = parseFloat(msic_weight.value);\n        const val2 = parseFloat(rate_msic_weight.value);\n        if (!isNaN(val1) && !isNaN(val2)) {\n            var result = (val1 * val2);\n            if (Number.isInteger(result)){\n                amount_msic_weight.value =result.toFixed(0);\n            }\n            else{\n                amount_msic_weight.value = result.toFixed(2);\n            }\n        } else {\n            result.value = '';\n        }\n    }\n    function totalQuantity() {\n        // const val1 = parseFloat(amount_normal_weight.value) || 0;\n        // const val2 = parseFloat(amount_electronics_weight.value) || 0;\n        // const val3 = parseFloat(amount_msic_weight.value) || 0;\n\n\n        // const val1 = parseFloat(insurance.value) || 0;\n        // const val2 = parseFloat(volume_weight.value) || 0;\n        // const val3 = parseFloat(awbfee.value) || 0;\n        // const val4 = parseFloat(vat_amount.value) || 0;\n        // const val5 = parseFloat(grand_total_weight.value) || 0;\n        // const val6 = parseFloat(electronics_weight.value) || 0;\n        // const val7 = parseFloat(msic_weight.value) || 0;\n        // const val8 = parseFloat(amount_discount_weight.value) || 0;\n        // const val9 = parseFloat(amount_add_pack_charge.value) || 0;\n\n\n        // if ([val1, val2, val3, val4, val5, val6, val7,val9 ].every(val => !isNaN(val))) {\n        //     var result = val1 + val2 + val3 + val4 + val5 + val6 + val7 + val9;\n        //     var grant_tot = result - val8;\n        //     console.log(result);\n        //     console.log(grant_tot);\n        //     amount_grand_total.value = grant_tot.toFixed(2);\n        // }\n\n\n\n        const val1 = parseFloat(amount_normal_weight.value) || 0;\n        const val2 = parseFloat(amount_electronics_weight.value) || 0;\n        const val3 = parseFloat(amount_msic_weight.value) || 0;\n        const val4 = parseFloat(amount_insurance.value) || 0;\n        const val5 = parseFloat(amount_awbfee.value) || 0;\n        const val6 = parseFloat(amount_vat_amount.value) || 0;\n        const val7 = parseFloat(amount_volume_weight.value) || 0;\n        const val8 = parseFloat(amount_discount_weight.value) || 0;\n        const val9 = parseFloat(amount_add_pack_charge.value) || 0;\n\n\n        if ([val1, val2, val3, val4, val5, val6, val7,val9].every(val => !isNaN(val))) {\n            var result = val1 + val2 + val3 + val4 + val5 + val6 + val7 + val9;\n            var grant_tot = result - val8;\n            amount_grand_total.value = grant_tot.toFixed(2);\n        }\n\n    }\n\n    // function totalQuantityss() {\n    //     const val1 = parseFloat(amount_normal_weight.value) || 0;\n    //     const val2 = parseFloat(amount_electronics_weight.value) || 0;\n    //     const val3 = parseFloat(amount_msic_weight.value) || 0;an serve\n\n    //     const val4 = parseFloat(amount_insurance.value) || 0;\n    //     const val5 = parseFloat(amount_awbfee.value) || 0;\n    //     const val6 = parseFloat(amount_vat_amount.value) || 0;\n    //     const val7 = parseFloat(amount_volume_weight.value) || 0;\n    //     const val8 = parseFloat(amount_discount_weight.value) || 0;\n\n\n    //     if ([val1, val2, val3, val4, val5, val6, val7].every(val => !isNaN(val))) {\n    //         var result = val1 + val2 + val3 + val4 + val5 + val6 + val7;\n    //         var grant_tot = result - val8;\n    //         amount_grand_total.value = grant_tot.toFixed(2);\n    //     }\n    // }\n\n    // function discountQuantity() {\n    //     totalQuantityss()\n    //     const val1 = parseFloat(amount_discount_weight.value) || 0;\n    //     const total = parseFloat(amount_grand_total.value) || 0;\n    //     if (!isNaN(val1)) {\n    //         var result = total - val1;\n    //         // amount_grand_total.value = result.toFixed(2);\n    //     }\n    // }\n    electronics_weight.addEventListener('input', multiplyDuty);\n    rate_electronics_weight.addEventListener('input', multiplyDuty);\n\n    msic_weight.addEventListener('input', multiplyPackingCharge);\n    rate_msic_weight.addEventListener('input', multiplyPackingCharge);\n\n    insurance.addEventListener('input', multiplyInsurance);\n    rate_insurance.addEventListener('input', multiplyInsurance);\n\n    volume_weight.addEventListener('input', multiplyVolume);\n    rate_volume_weight.addEventListener('input', multiplyVolume);\n\n    awbfee.addEventListener('input', multiplyAwbFee);\n    rate_awbfee.addEventListener('input', multiplyAwbFee);\n\n    vat_amount.addEventListener('input', multiplyVatAmount);\n    rate_vat_amount.addEventListener('input', multiplyVatAmount);\n\n    discount_weight.addEventListener('input', multiplyDiscount);\n    rate_discount_weight.addEventListener('input', multiplyDiscount);\n\n    add_pack_charge.addEventListener('input', multiplyAddPackCharge);\n    rate_add_pack_charge.addEventListener('input', multiplyAddPackCharge);\n\n    insurance.addEventListener('input', totalQuantity);\n    volume_weight.addEventListener('input', totalQuantity);\n    awbfee.addEventListener('input', totalQuantity);\n    vat_amount.addEventListener('input', totalQuantity);\n    grand_total_weight.addEventListener('input', totalQuantity);\n    electronics_weight.addEventListener('input', totalQuantity);\n    msic_weight.addEventListener('input', totalQuantity);\n    add_pack_charge.addEventListener('input', totalQuantity);\n\n\n\n    amount_normal_weight.addEventListener('input', totalQuantity);\n    amount_electronics_weight.addEventListener('input', totalQuantity);\n    amount_msic_weight.addEventListener('input', totalQuantity);\n    amount_insurance.addEventListener('input', totalQuantity);\n    amount_awbfee.addEventListener('input', totalQuantity);\n    amount_vat_amount.addEventListener('input', totalQuantity);\n    amount_volume_weight.addEventListener('input', totalQuantity);\n    amount_add_pack_charge.addEventListener('input', totalQuantity);\n\n    rate_normal_weight.addEventListener('input', totalQuantity);\n    rate_electronics_weight.addEventListener('input', totalQuantity);\n    rate_msic_weight.addEventListener('input', totalQuantity);\n    rate_insurance.addEventListener('input', totalQuantity);\n    rate_volume_weight.addEventListener('input', totalQuantity);\n    rate_awbfee.addEventListener('input', totalQuantity);\n    rate_vat_amount.addEventListener('input', totalQuantity);\n    rate_add_pack_charge.addEventListener('input', totalQuantity);\n\n    discount_weight.addEventListener('input', totalQuantity);\n    rate_discount_weight.addEventListener('input', totalQuantity);\n    amount_discount_weight.addEventListener('input', totalQuantity);\n\n    $(document).ready(function() {\n        totalQuantity();\n        $('#edititemsstore').on('submit', function(event) {\n            totalQuantity();\n        });\n    });\n\n});\n\n\n$(document).ready(function() {\n    $(window).keydown(function(event){\n        if(event.keyCode == 13) {\n        event.preventDefault();\n        return false;\n        }\n    });\n\n    $('input.timepicker').timepicker({\n        timeFormat: 'h:mm p',\n        interval: 1,\n        dynamic: false,\n        dropdown: true,\n        scrollbar: true\n    });\n\n\n\n});\n\n\n\n$(\"#saveDraft\").on('click',function(e){\n    e.preventDefault();\n\n        $.ajax({\n                url: `{{ route('branch.shipment.saveAsDraft') }}`,\n                type: \"GET\",\n                data:  $(\"#edititemsstore\").serialize(),\n                cache: false,\n                contentType: false,\n                processData: false,\n                success: function (result) {\n                        toastr.success( result );\n                    },\n                error:function(error){\n                        console.log(error)\n                        alert(\"not send\");\n                    }\n        });\n\n});\n\n\n\n\n\n\n\n        $(function () {\n                var no_of_pcs = $('#number_of_pcs').val();\n                if(no_of_pcs == 0){\n                    count = 0;\n                } else {\n                    count = parseInt(no_of_pcs);\n                    $(\"#total-package\").css({'display':'block'});\n                    $(\"#TotalDiv\").css({'display':'block'});\n                }\n\n                addItems(count);\n                getValOther();\n\n                document.getElementById(\"edititemsstore\").onkeypress = function(e) {\n                    alert('hello');\n                    var key = e.charCode || e.keyCode || 0;\n                    if (key == 13) {\n\n                        e.preventDefault();\n                    }\n                    else {\n                        addItems(count);\n                    }\n                }\n\n                $(document).ready(function () {\n                    $('.select2').select2();\n                        addremoveClass();\n                    })\n\n\n            });\n\n\n\n\n            $('#addBox').on('click', function () {\n                var no_of_box = parseInt($('#number_of_pcs').val());\n                if( no_of_box == 0 ){\n                    count = 0;\n                    $('#total-package').css({'display':'block'});\n\n                    // $(\"input[name='msic_weight']\").val('');\n                    $(\"input[name='normal_weight']\").val('');\n                    // $(\"input[name='grand_total_weight']\").val('');\n                    $(\"input[name='grand_total_box_value']\").val('');\n                    $(\"input[name='total_freight']\").val('');\n                    $(\"input[name='misc_freight']\").val('');\n                    $(\"input[name='packing_charge']\").val('');\n                    $(\"input[name='grand_total']\").val('');\n\n                }\n\n                count = no_of_box + 1;\n                var number_of_pcs =count;\n                 $('#number_of_pcs').val(count);\n\n                for (i = 0; i <1; i++) {\n\n                       var myClone =  $('#newBoxContainer').clone().attr('id', 'newBoxContainer'+ count);\n\n                        var k =  count;\n                        var j =  count;\n\n                        myClone.find('#newBoxContainer').attr('id','newBoxContainer'+k);\n                        myClone.find('.box-length').attr('name','length'+k);\n                        myClone.find('.box-height').attr('name','height'+k);\n                        myClone.find('.box-width').attr('name','width'+k);\n                        myClone.find('.box-dimension').attr('name','dimension'+k);\n                        myClone.find('.box-dimension').attr('data-no',k);\n                        myClone.find('.box-unit-value').attr('name','unit_value'+k);\n                        myClone.find('.box-weight1').attr('data-weight', k);\n                        myClone.find('.box-weight1').attr('name','weight'+ k);\n                        myClone.find('.box-weight1').attr('class', 'form-control box-weight');\n\n                        myClone.find('.receiver_name_1').attr('name','receiver_name'+ k);\n                        myClone.find('.receiver_address_1').attr('name','receiver_address'+ k);\n                        myClone.find('.receiver_mob_1').attr('name','receiver_mob'+ k);\n                        myClone.find('.receiver_id_no_1').attr('name','receiver_id_no'+ k);\n                        myClone.find('.receiver_id_type').attr('name','receiver_id_type'+ k);\n                        myClone.find('.sender_id_type').attr('name','sender_id_type'+ k);\n                        myClone.find('.sender_pin_1').attr('name','sender_pin'+ k);\n                        myClone.find('.receiver_pin_1').attr('name','receiver_pin'+ k);\n\n                        myClone.find('.sender_id_img_1').attr('name','sender_id_image'+ k + '[]');\n                        myClone.find('.receiver_id_img_1').attr('name','receiver_id_image'+ k + '[]');\n\n                        myClone.find('.sender_name_1').attr('name','sender_name'+ k);\n                        myClone.find('.sender_address_1').attr('name','sender_address'+ k);\n                        myClone.find('.sender_mob_1').attr('name','sender_mob'+ k);\n                        myClone.find('.sender_id_no_1').attr('name','sender_id_no'+ k);\n                        myClone.find('.sender_id_type').attr('name','sender_id_type'+ k);\n\n                        myClone.find('.oldBoxNo').attr('class','form-control col-3 oldBoxNo'+ k);\n                        myClone.find('#noBoxFound').attr('id','noBoxFound'+ k);\n                        myClone.find('.oldBoxFill').attr('data-boxId', k);\n                        myClone.find('.oldBoxFill').attr('class','btn btn-primary fillAdress col-1 ml-2 oldBoxFill'+ k);\n\n                        myClone.find('#box_sender_id').attr('name','box_sender_id'+ k);\n                        myClone.find('#box_receiver_id').attr('name','box_receiver_id'+ k);\n\n                        myClone.find('.box-rate1').attr('data-rate', k);\n                        myClone.find('.box-rate1').attr('name','rate'+ k);\n                        myClone.find('.box-rate1').attr('class', 'form-control box-rate');\n\n                        myClone.find('.box-packing').attr('data-packing', k);\n                        myClone.find('.box-packing').attr('data-no', k);\n                        myClone.find('.box-packing').attr('name','packing'+ k);\n                        myClone.find('.box-packing').attr('class', 'form-control box-packing');\n                        myClone.find('#packing').attr('id', 'packing'+k);\n\n\n                        myClone.find('#selectVolume').attr('id', 'selectVolume'+k);\n\n                        myClone.find('#box_packing_charge').attr('id', 'box_packing_charge'+k);\n                        myClone.find('.box_packing_charge').attr('data-no', k);\n                        myClone.find('.box_packing_charge').attr('name','box_packing_charge'+ k);\n                        myClone.find('.box_packing_charge').attr('class', 'form-control box_packing_charge');\n\n\n                        myClone.find('.box-unit-value').attr('data-unit-value', k);\n                        myClone.find('.box-total-value').attr('name','total_value'+k);\n                        // myClone.find('.volume').attr('data-volume', k);\n                        myClone.find('.volume').attr('name','volume'+ k);\n                        myClone.find('.volume').attr('data-no',k);\n\n                        myClone.find('#other_length').attr('id', 'other_length'+k);\n                        myClone.find('.other_length').attr('name','other_length'+ k);\n                        myClone.find('.other_length').attr('data-no',k);\n\n\n                        myClone.find('#other_width').attr('id', 'other_width'+k);\n                        myClone.find('.other_width').attr('name','other_width'+ k);\n                        myClone.find('.other_width').attr('data-no',k);\n\n                        myClone.find('#other_height').attr('id', 'other_height'+k);\n                        myClone.find('.other_height').attr('name','other_height'+ k);\n                        myClone.find('.other_height').attr('data-no',k);\n\n                        myClone.find('#other_select').attr('id', 'other_select'+k);\n                        myClone.find('.other_select').attr('name','other_select'+ k);\n                        myClone.find('.other_select').attr('data-no',k);\n\n                        var myName = $(this).text();\n                        const booking_number = document.querySelector('input[name=\"booking_number\"]');\n                        myClone.find('.packageinfo-head1').text('Box - '+j+ booking_number.value );\n                        myClone.find('.packageinfo-head1').attr('data-myattri', j);\n                        myClone.find('.packageinfo-head1').attr('class', 'packageinfo-head');\n\n                        myClone.find('.box_name1').val(j+ booking_number.value );\n                        myClone.find('.box_name1').attr('data-myattri', j);\n                        myClone.find('.box_name1').attr('name', 'box_name'+k);\n                        myClone.find('.box_name1').attr('class', 'box_name');\n\n\n\n                        myClone.find('#addpackage').attr('data-myattri', j);\n                        myClone.find('#addpackage').attr('id', 'addpackage'+j);\n                        console.log(j);\n                        console.log(k);\n                        myClone.find('#removeBox').attr('data-myattri', j);\n                        myClone.find('#removeBox').attr('id', 'removeBox'+j);\n                        myClone.find('#additems').attr('id', 'additems'+j);\n                        myClone.find('#packageinfo').attr('id', 'packageinfo'+j);\n                        myClone.find('.packageinfo').attr('class', 'table table-bordered packageinfo'+j);\n                        myClone.find('input[name=\"description[]\"]').attr('name', 'description'+j+'[]');\n                        myClone.find('input[name=\"qty[]\"]').attr('name', 'qty'+j+'[]');\n                        myClone.find('input[name=\"unit[]\"]').attr('name', 'unit'+j+'[]');\n                        myClone.find('input[name=\"unit'+j+'[]\"]').attr('data-myAttri', j);\n                        myClone.find('input[name=\"subtotal[]\"]').attr('name', 'subtotal'+j+'[]');\n                        myClone.find('button[name=\"remove[]\"]').attr('data-remove', j);\n                        myClone.find('button[name=\"remove[]\"]').attr('data-myAttri', j);\n                        myClone.find('#totalAmt').attr('id', 'totalAmt'+j);\n                        myClone.find('#totalqty').attr('id', 'totalqty'+j);\n                        // myClone.find('.box_name').attr('value', '<?=branch()->branch_code?branch()->branch_code:''?>' + j+<?=$bookingNum?>);\n\n                        myClone.clone().appendTo(\"#Container\");\n                        // myClone.clone().prependTo(\"#Container\");\n                        // myClone.clone().prependTo(\"#Container\").find('input:visible:enabled:first').focus();\n                        updateBoxName(j, <?=$bookingNum?>);\n                }\n\n                    $(\"#shiping_method\").trigger(\"change\");\n\n\n                if(number_of_pcs > 0) {\n                    $(\"#TotalDiv\").css({'display':'block'});\n                    $(\"#total-package\").css({'display':'block'});\n                    addItems( count);\n                    // inputChange();\n                    addremoveClass();\n\n                }\n\n                $(\".tot_wgt, .tot_rate, .tot_amt\").trigger(\"input\");\n\n\n\n\n            });\n\n\n\n            function updateBoxName(count, bookingNumber ){\n\n                const booking_number = document.querySelector('input[name=\"booking_number\"]');\n\n                // $(\".box_name\"+i+1).each(function (boxnum) {\n\n                //     var boxnum= boxnum+1;\n                //     console.log(''+ boxnum + booking_number.value);\n                //     $(this).val(''+ boxnum + booking_number.value);\n\n                // });\n\n\n                // $(\".packageinfo-head\").each(function (index) {\n                //     var index =  $(\".packageinfo-head\").length -index;\n                //     // var index= index-1;\n                //     $(this).text('Box - '+ index + booking_number.value );\n\n\n                // });\n\n                $(\".box_name\").each(function (boxnum) {\n                    var no_of_box = parseInt($('#number_of_pcs').val());\n                    var boxnum= boxnum+1;\n                   \n                  //  $(this).val(''+ boxnum + booking_number.value);\n                  $(this).val(''+ booking_number.value+'-'+ boxnum +'/'+no_of_box);\n                    $(this).attr('name', `box_name${boxnum}`);\n\n\n                });\n\n                $(\".packageinfo-head\").each(function (index) {\n                    var no_of_box = parseInt($('#number_of_pcs').val());\n                    var index= index+1;\n                    $(this).text('Box - '+ booking_number.value +' - '  + index +'/'+ no_of_box );\n                });\n\n\n                $(\".sender_name\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `sender_name${index}`);\n                });\n\n                $(\".sender_address\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `sender_address${index}`);\n                });\n\n                $(\".sender_pin\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `sender_pin${index}`);\n                });\n\n                $(\".sender_mob\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `sender_mob${index}`);\n                });\n\n                $(\".sender_id_no\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `sender_id_no${index}`);\n                    $(this).attr('data-index', `${index}`);\n                });\n\n                $(\".sender_id_image_value\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `sender_id_image_value${index}`);\n                });\n\n                $(\".sender_id_image\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `sender_id_image${index}`);\n                });\n\n\n\n\n\n\n                $(\".receiver_name\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `receiver_name${index}`);\n                });\n\n                $(\".receiver_address\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `receiver_address${index}`);\n                });\n\n                $(\".receiver_pin\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `receiver_pin${index}`);\n                });\n\n                $(\".receiver_mob\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `receiver_mob${index}`);\n                });\n\n                $(\".receiver_id_no\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `receiver_id_no${index}`);\n                    $(this).attr('data-index', `${index}`)\n                });\n\n                $(\".sender_id_type\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `sender_id_type${index}`);\n                });\n\n                $(\".receiver_id_image_value\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `receiver_id_image_value${index}`);\n                });\n\n                $(\".receiver_id_image\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `receiver_id_image${index}`);\n                });\n\n                $(\".weight\").each(function (index) {\n                    var index= index+1;\n                    $(this).attr('name', `weight${index}`);\n                });\n\n\n\n\n                $(\".boxcount\").each(function (index) {\n                    var index= index+1;\n\n                    $(this).find(\".descriptions\").each(function() {\n                         $(this).attr(\"name\", `description${index}[]`);\n                    });\n\n                    $(this).find(\".qty\").each(function() {\n                         $(this).attr(\"name\", `qty${index}[]`);\n                    });\n\n                    $(this).find(\".unit\").each(function() {\n                         $(this).attr(\"name\", `unit${index}[]`);\n                    });\n\n                    $(this).find(\".pkg-subtotal\").each(function() {\n                         $(this).attr(\"name\", `subtotal${index}[]`);\n                    });\n                });\n\n            }\n\n\n\n            $('#sender_id').on('change', function () {\n                var address = $(this).find(\":selected\").data('address');\n                var phone = $(this).find(\":selected\").data('phone');\n                $(\"#sender_address\").val(address);\n                $(\"#sender_phone\").val(phone);\n\n            });\n            $('#receiver_id').on('change', function () {\n                var address = $(this).find(\":selected\").data('address');\n                var phone = $(this).find(\":selected\").data('phone');\n                $(\"#receiver_address\").val(address);\n                $(\"#receiver_phone\").val(phone);\n            });\n\n            $.ajaxSetup({\n                headers: {\n                    'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n                }\n            });\n\n\n             $('#AddSender').click(function () {\n\n                $('#AddClient h4.modal-title').text(\"Add Sender\");\n                $('#AddClient #clientType').val(\"sender\");\n                $('.id_no label').text(\"Sender Id\");\n                $('.id_type label').text(\"Sender Identification Type\");\n                // $(\"select[name='client_identification_type']\").val('<?=$previous_sender->identification_type?>');\n                $(\"select[name='country_id']\").val(<?=$previous_sender->address->country_id?>);\n                console.log(<?=$previous_sender->address->country_id?>);\n                $('#state_id').html('');\n                <?php foreach ($previous_sender_state as $key => $value) { ?>\n                      $('#state_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n                <?php } ?>\n\n                $('#city_id').html('');\n                <?php foreach ($previous_sender_city as $key => $value) { ?>\n                      $('#city_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n                <?php } ?>\n\n\n                $(\"#phone\").attr(\"maxlength\", <?=$prev_sender_phon_length->phone_no_length?>);\n                $(\"#whatsapp_number\").attr(\"maxlength\", <?=$prev_sender_phon_length->phone_no_length?>);\n\n                $(\"#phone\").attr(\"placeholder\", \"Enter \"+<?=$prev_sender_phon_length->phone_no_length?$prev_sender_phon_length->phone_no_length:'-'?>+\" digits\");\n                $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+<?=$prev_sender_phon_length->phone_no_length?$prev_sender_phon_length->phone_no_length:'-'?>+\" digits\");\n\n                $(\"select[name='state_id']\").val(<?=$previous_sender->address->state_id?>);\n                $(\"select[name='city_id']\").val(<?=$previous_sender->address->city_id?>);\n                $(\"select[name='country_code_whatsapp']\").val(<?=$previous_sender->country_code_whatsapp?>);\n                $(\"select[name='country_code_phone']\").val(<?=$previous_sender->country_code_phone?>);\n\n                $('#mobile2').text(\"Whatsapp\");\n\n                $('#AddClient').modal('show');\n\n            });\n            $('#EditSender').click(function () {\n        var selectedOption = $('#sender_id').find('option:selected');\n        var senderId = selectedOption.val();\n        isEditMode = true;\n       // alert(senderId);\n        if (senderId) {\n            $('#AddClient .modal-title').text(\"Edit Sender\");\n            $('#sender_id_input').val(senderId); // Set ID field for editing\n            $('#AddClient').modal('show');\n            $('#save_data_user').hide();\n            $('#update_data_receiver').hide();\n            $('#update_data_user').show();\n           \n            // Populate fields with selected receiver data\n            populateFieldsForEdit(selectedOption);\n        } else {\n            alert('Please select a sender to edit.');\n        }\n\n\n                    // JavaScript code to dynamically enable/disable the forward button\n            document.addEventListener('DOMContentLoaded', () => {\n                const forwardButton = document.getElementById('forwardButton');\n\n                // Check initial history length and update button state\n                updateForwardButtonState();\n\n                // Listen for history changes and update button state accordingly\n                window.addEventListener('popstate', () => {\n                    updateForwardButtonState();\n                });\n            });\n\n            function updateForwardButtonState() {\n                const forwardButton = document.getElementById('forwardButton');\n                forwardButton.disabled = history.length <= 1;\n            }\n    });\n      // Function to populate fields for Edit\n      function populateFieldsForEdit(option) {\n        $('#name').val(option.data('name'));\n        $('#email').val(option.data('email'));\n        $('#phone').val(option.data('phone'));\n        $('#address').val(option.data('address'));\n        $('#whatsapp_number').val(option.data('whatsapp_number'));\n       // $('#country_id').val(option.data('country_id'));\n        //$('#state_id').val(option.data('state_id'));\n        //$('#district_id').val(option.data('district_id'));\n        $('#cities').val(option.data('cities'));\n        $('#post').val(option.data('post'));\n        $('#zip_code').val(option.data('zip_code'));\n        $('#country_code_phone').val(option.data('country_code_phone'));\n        $('#country_code_whatsapp').val(option.data('country_code_whatsapp'));\n        $('#client_identification_type').val(option.data('identification_type'));\n        $('#client_identification_number').val(option.data('identification_number'));\n     $('#country_id').val(option.data('country_id')).trigger('change'); // Trigger change to load states\n     $('#state_id').val(option.data('state_id')).trigger('change'); \n     $('#district_id').val(option.data('district_id')).trigger('change');\n   \n            }\n            $('#update_data_user').click(function () {\n    var selectedOption = $('#sender_id').find('option:selected');\n    var senderId = selectedOption.val();\n    var formData = new FormData($('#add_client_shipments')[0]); // Collect form data\n\n    $.ajax({\n        url: '/branch/shipment/update-sender/' + senderId,\n        type: 'POST',\n        data: formData,\n        contentType: false,\n        processData: false,\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') // Add CSRF token header\n        },\n        success: function(response) {\n            if (response.success) {\n                // Hide the modal\n                $('#AddClient').modal('hide');\n\n                // Log the response to see if data is coming as expected\n                console.log(response.data);\n\n                // Remove the existing option and add a new one\n                $('#sender_id option[value=\"' + senderId + '\"]').remove();\n                $('#sender_id').append(\n                    '<option value=\"' + senderId + '\" ' +\n                    'data-identification_type=\"' + response.data.identification_type + '\" ' +\n                    'data-identification_number=\"' + response.data.identification_number + '\" ' +\n                    'data-name=\"' + response.data.name + '\" ' +\n                    'data-email=\"' + response.data.email + '\" ' +\n                    'data-phone=\"' + response.data.phone + '\" ' +\n                    'data-address=\"' + response.data.address + '\" ' +\n                    'data-whatsapp_number=\"' + response.data.whatsapp_number + '\" ' +\n                    'data-country_code_phone=\"' + response.data.country_code_phone + '\" ' +\n                    'data-country_code_whatsapp=\"' + response.data.country_code_whatsapp + '\" ' +\n                    'data-country_id=\"' + response.data.country_id + '\" ' +\n                    'data-state_id=\"' + response.data.state_id + '\" ' +\n                    'data-district_id=\"' + response.data.district_id + '\" ' +\n                    'data-city_id=\"' + response.data.city_id + '\" ' +\n                    'data-zip_code=\"' + response.data.zip_code + '\">' +\n                    response.data.name.toUpperCase() + ' - ' + response.data.phone +\n                    '</option>'\n                );\n\n                // Set the updated option as selected\n                $('#sender_id').val(senderId);\n                 // Update the readonly fields with the new data\n                 $('#sender_address').val(response.data.address);\n                $('#sender_phone').val(response.data.phone);\n            } else {\n                alert('Failed to update sender details.');\n            }\n        },\n        error: function(xhr) {\n            alert('Failed to update sender details.');\n        }\n    });\n});\n\n            $('#AddReceiver').click(function () {\n                $('#AddClient h4.modal-title').text(\"Add Receiver <?=$previous_receiver->address->state_id?>\");\n                $('#AddClient #clientType').val(\"receiver\");\n                $('.id_no label').text(\"Receiver Id\");\n                $('.id_type label').text(\"Receiver Identification Type\");\n                // $(\"select[name='client_identification_type']\").val('<?=$previous_receiver->identification_type?>');\n                $(\"select[name='country_id']\").val(<?=$previous_receiver->address->country_id?>);\n                $('#state_id').html('');\n                <?php foreach ($previous_receiver_state as $key => $value) { ?>\n                      $('#state_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n                <?php } ?>\n\n                $('#city_id').html('');\n                <?php foreach ($previous_receiver_city as $key => $value) { ?>\n                      $('#city_id').append(\"<option value='<?=$value->id?>'><?=$value->name?></option>\");\n                <?php } ?>\n\n\n                $(\"#phone\").attr(\"maxlength\", <?=$prev_receiver_phon_length->phone_no_length?>);\n                $(\"#whatsapp_number\").attr(\"maxlength\", <?=$prev_receiver_phon_length->phone_no_length?>);\n\n                $(\"#phone\").attr(\"placeholder\", \"Enter \"+<?=$prev_receiver_phon_length->phone_no_length?$prev_receiver_phon_length->phone_no_length:'-'?>+\" digits\");\n                $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+<?=$prev_receiver_phon_length->phone_no_length?$prev_receiver_phon_length->phone_no_length:'-'?>+\" digits\");\n\n                $(\"select[name='state_id']\").val(<?=$previous_receiver->address->state_id?>);\n                $(\"select[name='city_id']\").val(<?=$previous_receiver->address->city_id?>);\n                $(\"select[name='country_code_whatsapp']\").val(<?=$previous_receiver->country_code_whatsapp?>);\n                $(\"select[name='country_code_phone']\").val(<?=$previous_receiver->country_code_phone?>);\n\n\n                $('#AddClient').modal('show');\n\n                 $('#mobile2').text(\"Mobile 2\");\n\n                $('#AddClient').modal('show');\n                $('#country_id').trigger('change');\n            });\n\n      // Update receiver\n      $('#EditReceiver').click(function () {\n        var selectedOption = $('#receiver_id').find('option:selected');\n        var receiverId = selectedOption.val();\n        isEditMode = true;\n       // alert(senderId);\n        if (receiverId) {\n            $('#AddClient .modal-title').text(\"Edit Receiver\");\n            $('#sender_id_input').val(receiverId); // Set ID field for editing\n            $('#AddClient').modal('show');\n            $('#save_data_user').hide();\n            $('#update_data_receiver').show();\n            $('#update_data_user').hide();\n           \n            // Populate fields with selected receiver data\n            populateFieldsForEditReceiver(selectedOption);\n        } else {\n            alert('Please select a receiver to edit.');\n        }\n    });\n    function populateFieldsForEditReceiver(option) {\n        $('#name').val(option.data('name'));\n        $('#email').val(option.data('email'));\n        $('#phone').val(option.data('phone'));\n        $('#address').val(option.data('address'));\n        $('#whatsapp_number').val(option.data('whatsapp_number'));\n        $('#country_id').val(option.data('country_id'));\n        $('#state_id').val(option.data('state_id'));\n        $('#district_id').val(option.data('district_id'));\n        $('#cities').val(option.data('cities'));\n        $('#post').val(option.data('post'));\n        $('#zip_code').val(option.data('zip_code'));\n        $('#country_code_phone').val(option.data('country_code_phone'));\n        $('#country_code_whatsapp').val(option.data('country_code_whatsapp'));\n        $('#client_identification_type').val(option.data('identification_type'));\n        $('#client_identification_number').val(option.data('identification_number'));\n    }\n    $('#update_data_receiver').click(function () {\n    var selectedOption = $('#receiver_id').find('option:selected');\n    var receiverId = selectedOption.val();\n    var formData = new FormData($('#add_client_shipments')[0]); // Collect form data\n\n    $.ajax({\n        url: '/branch/shipment/update-receiver/' + receiverId,\n        type: 'POST',\n        data: formData,\n        contentType: false,\n        processData: false,\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content') // Add CSRF token header\n        },\n        success: function(response) {\n            if (response.success) {\n                // Hide the modal\n                $('#AddClient').modal('hide');\n\n                // Log the response to see if data is coming as expected\n                console.log(response.data);\n\n                // Remove the existing option and add a new one\n                $('#receiver_id option[value=\"' + receiverId + '\"]').remove();\n                $('#receiver_id').append(\n                    '<option value=\"' + receiverId + '\" ' +\n                    'data-identification_type=\"' + response.data.identification_type + '\" ' +\n                    'data-identification_number=\"' + response.data.identification_number + '\" ' +\n                    'data-name=\"' + response.data.name + '\" ' +\n                    'data-email=\"' + response.data.email + '\" ' +\n                    'data-phone=\"' + response.data.phone + '\" ' +\n                    'data-address=\"' + response.data.address + '\" ' +\n                    'data-whatsapp_number=\"' + response.data.whatsapp_number + '\" ' +\n                    'data-country_code_phone=\"' + response.data.country_code_phone + '\" ' +\n                    'data-country_code_whatsapp=\"' + response.data.country_code_whatsapp + '\" ' +\n                    'data-country_id=\"' + response.data.country_id + '\" ' +\n                    'data-state_id=\"' + response.data.state_id + '\" ' +\n                    'data-district_id=\"' + response.data.district_id + '\" ' +\n                    'data-city_id=\"' + response.data.city_id + '\" ' +\n                    'data-zip_code=\"' + response.data.zip_code + '\">' +\n                    response.data.name.toUpperCase() + ' - ' + response.data.phone +\n                    '</option>'\n                );\n\n                // Set the updated option as selected\n                $('#receiver_id').val(receiverId);\n                 // Update the readonly fields with the new data\n                 $('#receiver_address').val(response.data.address);\n                $('#receiver_phone').val(response.data.phone);\n            } else {\n                alert('Failed to update receiver details.');\n            }\n        },\n        error: function(xhr) {\n            alert('Failed to update receiver details.');\n        }\n    });\n});\n\n\n            $('.modal').on('hidden.bs.modal', function (e) {\n                $(this).find(\"input,textarea,select\").val('').end()\n                .find(\"input[type=checkbox], input[type=file], input[type=radio]\")\n                .prop(\"checked\", \"\")\n                .end();\n            })\n\n\n            var index = 1;\n\n            function addItems(number_of_pcs) {\n                for( let i = 1; i <= number_of_pcs; i++) {\n                    $(document).on(\"input\", \".unit\", function () {\n                        $(\"input[name='unit\"+i+\"[]']\").each(function () {\n                            var qty = $(this).parent('td').prev('td').find('input').val()\n                            var unit = $(this).val();\n                            $(this).parent('td').next('td').find('input').val((qty * unit).toFixed(2));\n                            console.log((qty * unit).toFixed(2));\n                        });\n\n                        var sum = 0;\n                        $(\"input[name='subtotal\"+i+\"[]']\").each(function () {\n                            sum += +$(this).val();\n                        });\n                        $(\"#totalAmt\"+i).text(sum);\n                        $(\"#inp_totalAmt\"+i).text(sum);\n                    })\n\n\n                    $(document).on(\"input\", \".qty\", function () {\n                        var sum = 0;\n                        $(\"input[name='qty\"+i+\"[]']\").each(function () {\n                            var qty = $(this).val();\n                            var unit = $(this).parent('td').next('td').find('input').val();\n                            $(this).closest('tr').find('td:nth-child(5) input').val((qty * unit).toFixed(2));\n                            sum += +$(this).val();\n                        });\n                        $(\"#totalqty\"+i).text(sum);\n                        var sum = 0;\n                        $(\"input[name='subtotal\"+i+\"[]']\").each(function () {\n                            sum += +$(this).val();\n                        });\n                        $(\"#totalAmt\"+i).text(sum);\n                    })\n                }\n\n            }\n\n\n                $(document).on(\"input\", \".box-weight\", function () {\n                        var sum_value = 0;\n                        $('.box-weight').each(function(){\n                            sum_value += +$(this).val();\n                            $(\"input[name='normal_weight']\").val(sum_value);\n                            $(\"input[name='normal_weight_temp']\").val(sum_value);\n                            // $(\"input[name='grand_total_weight']\").val(sum_value);\n                        })\n                        $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n                        var wgt = $(this).attr(\"data-weight\");\n                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n                        var rate = parseFloat($(\"input[name='rate\"+wgt+\"']\").val());\n                        $(\"input[name='total_value\"+wgt+\"']\").val( (total_weight * rate).toFixed(2));\n                        $(\"input[name='electronics_weight']\").trigger(\"keyup\");\n                })\n\n                $(document).on(\"input\", \".box-rate\", function () {\n                        var wgt = $(this).attr(\"data-rate\");\n                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n                        var rate = parseFloat($(\"input[name='rate\"+wgt+\"']\").val());\n                        $(\"input[name='total_value\"+wgt+\"']\").val((total_weight * rate).toFixed(2));\n                        $(\"input[name='electronics_weight']\").trigger(\"keyup\");\n                })\n\n                $(document).on(\"input\", \".box-unit-value\", function () {\n                        var wgt = $(this).attr(\"data-unit-value\");\n                        var total_weight = parseFloat($(\"input[name='weight\"+wgt+\"']\").val());\n                        var total_unit_value = parseFloat($(\"input[name='unit_value\"+wgt+\"']\").val());\n                })\n\n\n                $(document).on(\"input\", \".box_packing_charge\", function () {\n                    var sum_value = 0;\n                        $('.box_packing_charge').each(function(){\n                            sum_value += +$(this).val();\n                            $(\"input[name='packing_charge']\").val(sum_value);\n                        })\n\n                        $(\".gtotal\").trigger(\"input\");\n                })\n\n\n\n            $(document).on(\"input\", \".gtotal\", function () {\n                var sum_value = 0;\n                $('.gtotal').each(function(){\n\n                    sum_value += +$(this).val();\n                    if($(\"#discount\").val() != '') {\n                        var discount =  parseFloat($(\"#discount\").val());\n                    } else {\n                        var discount = 0;\n                    }\n                    $(\"input[name='grand_total']\").val(parseFloat(sum_value) - discount );\n\n                })\n            })\n\n\n            $(document).on(\"input\", \"#discount\", function () {\n                $(\".discount\").val( $('#discount').val());\n                var sum_value = 0;\n                $('.gtotal').each(function(){\n                    sum_value += +$(this).val();\n                    if($(\"#discount\").val() != '') {\n                        var discount =  parseFloat($(\"#discount\").val());\n                    } else {\n                        var discount = 0;\n                    }\n                    $(\"input[name='grand_total']\").val(parseFloat(sum_value) - discount );\n                });\n            })\n\n            $(\".grand_total_weight, .rate_normal_weight \").keyup(function(){\n                var wgt = $(this).attr(\"data-unit-value\");\n                var total_weight = parseFloat($(\"input[name='grand_total_weight']\").val());\n                var total_rate_value = parseFloat($(\"input[name='rate_normal_weight']\").val());\n                $(\"input[name='amount_normal_weight']\").val( (total_weight * total_rate_value).toFixed(2));\n                $(\".tot_amt\").trigger(\"keyup\");\n                $(\".gtotal\").trigger(\"input\");\n            })\n\n\n            //     $(\".electronics_weight, .rate_electronics_weight \").keyup(function(){\n            //         var wgt = $(this).attr(\"data-unit-value\");\n            //         var total_weight = parseFloat($(\"input[name='electronics_weight']\").val());\n            //         var total_rate_value = parseFloat($(\"input[name='rate_electronics_weight']\").val());\n            //         $(\"input[name='amount_electronics_weight']\").val( total_weight * total_rate_value);\n\n            //         var normal_weight = 0;\n            //         var msic_weight = 0;\n            //         var other_weight = 0;\n            //         var electronics_weight = 0;\n            //         var amount_other_weight =0;\n            //         // var insurance = 0;\n            //         // var awbfee = 0;\n            //         // var vat_amount = 0;\n            //         // var volume_weight = 0;\n\n\n            //         normal_weight = isNaN(parseFloat($(\"input[name='normal_weight_temp']\").val())) ? 0 : parseFloat($(\"input[name='normal_weight_temp']\").val());\n            //         msic_weight = isNaN(parseFloat($(\"input[name='msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='msic_weight']\").val());\n            //         electronics_weight = isNaN(parseFloat($(\"input[name='electronics_weight']\").val()))? 0: parseFloat($(\"input[name='electronics_weight']\").val());\n            //         other_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val()))? 0: parseFloat($(\"input[name='other_weight']\").val());\n            //         // insurance = isNaN(parseFloat($(\"input[name='insurance']\").val())) ? 0 : parseFloat($(\"input[name='insurance']\").val());\n            //         // awbfee = isNaN(parseFloat($(\"input[name='awbfee']\").val())) ? 0 : parseFloat($(\"input[name='awbfee']\").val());\n            //         // vat_amount = isNaN(parseFloat($(\"input[name='vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='vat_amount']\").val());\n            //         // volume_weight = isNaN(parseFloat($(\"input[name='volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='volume_weight']\").val());\n\n\n            //         rate_normal_weight = isNaN(parseFloat($(\"input[name='rate_normal_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_normal_weight']\").val());\n            //         rate_msic_weight = isNaN(parseFloat($(\"input[name='rate_msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_msic_weight']\").val());\n            //         rate_electronics_weight = isNaN(parseFloat($(\"input[name='rate_electronics_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_electronics_weight']\").val());\n            //         rate_other_weight = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n            //         // rate_insurance = isNaN(parseFloat($(\"input[name='rate_insurance']\").val())) ? 0 : parseFloat($(\"input[name='rate_insurance']\").val());\n            //         // rate_awbfee = isNaN(parseFloat($(\"input[name='rate_awbfee']\").val())) ? 0 : parseFloat($(\"input[name='rate_awbfee']\").val());\n            //         // rate_vat_amount = isNaN(parseFloat($(\"input[name='rate_vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='rate_vat_amount']\").val());\n            //         // rate_volume_weight = isNaN(parseFloat($(\"input[name='rate_volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_volume_weight']\").val());\n\n\n            //         amount_normal_weight =  isNaN(normal_weight * rate_normal_weight) ? 0 : normal_weight * rate_normal_weight;\n            //         amount_msic_weight =  isNaN(msic_weight * rate_msic_weight) ? 0 : msic_weight * rate_msic_weight;\n            //         amount_electronics_weight =  isNaN(electronics_weight * rate_electronics_weight)? 0 : electronics_weight * rate_electronics_weight;\n            //         amount_other_weight =  isNaN(other_weight * rate_other_weight)? 0 : other_weight * rate_other_weight;\n            //         // amount_insurance =  isNaN(insurance * rate_insurance) ? 0 : insurance * rate_insurance;\n            //         // amount_awbfee =  isNaN(awbfee * rate_awbfee) ? 0 : awbfee * rate_awbfee;\n            //         // amount_vat_amount =  isNaN(vat_amount * rate_vat_amount) ? 0 : vat_amount * rate_vat_amount;\n            //         // amount_volume_weight =  isNaN(volume_weight * rate_volume_weight) ? 0 : volume_weight * rate_volume_weight;\n            //         // var elec_mis_oth_wgt =  parseFloat(msic_weight)   + parseFloat(electronics_weight);\n\n            //         $(\"input[name='amount_msic_weight']\").val(amount_msic_weight);\n            //         $(\"input[name='amount_electronics_weight']\").val(amount_electronics_weight);\n\n            //         // $(\"input[name='amount_insurance']\").val(amount_insurance);\n            //         // $(\"input[name='amount_awbfee']\").val(amount_awbfee);\n            //         // $(\"input[name='amount_vat_amount']\").val(amount_vat_amount);\n            //         // $(\"input[name='amount_volume_weight']\").val(amount_volume_weight);\n\n            //         //$(\"input[name='amount_grand_total']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n            //         $(\"input[name='total_freight']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n            //         console.log(amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight, 'sdfbfjhbsdljh');\n\n            //         $(\".grand_total_weight\").trigger(\"keyup\");\n            //         $(\".rate_electronics_weight\").trigger(\"input\");\n\n            // })\n\n\n            // $(\" .msic_weight, .rate_msic_weight \").keyup(function(){\n            //     var wgt = $(this).attr(\"data-unit-value\");\n            //     var total_weight = parseFloat($(\"input[name='msic_weight']\").val());\n            //     var total_rate_value = parseFloat($(\"input[name='rate_msic_weight']\").val());\n\n            //     $(\"input[name='amount_msic_weight']\").val( total_weight * total_rate_value);\n\n\n            //     var normal_weight = 0;\n            //     var msic_weight = 0;\n            //     var other_weight = 0;\n            //     var electronics_weight = 0;\n            //     var amount_other_weight =0;\n            //     // var insurance = 0;\n            //     // var awbfee = 0;\n            //     // var vat_amount = 0;\n            //     // var volume_weight = 0;\n\n            //     normal_weight =  isNaN(parseFloat($(\"input[name='normal_weight']\").val()))? 0 : parseFloat($(\"input[name='normal_weight']\").val());\n            //     msic_weight = isNaN(parseFloat($(\"input[name='msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='msic_weight']\").val());\n            //     electronics_weight = isNaN(parseFloat($(\"input[name='electronics_weight']\").val()))? 0: parseFloat($(\"input[name='electronics_weight']\").val());\n            //     other_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val()))? 0: parseFloat($(\"input[name='other_weight']\").val());\n            //     // insurance = isNaN(parseFloat($(\"input[name='insurance']\").val())) ? 0 : parseFloat($(\"input[name='insurance']\").val());\n            //     // awbfee = isNaN(parseFloat($(\"input[name='awbfee']\").val())) ? 0 : parseFloat($(\"input[name='awbfee']\").val());\n            //     // vat_amount = isNaN(parseFloat($(\"input[name='vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='vat_amount']\").val());\n            //     // volume_weight = isNaN(parseFloat($(\"input[name='volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='volume_weight']\").val());\n\n\n            //     rate_normal_weight = isNaN(parseFloat($(\"input[name='rate_normal_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_normal_weight']\").val());\n            //     rate_msic_weight = isNaN(parseFloat($(\"input[name='rate_msic_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_msic_weight']\").val());\n            //     rate_electronics_weight = isNaN(parseFloat($(\"input[name='rate_electronics_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_electronics_weight']\").val());\n            //     rate_other_weight = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n            //     // rate_insurance = isNaN(parseFloat($(\"input[name='rate_insurance']\").val())) ? 0 : parseFloat($(\"input[name='rate_insurance']\").val());\n            //     // rate_awbfee = isNaN(parseFloat($(\"input[name='rate_awbfee']\").val())) ? 0 : parseFloat($(\"input[name='rate_awbfee']\").val());\n            //     // rate_vat_amount = isNaN(parseFloat($(\"input[name='rate_vat_amount']\").val())) ? 0 : parseFloat($(\"input[name='rate_vat_amount']\").val());\n            //     // rate_volume_weight = isNaN(parseFloat($(\"input[name='rate_volume_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_volume_weight']\").val());\n\n            //     amount_normal_weight =  isNaN(normal_weight * rate_normal_weight) ? 0 : normal_weight * rate_normal_weight;\n            //     amount_msic_weight =  isNaN(msic_weight * rate_msic_weight) ? 0 : msic_weight * rate_msic_weight;\n            //     amount_electronics_weight =  isNaN(electronics_weight * rate_electronics_weight)? 0 : electronics_weight * rate_electronics_weight;\n            //     amount_other_weight =  isNaN(other_weight * rate_other_weight)? 0 : other_weight * rate_other_weight;\n            //     // amount_insurance =  isNaN(insurance * rate_insurance) ? 0 : insurance * rate_insurance;\n            //     // amount_awbfee =  isNaN(awbfee * rate_awbfee) ? 0 : awbfee * rate_awbfee;\n            //     // amount_vat_amount =  isNaN(vat_amount * rate_vat_amount) ? 0 : vat_amount * rate_vat_amount;\n            //     // amount_volume_weight =  isNaN(volume_weight * rate_volume_weight) ? 0 : volume_weight * rate_volume_weight;\n\n\n            //     var elec_mis_oth_wgt =  parseFloat(msic_weight)  + parseFloat(electronics_weight)\n\n            //     $(\"input[name='amount_msic_weight']\").val(amount_msic_weight);\n            //     $(\"input[name='amount_electronics_weight']\").val(amount_electronics_weight);\n            //     // $(\"input[name='amount_insurance']\").val(amount_insurance);\n            //     // $(\"input[name='amount_awbfee']\").val(amount_awbfee);\n            //     // $(\"input[name='amount_vat_amount']\").val(amount_vat_amount);\n            //     // $(\"input[name='amount_volume_weight']\").val(amount_volume_weight);\n            //     // $(\"input[name='grand_total_weight']\").val( parseFloat(normal_weight) - parseFloat(elec_mis_oth_wgt));\n\n\n            //     $(\"input[name='amount_grand_total']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n            //     $(\"input[name='total_freight']\").val( amount_normal_weight + amount_msic_weight + amount_other_weight + amount_electronics_weight);\n\n            //     $(\".grand_total_weight\").trigger(\"keyup\");\n            //     $(\".tot_amt\").trigger(\"keyup\");\n            //      $(\".gtotal\").trigger(\"input\");\n\n\n            //     })\n\n\n\n                $(\".other_weight, .rate_other_weight\").keyup(function(){\n\n                var total_weight = isNaN(parseFloat($(\"input[name='other_weight']\").val())) ? 0 : parseFloat($(\"input[name='other_weight']\").val());\n                var total_rate_value = isNaN(parseFloat($(\"input[name='rate_other_weight']\").val())) ? 0 : parseFloat($(\"input[name='rate_other_weight']\").val());\n\n                var normal_weight = isNaN(parseFloat($(\"input[name='normal_weight_temp']\").val())) ? 0 : parseFloat($(\"input[name='normal_weight_temp']\").val());\n                $(\"input[name='normal_weight']\").val(normal_weight +total_weight );\n\n                $(\"input[name='amount_other_weight']\").val( total_weight * total_rate_value);\n                $(\".tot_amt\").trigger(\"keyup\");\n                $(\".gtotal\").trigger(\"input\");\n            });\n\n\n\n\n\n            $(\".tot_amt\").keyup(function(){\n                var sum_value = 0;\n                $('.tot_amt').each(function(){\n                    sum_value += +$(this).val();\n                    $(\"input[name='amount_grand_total']\").val( sum_value);\n                    $(\"input[name='total_freight']\").val( sum_value );\n                })\n            })\n\n\n            $(document).on(\"click\", \".fillAdress\", function (event) {\n                var boxId = $(this).attr('data-boxid');\n                var boxName = $('.oldBoxNo' + boxId).val();\n\n                $.ajax({\n                    url: '/branch/get_box_data',\n                    type: 'GET',\n                    data: { box_name: boxName },\n                    success: function(response) {\n                        if (response.success) {\n                            console.log(response.data);\n                            $('#noBoxFound' + boxId).html(response.message);\n\n                            var data = response.data;\n                            $('input[name=\"sender_name' + boxId + '\"]').val(data.sender_name);\n                            $('textarea[name=\"sender_address' + boxId + '\"]').val(data.sender_address);\n                            $('input[name=\"sender_pin' + boxId + '\"]').val(data.sender_pin);\n                            $('input[name=\"sender_mob' + boxId + '\"]').val(data.sender_mob);\n                            $('select[name=\"sender_id_type' + boxId + '\"]').val(data.sender_id_type);\n                            $('input[name=\"sender_id_no' + boxId + '\"]').val(data.sender_id_no);\n                            // $('input[name=\"sender_id_image' + boxId + '\"]').val(data.sender_id_image);\n                            $('input[name=\"receiver_name' + boxId + '\"]').val(data.receiver_name);\n                            $('input[name=\"receiver_id_no' + boxId + '\"]').val(data.receiver_id_no);\n                            $('textarea[name=\"receiver_address' + boxId + '\"]').val(data.receiver_address);\n                            $('input[name=\"receiver_pin' + boxId + '\"]').val(data.receiver_pin);\n                            $('input[name=\"receiver_mob' + boxId + '\"]').val(data.receiver_mob);\n                            $('select[name=\"receiver_id_type' + boxId + '\"]').val(data.receiver_id_type);\n                            // $('input[name=\"receiver_id_image' + boxId + '\"]').val(data.receiver_id_image);\n                        } else {\n                            $('#noBoxFound' + boxId).html(response.message);\n                            console.log(response.message);\n                        }\n                    },\n                    error: function(xhr, status, error) {\n                        console.error('AJAX Error: ' + status + ' ' + error);\n                    }\n                });\n            });\n\n\n\n            $(document).on(\"click\", \".addpackage\", function (event) {\n                var i = $(this).attr(\"data-myattri\");\n                var si = parseInt($(':input[name=\"description'+i+'[]\"]').length)+1;\n                var tr = $('#tr').html();\n                        var html = `<tr>\n                                    <td style=\"padding:10px\" width=\"2%\"><span class=\"form-control border-0\">`+si+`</span></td>\n                                    <td style=\"padding:10px\" width=\"40%\"><input placeholder=\"Enter description\" type=\"text\" name=\"description`+i+`[]\" class=\"form-control descriptions\"></td>\n                                        <td style=\"padding:10px\"><input placeholder=\"Enter quantity\" type=\"number\" name=\"qty`+i+`[]\"  class=\"form-control qty\"></td>\n                                        <td style=\"padding:10px\"><input type=\"number\"  data-myAttri=\"`+i+`\" placeholder=\"Enter unit price\" name=\"unit`+i+`[]\" class=\"form-control unit\" step=\"0.01\"></td>\n                                        <td style=\"padding:10px\"><input type=\"text\" readonly name=\"subtotal`+i+`[]\" class=\"form-control value pkg-subtotal\"></td>\n                                        <td>\n                                        <button type=\"button\"  name=\"remove`+i+`[]\" class=\"remove btn btn-danger\" data-remove=\"`+i+`\">X</button>\n                                        </td>\n                                    </tr>`;\n                        $('#packageinfo'+i+' table').append(html);\n                        addremoveClass();\n                        $(\"input[name='description\"+i+\"[]']\").focus();\n\n            });\n\n\n            $(document).on(\"click\", \".removeBox\", function (event) {\n                    var boxNo = $(this).attr(\"data-myattri\");\n                    var boxCount = $('#number_of_pcs').val();\n                    boxCount = boxCount -1;\n\n\n                    $('#number_of_pcs').val(boxCount);\n                    $('#number_of_pcs').val(boxCount);\n                    $(\"#newBoxContainer\"+boxNo).remove();\n                        if( boxCount == 0){\n                            $(\"#TotalDiv\").css({'display':'none'});\n                            $(\"#total-package\").css({'display':'none'});\n                        }\n\n                        $(\".box-weight\").trigger(\"input\");\n                        $(\".box-unit-value\").trigger(\"input\");\n                        // $(\".msic_weight\").trigger(\"input\");\n                        $(\".gtotal\").trigger(\"input\");\n                        $(\"#discount\").trigger(\"input\");\n                        $(\".qty\").trigger(\"keyup\");\n                        $(\".unit\").trigger(\"keyup\");\n\n                        // addItems(boxCount);\n                        $(\".tot_wgt, .tot_rate, .tot_amt\").trigger(\"input\");\n\n\n                        updateBoxName(boxCount, boxNo );\n            });\n\n\n\n            $(document).on(\"keyup\", \".qty\", function (event) {\n\n                var box_total = 0;\n                $('.pkg-subtotal').each(function(){\n                    box_total += +$(this).val();\n                    $(\"#totalPackageAmt\").html(box_total);\n                    $(\"input[name='package_total_amount']\").val(box_total );\n                });\n\n                var box_qty_total = 0;\n                $('.qty').each(function(){\n                    box_qty_total += +$(this).val();\n                    $(\"#totalPackageqty\").html(box_qty_total);\n                    $(\"input[name='package_total_quantity']\").val( box_qty_total );\n                });\n\n\n                var box_total = 0;\n                $('.pkg-subtotal').each(function(){\n                    box_total += +$(this).val();\n                    $(\"#totalPackageAmt\").html(box_total);\n                    $(\"input[name='package_total_amount']\").val(box_total  );\n\n                });\n\n\n            });\n\n            $(document).on(\"keyup\", \".unit\", function (event) {\n                var keyPressed = event.keyCode || event.which;\n                if (keyPressed == 13) {\n                    var packageNo = $(this).attr(\"data-myAttri\");\n                    $(\"#addpackage\"+packageNo).click();\n                    event.preventDefault();\n                    return false;\n                }\n\n                var box_total = 0;\n                $('.pkg-subtotal').each(function(){\n                    box_total += +$(this).val();\n                    $(\"#totalPackageAmt\").html(box_total);\n                    $(\"input[name='package_total_amount']\").val(box_total  );\n                });\n            });\n\n\n\n            function addremoveClass() {\n\n                $('.remove').click(function(){\n\n                    var no_of_box = $('.body .boxcount').length;\n\n                    var boxNo = $(this).attr(\"data-myAttri\");\n                    var totalRowCount = $(\".packageinfo\"+boxNo+\" tr\").length;\n\n                    if(no_of_box == 1 ){\n                        $('#total-package').css({'display':'none'});\n                    }\n\n\n                    $(this).closest(\"tr\").remove();\n                    var rm_id = $(this).attr(\"data-remove\");\n                        var sum = 0;\n                        $(\"input[name='subtotal\"+rm_id+\"[]']\").each(function () {\n                            sum += +$(this).val();\n                        });\n                        $(\"#totalAmt\"+rm_id+\"\").text(sum);\n\n                        var qtysum = 0;\n                        $(\"input[name='qty\"+rm_id+\"[]']\").each(function () {\n                            qtysum += +$(this).val();\n                        });\n                        $(\"#totalqty\"+rm_id+\"\").text(qtysum);\n\n                        var rtotamtsum =0;\n                        $(\".rtotamt\").each(function () {\n                            rtotamtsum += parseFloat($(this).text());\n\n                        });\n\n                        $(\"#totalPackageAmt\").text(rtotamtsum);\n                        $(\"input[name='package_total_amount']\").val(rtotamtsum);\n\n                        var rtotqtysum = 0;\n                        $(\".rtotqty\").each(function () {\n                            rtotqtysum += parseFloat($(this).text());\n                        });\n                        $(\"#totalPackageqty\").text(rtotqtysum);\n                        $(\"input[name='package_total_quantity']\").val(rtotqtysum);\n\n                    });\n            }\n\n            $('#country_id').change(function () {\n                var country_id = $(this).val();\n                $('#loader').removeClass('d-none');\n                const url = \"{{route('states')}}?country_id=\" + country_id;\n                // console.log(url);\n                $.ajax({\n                    url: url,\n                    type: \"GET\",\n                    dataType: \"json\",\n                    success: function (result) {\n                        // when call is sucessfull\n                        // console.log(result);\n                        $('#loader').addClass('d-none');\n                        let option = ``;\n                        $('#state_id').html('<option value=\"\">Select State</option>');\n                        $.each(result.states, function (key, value) {\n                            $(\"#state_id\").append('<option value=\"' + value\n                                .id + '\">' + value.name + '</option>');\n                        });\n\n                        $('.country_code').val(result.phonecode);\n                        if(result.phone_no_length!= null)\n                        {\n                            $(\"#phone\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n                            $(\"#phone\").attr(\"maxlength\", result.phone_no_length);\n                            $(\"#whatsapp_number\").attr(\"maxlength\", result.phone_no_length);\n                        } else {\n                            $(\"#phone\").attr(\"placeholder\", \"Enter phone\");\n                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter phone\");\n                        }\n\n                    }, error: function (er) {\n                        console.log(er);\n                    }\n\n                }); // ajax call closing\n            })\n\n            $(\"#country_code_whatsapp\").change(function () {\n                 var country_code = $(this).val();\n                $('#loader').removeClass('d-none');\n                const url = \"{{route('getCountry')}}?country_code=\" + country_code;\n                $.ajax({\n                    url: url,\n                    type: \"GET\",\n                    dataType: \"json\",\n                    success: function (result) {\n                        // when call is sucessfull\n\n                        $('#loader').addClass('d-none');\n                        if(result.phone_no_length!= null)\n                        {\n                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n                            $(\"#whatsapp_number\").attr(\"maxlength\", result.phone_no_length);\n                        } else {\n                            $(\"#whatsapp_number\").attr(\"placeholder\", \"Enter phone\");\n                        }\n\n                    }, error: function (er) {\n                        console.log(er);\n                    }\n                }); // ajax call closing\n            });\n\n\n\n            $(\"#country_code_phone\").change(function () {\n\n                var country_code = $(this).val();\n                $('#loader').removeClass('d-none');\n                const url = \"{{route('getCountry')}}?country_code=\" + country_code;\n                $.ajax({\n                    url: url,\n                    type: \"GET\",\n                    dataType: \"json\",\n                    success: function (result) {\n                        // when call is sucessfull\n                        console.log(result);\n                        // return false;\n                        $('#loader').addClass('d-none');\n\n                        if(result.phone_no_length!= null)\n                        {\n                            $(\"#phone\").attr(\"placeholder\", \"Enter \"+result.phone_no_length+\" digits\");\n                            $(\"#phone\").attr(\"maxlength\", result.phone_no_length);\n                        } else {\n                            $(\"#phone\").attr(\"placeholder\", \"Enter phone\");\n\n                        }\n\n                    }, error: function (er) {\n                        console.log(er);\n                    }\n                }); // ajax call closing\n\n\n            });\n\n\n\n            $('#state_id').change(function () {\n                var state_id = $(this).val();\n                $('#loader').removeClass('d-none');\n                const url = \"{{route('cities')}}?state_id=\" + state_id;\n                console.log(url);\n                $.ajax({\n                    url: url,\n                    type: \"GET\",\n                    dataType: \"json\",\n                    success: function (result) {\n                        // when call is sucessfull\n                        console.log(result);\n                        $('#loader').addClass('d-none');\n                        let option = ``;\n                        $('#city_id').html('<option value=\"\">Select City</option>');\n                        $.each(result, function (key, value) {\n                            $(\"#city_id\").append('<option value=\"' + value\n                                .id + '\">' + value.name + '</option>');\n                        });\n\n                    }, error: function (er) {\n                        console.log(er);\n                    }\n\n                }); // ajax call closing\n            })\n\n\n            $('#state_id').change(function () {\n                var state_id = $(this).val();\n                $('#loader').removeClass('d-none');\n                const url = \"{{route('districts')}}?state_id=\" + state_id;\n                console.log(url);\n                $.ajax({\n                    url: url,\n                    type: \"GET\",\n                    dataType: \"json\",\n                    success: function (result) {\n                        // when call is sucessfull\n                        console.log(result);\n                        $('#loader').addClass('d-none');\n                        let option = ``;\n                        $('#district_id').html('<option value=\"\">Select District</option>');\n                        $.each(result, function (key, value) {\n                            $(\"#district_id\").append('<option value=\"' + value\n                                .id + '\">' + value.name + '</option>');\n                        });\n\n                    }, error: function (er) {\n                        console.log(er);\n                    }\n\n                }); // ajax call closing\n            })\n\n\n\n            $('#collected_by').change(function () {\n                var collected = $(this).val();\n                $('#loader').removeClass('d-none');\n                const url = \"{{route('branch.collectedBy')}}?collected=\" + collected;\n                console.log(url);\n                $.ajax({\n                    url: url,\n                    type: \"GET\",\n                    dataType: \"json\",\n                    success: function (result) {\n                        // when call is sucessfull\n                        $('#loader').addClass('d-none');\n\n                        $('#driver_or_staff').html(result.res);\n\n                    }, error: function (er) {\n                        console.log(er);\n                    }\n\n                }); // ajax call closing\n            })\n\n\n            function calculateTotal() {\n                let weight = $('#weight').val()\n                let rate = $('#rate').val();\n                let packing_charge = $('#packing_charge').val();\n                let other_charges = $('#other_charges').val();\n                let discount = $('#discount').val();\n                console.log(weight * rate);\n                if (typeof weight === \"undefined\" || weight == null) {\n                    weight = 0;\n                }\n                if (typeof rate === \"undefined\" || rate == null) {\n                    rate = 0;\n                }\n                if (typeof packing_charge === \"undefined\" || packing_charge == null) {\n                    packing_charge = 0;\n                }\n                if (typeof other_charges === \"undefined\" || other_charges == null) {\n                    other_charges = 0;\n                }\n                if (typeof discount === \"undefined\" || discount == null) {\n                    discount = 0;\n                }\n                let am = (weight * rate);\n                let grossTotal = am + parseFloat(packing_charge) + parseFloat(other_charges)\n                let total = grossTotal - discount;\n                $('#total_amount').val(total);\n            }\n\n            $(\"#add_client_shipments\").submit(function (e) {\n                e.preventDefault();\n                $('.valid-err').hide()\n                $('#loader').removeClass('d-none');\n                var formData = new FormData(this);\n                for (var p of formData) {\n                    let name = p[0];\n                    let value = p[1];\n\n                    console.log(name, value)\n                }\n                $.ajax({\n                    url: `{{ route('branch.customers.store') }}`,\n                    type: \"POST\",\n                    data: formData,\n                    cache: false,\n                    contentType: false,\n                    processData: false,\n                    success: function (result) {\n                        // when call is sucessfull\n                        if (result.success === true) {\n                            clearForm()\n                            $('#loader').addClass('d-none');\n                            var message = `<span class=\"alert alert-success\">` + result.message + `</span>`;\n                            console.log(result);\n                            $('#msg').html(message)\n                            $('#' + result.data.type + '_id').append(`<option value=\"` + result.data.id + `\" selected>` + result.data.name + `<option>`);\n                            toastr.info(result.data.address.address);\n                            $('#' + result.data.type + '_address').val(result.data.address.address)\n                            setTimeout(() => {\n                                $('.modal').modal('hide');\n                                $('.alert').hide();\n                            }, 2000);\n                        } else {\n                            toastr.error(result.message);\n                        }\n\n                    },\n                    error: function (err) {\n                        // check the err for error details\n                        console.log(err);\n                        $('#loader').addClass('d-none');\n                        $.each(err.responseJSON.errors, function (key, item) {\n                            $('#' + key).after('<label class=\"valid-err text-danger\">' + item + '</label>')\n                        });\n                    }\n                }); // ajax call closing\n\n            });\n\n\n\n        function clearForm() {\n            $('#name').val(\"\");\n            $('#email').val(\"\");\n            $('#phone').val(\"\");\n            $('#zip_code').val(\"\");\n            $('#address').val(\"\");\n            $('#client_identification_number').val(\"\");\n        }\n\n\n        $('.btnAction').click(function () {\n\n            $(this).html('<i class=\"fa fa-spinner fa-spin\"></i> Loading...');\n            $(this).attr('disabled', true);\n            $('#basic-form').submit();\n        });\n\n\nfunction getval(event)\n{\n\n\n    var boxNo =event.dataset.no;\n    var weight = $(\"input[name='weight\"+boxNo+\"']\").val();\n    var volume = $(\"select[name='volume\"+boxNo+\"']\").val();\n    var packing = $(\"select[name='packing\"+boxNo+\"']\").val();\n    var dataid = $(\"select[name='dimension\"+boxNo+\"']\").val();\n    // var dataid = event.options[event.selectedIndex].dataset.id;\n        if( dataid == 0 ){\n\n            $(\"#other_height\"+boxNo).removeClass(\"d-none\");\n            $(\"#other_length\"+boxNo).removeClass(\"d-none\");\n            $(\"#other_width\"+boxNo).removeClass(\"d-none\");\n            $(\"#other_select\"+boxNo).removeClass(\"d-none\");\n            $(\"input[name='box_packing_charge\"+boxNo+\"']\").val('');\n\n            $(\"#packing\"+boxNo).addClass(\"d-none\");\n            $(\"#selectVolume\"+boxNo).addClass(\"d-none\");\n\n            $(\"input[name='weight\"+boxNo+\"']\").trigger(\"input\");\n            $(\"select[name='packing\"+boxNo+\"']\").trigger(\"change\");\n\n\n        } else {\n\n            $(\"#other_height\"+boxNo).addClass(\"d-none\");\n            $(\"#other_length\"+boxNo).addClass(\"d-none\");\n            $(\"#other_width\"+boxNo).addClass(\"d-none\");\n            $(\"#other_select\"+boxNo).addClass(\"d-none\");\n\n            $(\"#packing\"+boxNo).removeClass(\"d-none\");\n            $(\"#selectVolume\"+boxNo).removeClass(\"d-none\");\n\n                $('#loader').removeClass('d-none');\n                const url = \"{{route('getUnitValue')}}?id=\" + dataid+\"&boxNo=\"+boxNo+\"&volume=\"+volume+\"&packing=\"+packing;\n                console.log(url);\n                $.ajax({\n                    url: url,\n                    type: \"GET\",\n                    dataType: \"json\",\n                    success: function (result) {\n                        // when call is sucessfull\n                        $('#loader').addClass('d-none');\n\n                        $(\"input[name='unit_value\"+result.boxno+\"']\").val((result.value).toFixed(2));\n                        $(\"input[name='weight\"+result.boxno+\"']\").trigger(\"input\");\n                        $(\"select[name='packing\"+result.boxno+\"']\").trigger(\"change\");\n\n                    }, error: function (er) {\n                        console.log(er);\n                    }\n\n                }); // ajax call closing\n        }\n\n}\n\n\nfunction getValOther(event) {\n    var boxNo =event.dataset.no;\n\n\n    var height = parseFloat($(\"input[name='other_height\"+boxNo+\"']\").val());\n    var length = parseFloat($(\"input[name='other_length\"+boxNo+\"']\").val());\n    var width = parseFloat($(\"input[name='other_width\"+boxNo+\"']\").val());\n    var select = parseFloat($(\"input[name='other_select\"+boxNo+\"']\").val());\n\n    var volume = (height * length * width )/ select;\n\n    var select = $(\"input[name='unit_value\"+boxNo+\"']\").val(volume.toFixed(2));\n\n\n}\n\n\nfunction getVolume(event){\n    var selected_volume  =   event.value;\n    $('.volume').val(selected_volume);\n\n    var shiping_method =  $(\"#shiping_method option:selected\").attr('data-shiptypeid');\n    var collected_by = $(\"#collected_by\").val();\n\n    $(\"#shipping_method_id\").val(shiping_method);\n\n        $('#loader').removeClass('d-none');\n        const url = \"{{route('getRate')}}?collected_by=\" + collected_by+\"&shiping_method=\"+shiping_method;\n        console.log(url);\n        $.ajax({\n            url: url,\n            type: \"GET\",\n            dataType: \"json\",\n            success: function (result) {\n                // when call is sucessfull\n                $(\".box-rate\").val( result.rate);\n                // $(\"input[name='rate_normal_weight']\").val(result.rate);\n\n                $(\".box-rate\").trigger(\"input\");\n                // $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n\n\n\n            }, error: function (er) {\n                console.log(er);\n            }\n\n        }); // ajax call closing\n\n}\n\n\nfunction getRate(event){\n\n    var shiping_method =  $(\"#shiping_method option:selected\").attr('data-shiptypeid');\n    var collected_by = $(\"#collected_by\").val();\n\n        $('#loader').removeClass('d-none');\n        const url = \"{{route('getRate')}}?collected_by=\" + collected_by+\"&shiping_method=\"+shiping_method;\n        console.log(url);\n        $.ajax({\n            url: url,\n            type: \"GET\",\n            dataType: \"json\",\n            success: function (result) {\n                // when call is sucessfull\n                $(\".box-rate\").val( result.rate);\n                $(\"input[name='rate_normal_weight']\").val(result.rate);\n\n                $(\".box-rate\").trigger(\"input\");\n                $(\"input[name='rate_normal_weight']\").trigger(\"keyup\");\n\n\n\n            }, error: function (er) {\n                console.log(er);\n            }\n\n        }); // ajax call closing\n\n}\n\nfunction getBoxPackingVal(event) {\n\n    var pack_charge = isNaN(parseFloat($(\"#packing_charge\").val()))? 0 : parseFloat($(\"#packing_charge\").val());\n\n    var boxNo = event.dataset.no;\n\n    var dimension_id = parseFloat($(\"select[name='dimension\"+boxNo+\"']\").val());\n    var packing_id = parseFloat($(\"select[name='packing\"+boxNo+\"']\").val());\n\n     $('#loader').removeClass('d-none');\n        const url = \"{{route('getBoxPackingCharge')}}?dimension_id=\" + dimension_id+\"&packing_id=\"+packing_id;\n        console.log(url);\n        $.ajax({\n            url: url,\n            type: \"GET\",\n            dataType: \"json\",\n            success: function (result) {\n                // when call is sucessfull\n                console.log(result, result.packing_rate);\n                console.log( pack_charge + parseFloat(result.packing_rate) );\n\n                $(\"input[name='box_packing_charge\"+boxNo+\"']\").val(result.packing_rate);\n                $(\".box_packing_charge\").trigger(\"input\");\n\n            }, error: function (er) {\n                console.log(er);\n            }\n\n        }); // ajax call closing\n\n\n\n}\n\n\n</script>\n\n@endsection\n"
        }
    ]
}